{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\pages\\\\orders\\\\Edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport Icon from 'react-icons-kit';\nimport { useForm } from 'react-hook-form';\nimport { Link, useParams } from 'react-router-dom';\nimport { chevronLeft } from 'react-icons-kit/feather';\nimport { PreLoader } from '../../components/loading/Index';\nimport { CustomButton } from '../../components/button';\nimport { SingleSelect } from '../../components/select';\nimport { districts } from '../../utils/location/districts';\nimport Requests from '../../utils/Requests/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Edit = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const selectedField = useRef();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [isLoading, setLoading] = useState(true);\n  const [update, setUpdate] = useState(false);\n  const [data, setData] = useState({});\n  const [shippingArea, setShippingArea] = useState({\n    value: null,\n    error: null\n  });\n  const [postCode, setPostCode] = useState({\n    value: null,\n    options: [],\n    error: null\n  });\n  const [postOffice, setPostOffice] = useState(null);\n  const [upzila, setUpzila] = useState(null);\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  }); // Fetch data\n\n  const fetchData = useCallback(async () => {\n    const response = await Requests.Order.Show(id, header);\n\n    if (response) {\n      setData(response.data);\n      setShippingArea(exArea => ({ ...exArea,\n        value: response.data.shippingArea\n      }));\n      setPostOffice(response.data.postOffice);\n      const result = districts.find(district => district.value === response.data.shippingArea);\n      setPostCode(exCode => ({ ...exCode,\n        value: response.data.postCode,\n        options: result.postCodes\n      }));\n      setUpzila(response.data.upazila);\n    }\n\n    setLoading(false);\n  }, [id, header]);\n  useEffect(() => {\n    fetchData();\n  }, [id, header, fetchData]); // Submit Form\n\n  const onSubmit = async data => {\n    const formData = { ...data,\n      shippingArea: shippingArea.value,\n      postCode: postCode.value,\n      postOffice,\n      upazila: upzila\n    };\n    setUpdate(true);\n    await Requests.Order.UpdateAddress(id, formData, header);\n    setUpdate(false);\n  };\n\n  if (isLoading) return /*#__PURE__*/_jsxDEV(PreLoader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 27\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-show-container pb-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-padding\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card border-0 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header p-3 bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mt-2 mb-0\",\n                    children: \"Edit Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 42\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-auto\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/dashboard/order\",\n                    children: /*#__PURE__*/_jsxDEV(CustomButton, {\n                      style: {\n                        padding: \"7px 9px\"\n                      },\n                      className: \"btn-primary rounded-circle border-0 m-0\",\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: chevronLeft,\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 80,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit(onSubmit),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-4\",\n                      children: [shippingArea.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-danger\",\n                        children: shippingArea.error\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 94,\n                        columnNumber: 71\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Shipping Area\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 94,\n                        columnNumber: 125\n                      }, this), /*#__PURE__*/_jsxDEV(SingleSelect, {\n                        placeholder: \"area\",\n                        error: shippingArea.error,\n                        options: districts,\n                        deafult: shippingArea.value ? {\n                          label: shippingArea.value,\n                          value: shippingArea.value\n                        } : null,\n                        value: event => {\n                          setShippingArea({\n                            value: event.value,\n                            error: null\n                          });\n                          setPostCode(exPostCode => ({ ...exPostCode,\n                            options: event.postCodes\n                          }));\n\n                          if (selectedField.current) {\n                            selectedField.current.select.clearValue();\n                            setPostCode(exPostCode => ({ ...exPostCode,\n                              value: null\n                            }));\n                            setPostOffice(null);\n                            setUpzila(null);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-3\",\n                      children: [errors.deliveryAddress && errors.deliveryAddress.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-danger\",\n                        children: errors.deliveryAddress && errors.deliveryAddress.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Delivery address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"deliveryAddress\",\n                        className: \"form-control shadow-none\",\n                        placeholder: \"Enter address\",\n                        defaultValue: data.deliveryAddress,\n                        ref: register({\n                          required: \"Delivery address is required\"\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-4\",\n                      children: [postCode.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-danger\",\n                        children: postCode.error\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 67\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Post office / Post code\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 117\n                      }, this), /*#__PURE__*/_jsxDEV(SingleSelect, {\n                        refs: selectedField,\n                        options: postCode.options,\n                        placeholder: 'post code',\n                        deafult: postCode.value ? {\n                          label: postCode.value,\n                          value: postCode.value\n                        } : null,\n                        value: event => {\n                          if (event) {\n                            setPostCode({ ...postCode,\n                              value: event.value,\n                              error: null\n                            });\n                            setPostOffice(event.postOffice);\n                            setUpzila(event.upazila);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: /*#__PURE__*/_jsxDEV(CustomButton, {\n                    type: \"submit\",\n                    className: \"btn-success border-0 px-4 shadow-none\",\n                    disabled: update,\n                    children: update ? 'Updating ...' : 'Update'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Edit, \"dgoR0H7ZO1DwG5vhnEwI3wVDFR8=\", false, function () {\n  return [useParams, useForm];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["D:/previous/src/pages/orders/Edit.js"],"names":["React","useState","useEffect","useCallback","useRef","Icon","useForm","Link","useParams","chevronLeft","PreLoader","CustomButton","SingleSelect","districts","Requests","Edit","id","selectedField","register","handleSubmit","errors","isLoading","setLoading","update","setUpdate","data","setData","shippingArea","setShippingArea","value","error","postCode","setPostCode","options","postOffice","setPostOffice","upzila","setUpzila","header","headers","Authorization","localStorage","getItem","fetchData","response","Order","Show","exArea","result","find","district","exCode","postCodes","upazila","onSubmit","formData","UpdateAddress","padding","label","event","exPostCode","current","select","clearValue","deliveryAddress","message","required"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react'\nimport Icon from 'react-icons-kit'\nimport { useForm } from 'react-hook-form'\nimport { Link, useParams } from 'react-router-dom'\nimport { chevronLeft } from 'react-icons-kit/feather'\nimport { PreLoader } from '../../components/loading/Index'\nimport { CustomButton } from '../../components/button'\nimport { SingleSelect } from '../../components/select'\nimport { districts } from '../../utils/location/districts'\nimport Requests from '../../utils/Requests/Index'\n\nconst Edit = () => {\n    const { id } = useParams()\n    const selectedField = useRef()\n    const { register, handleSubmit, errors } = useForm()\n    const [isLoading, setLoading] = useState(true)\n    const [update, setUpdate] = useState(false)\n    const [data, setData] = useState({})\n\n    const [shippingArea, setShippingArea] = useState({ value: null, error: null })\n    const [postCode, setPostCode] = useState({ value: null, options: [], error: null })\n    const [postOffice, setPostOffice] = useState(null)\n    const [upzila, setUpzila] = useState(null)\n\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        const response = await Requests.Order.Show(id, header)\n        if (response) {\n            setData(response.data)\n            setShippingArea(exArea => ({ ...exArea, value: response.data.shippingArea }))\n            setPostOffice(response.data.postOffice)\n\n            const result = districts.find(district => district.value === response.data.shippingArea)\n            setPostCode(exCode => ({ ...exCode, value: response.data.postCode, options: result.postCodes }))\n            setUpzila(response.data.upazila)\n        }\n        setLoading(false)\n    }, [id, header])\n\n    useEffect(() => {\n        fetchData()\n    }, [id, header, fetchData])\n\n    // Submit Form\n    const onSubmit = async (data) => {\n        const formData = {\n            ...data,\n            shippingArea: shippingArea.value,\n            postCode: postCode.value,\n            postOffice,\n            upazila: upzila\n        }\n\n        setUpdate(true)\n        await Requests.Order.UpdateAddress(id, formData, header)\n        setUpdate(false)\n    }\n\n    if (isLoading) return <PreLoader />\n\n    return (\n        <div className=\"order-show-container pb-4\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-header p-3 bg-white\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mt-2 mb-0\">Edit Order</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link to=\"/dashboard/order\">\n                                            <CustomButton\n                                                style={{ padding: \"7px 9px\" }}\n                                                className=\"btn-primary rounded-circle border-0 m-0\"\n                                            >\n                                                <Icon icon={chevronLeft} size={20} />\n                                            </CustomButton>\n                                        </Link>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"card-body p-3\">\n                                <form onSubmit={handleSubmit(onSubmit)}>\n\n                                    <div className=\"row\">\n\n                                        {/* Shipping Area */}\n                                        <div className=\"col-12 col-lg-6\">\n                                            <div className=\"form-group mb-4\">\n                                                {shippingArea.error ? <p className=\"text-danger\">{shippingArea.error}</p> : <p>Shipping Area</p>}\n\n                                                <SingleSelect\n                                                    placeholder=\"area\"\n                                                    error={shippingArea.error}\n                                                    options={districts}\n                                                    deafult={shippingArea.value ? { label: shippingArea.value, value: shippingArea.value } : null}\n                                                    value={event => {\n                                                        setShippingArea({ value: event.value, error: null })\n                                                        setPostCode(exPostCode => ({ ...exPostCode, options: event.postCodes }))\n\n                                                        if (selectedField.current) {\n                                                            selectedField.current.select.clearValue()\n                                                            setPostCode(exPostCode => ({ ...exPostCode, value: null }))\n                                                            setPostOffice(null)\n                                                            setUpzila(null)\n                                                        }\n                                                    }}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* Delivery address */}\n                                        <div className=\"col-12 col-lg-6\">\n                                            <div className=\"form-group mb-3\">\n                                                {errors.deliveryAddress && errors.deliveryAddress.message ? (\n                                                    <p className=\"text-danger\">{errors.deliveryAddress && errors.deliveryAddress.message}</p>\n                                                ) : <p>Delivery address</p>}\n\n                                                <input\n                                                    type=\"text\"\n                                                    name=\"deliveryAddress\"\n                                                    className=\"form-control shadow-none\"\n                                                    placeholder=\"Enter address\"\n                                                    defaultValue={data.deliveryAddress}\n                                                    ref={register({ required: \"Delivery address is required\" })}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* Post Code */}\n                                        <div className=\"col-12\">\n                                            <div className=\"form-group mb-4\">\n                                                {postCode.error ? <p className=\"text-danger\">{postCode.error}</p> : <p>Post office / Post code</p>}\n\n                                                <SingleSelect\n                                                    refs={selectedField}\n                                                    options={postCode.options}\n                                                    placeholder={'post code'}\n                                                    deafult={postCode.value ? { label: postCode.value, value: postCode.value } : null}\n                                                    value={event => {\n                                                        if (event) {\n                                                            setPostCode({ ...postCode, value: event.value, error: null })\n                                                            setPostOffice(event.postOffice)\n                                                            setUpzila(event.upazila)\n                                                        }\n                                                    }}\n                                                />\n                                            </div>\n                                        </div>\n\n                                    </div>\n\n                                    <div className=\"text-right\">\n                                        <CustomButton\n                                            type=\"submit\"\n                                            className=\"btn-success border-0 px-4 shadow-none\"\n                                            disabled={update}\n                                        >\n                                            {update ? 'Updating ...' : 'Update'}\n                                        </CustomButton>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}