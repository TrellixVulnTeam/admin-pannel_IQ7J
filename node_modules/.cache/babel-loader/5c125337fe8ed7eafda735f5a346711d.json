{"ast":null,"code":"import _objectSpread from\"D:/previous/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useRef,useEffect,useCallback}from'react';import TimePicker from'react-time-picker';import{Controller,useForm}from'react-hook-form';import{MultiSelect,SearchableSelect}from'../../select';import{DatePickerNew}from'../../datePickerNew/Index';import Requests from'../../../utils/Requests/Index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ShippingForm=function ShippingForm(props){var onClearRef=useRef();var _useForm=useForm(),control=_useForm.control,register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors,setError=_useForm.setError,clearErrors=_useForm.clearErrors;var _useState=useState(props.data?props.data.assign_to:'Brand'),_useState2=_slicedToArray(_useState,2),assignTo=_useState2[0],setAssignTo=_useState2[1];var _useState3=useState(props.data&&props.data.start_from?props.data.start_from:new Date()),_useState4=_slicedToArray(_useState3,2),startDate=_useState4[0],setStartDate=_useState4[1];var _useState5=useState(props.data&&props.data.end_to?props.data.end_to:new Date()),_useState6=_slicedToArray(_useState5,2),endDate=_useState6[0],setEndDate=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),division=_useState8[0],setDivision=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),divisionLabel=_useState10[0],setDivisionLabel=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),districtLabel=_useState12[0],setDistrictLabel=_useState12[1];var _useState13=useState(props.data&&props.data.division&&props.data.division.length>0?_toConsumableArray(props.data.district.map(function(item){return item._id;})):[]),_useState14=_slicedToArray(_useState13,2),selectedDivision=_useState14[0],setSelectedDivision=_useState14[1];var _useState15=useState(props.data&&props.data.district&&props.data.district.length>0?_toConsumableArray(props.data.district.map(function(item){return item._id;})):[]),_useState16=_slicedToArray(_useState15,2),selectedDistrict=_useState16[0],setSelectedDistrict=_useState16[1];var _useState17=useState(props.data&&props.data.area&&props.data.area.length>0?_toConsumableArray(props.data.area.map(function(item){return item._id;})):[]),_useState18=_slicedToArray(_useState17,2),area=_useState18[0],setArea=_useState18[1];var _useState19=useState(props.data&&props.data.assign_items&&props.data.assign_items.length>0?_toConsumableArray(props.data.assign_items.map(function(item){return item._id;})):[]),_useState20=_slicedToArray(_useState19,2),assignItems=_useState20[0],setAssignItems=_useState20[1];var _useState21=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState22=_slicedToArray(_useState21,1),header=_useState22[0];/* handle search */var handleSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var response,results,i,element;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;results=[];if(!(assignTo===\"Brand\")){_context.next=8;break;}_context.next=5;return Requests.Options.Brand(data,header);case 5:response=_context.sent;_context.next=39;break;case 8:if(!(assignTo===\"Category\")){_context.next=14;break;}_context.next=11;return Requests.Options.Category(data,header);case 11:response=_context.sent;_context.next=39;break;case 14:if(!(assignTo===\"Sub-category\")){_context.next=20;break;}_context.next=17;return Requests.Options.SubCategory(data,header);case 17:response=_context.sent;_context.next=39;break;case 20:if(!(assignTo===\"Leaf-category\")){_context.next=26;break;}_context.next=23;return Requests.Options.LeafCategory(data,header);case 23:response=_context.sent;_context.next=39;break;case 26:if(!(assignTo===\"Vendor\")){_context.next=32;break;}_context.next=29;return Requests.Options.Vendor(data,header);case 29:response=_context.sent;_context.next=39;break;case 32:if(!(assignTo===\"Product\")){_context.next=38;break;}_context.next=35;return Requests.Options.Product(data,header);case 35:response=_context.sent;_context.next=39;break;case 38:results=[];case 39:if(response&&response.data&&response.data.length>0){for(i=0;i<response.data.length;i++){element=response.data[i];results.push({value:element.value,label:element.label});}}return _context.abrupt(\"return\",results);case 43:_context.prev=43;_context.t0=_context[\"catch\"](0);if(_context.t0){console.log(_context.t0.response);}case 46:case\"end\":return _context.stop();}}},_callee,null,[[0,43]]);}));return function handleSearch(_x){return _ref.apply(this,arguments);};}();/* handle search area */var handleSearchArea=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var results,response,i,element;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;results=[];_context2.next=4;return Requests.Services.Shipping.Area.SearchbyDistrict(data,selectedDistrict,header);case 4:response=_context2.sent;if(response&&response.data&&response.data.length>0){for(i=0;i<response.data.length;i++){element=response.data[i];results.push({value:element._id,label:\"\".concat(element.post_office,\"(\").concat(element.post_office_bn_name,\")-\").concat(element.post_code)});}}return _context2.abrupt(\"return\",results);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);if(_context2.t0){console.log(_context2.t0.response);}case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function handleSearchArea(_x2){return _ref2.apply(this,arguments);};}();// Fetch division data\nvar fetchDevisionData=useCallback(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(page){var items,response,i,element;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;items=[];_context3.next=4;return Requests.Services.Shipping.Division.Index(page,10,header);case 4:response=_context3.sent;if(response){if(response.data&&response.data.length>0){for(i=0;i<response.data.length;i++){element=response.data[i];items.push({label:element.name,value:element._id});}}}setDivision(items);_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);if(_context3.t0)console.log(_context3.t0);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}(),[header]);// Handle district search\nvar handleDistrictSearch=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(inputValue){var items,response,i,element;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;items=[];_context4.next=4;return Requests.Services.Shipping.District.SearchbyDivision(inputValue,selectedDivision,header);case 4:response=_context4.sent;if(response){if(response.data&&response.data.length>0){for(i=0;i<response.data.length;i++){element=response.data[i];items.push({label:element.name,value:element._id});}}}return _context4.abrupt(\"return\",items);case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);if(!_context4.t0){_context4.next=13;break;}return _context4.abrupt(\"return\",[]);case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,9]]);}));return function handleDistrictSearch(_x4){return _ref4.apply(this,arguments);};}();useEffect(function(){fetchDevisionData(1);},[header,fetchDevisionData]);/* submit form */var onSubmit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data){var is_error,formData;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:is_error=false;if(!selectedDivision.length){setError(\"selectedDivision\",{type:\"manual\",message:\"Division is required.\"});is_error=true;}// if (!area) {\n//     setError(\"area\", {\n//         type: \"manual\",\n//         message: `Area is required.`\n//     })\n//     is_error = true\n// }\nif(!assignItems.length){setError(\"assign_items\",{type:\"manual\",message:\"\".concat(assignTo,\" is required.\")});is_error=true;}// Time validation check\nif(data.start_time&&data.end_time&&startDate&&endDate){if(Date.parse(startDate)===Date.parse(endDate)){if(data.start_time>data.end_time){setError(\"end_time\",{type:\"manual\",message:\"End time is smaller or before time from the start time.\"});is_error=true;}}}// Maximum amount validation check\nif(data.min_order_amount&&data.max_order_amount){if(parseInt(data.min_order_amount)>parseInt(data.max_order_amount)){setError(\"max_order_amount\",{type:\"manual\",message:\"Maximum order amount is smaller than the minimum order amount.\"});is_error=true;}}// Maximum quantity validation check\nif(data.min_quantity&&data.max_quantity){if(parseInt(data.min_quantity)>parseInt(data.max_quantity)){setError(\"max_quantity\",{type:\"manual\",message:\"Maximum quantity is smaller than the minimum quantity.\"});is_error=true;}}if(!is_error){_context5.next=8;break;}return _context5.abrupt(\"return\");case 8:formData=_objectSpread(_objectSpread({},data),{},{division:selectedDivision,district:selectedDistrict,area:area,assign_to:assignTo,start_from:startDate,end_to:endDate,assign_items:JSON.stringify(assignItems)});// console.log(formData);\nprops.onSubmit(formData);case 10:case\"end\":return _context5.stop();}}},_callee5);}));return function onSubmit(_x5){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.title&&errors.title.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.title&&errors.title.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",className:\"form-control shadow-none\",placeholder:\"Enter shipping title\",defaultValue:props.data?props.data.title:null,ref:register({required:\"Title is required\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.start_from&&errors.start_from.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.start_from&&errors.start_from.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Start date\"}),/*#__PURE__*/_jsx(DatePickerNew,{selected:function selected(data){setStartDate(data);if(endDate&&data){if(Date.parse(endDate)<Date.parse(data)){setError(\"start_from\",{type:\"manual\",message:\"Start date is larger or after date from the end date.\"});}else{clearErrors(\"start_from\");}}},deafultValue:startDate})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.end_to&&errors.end_to.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.end_to&&errors.end_to.message}):/*#__PURE__*/_jsx(\"p\",{children:\"End date\"}),/*#__PURE__*/_jsx(DatePickerNew,{selected:function selected(data){setEndDate(data);if(startDate&&data){if(Date.parse(startDate)>Date.parse(data)){setError(\"end_to\",{type:\"manual\",message:\"End date is smaller or before date from the start date.\"});}else{clearErrors(\"end_to\");}}},deafultValue:endDate})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.start_time&&errors.start_time.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.start_time&&errors.start_time.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Start time\"}),/*#__PURE__*/_jsx(Controller,{name:\"start_time\",control:control,rules:{required:\"Start time is required.\"},defaultValue:props.data?props.data.start_time:null,render:function render(_ref6){var onChange=_ref6.onChange,value=_ref6.value;return/*#__PURE__*/_jsx(TimePicker,{value:props.data?props.data.start_time:value,onChange:onChange});}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.end_time&&errors.end_time.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.end_time&&errors.end_time.message}):/*#__PURE__*/_jsx(\"p\",{children:\"End time\"}),/*#__PURE__*/_jsx(Controller,{name:\"end_time\",control:control,rules:{required:\"End time is required.\"},defaultValue:props.data?props.data.end_time:null,render:function render(_ref7){var onChange=_ref7.onChange,value=_ref7.value;return/*#__PURE__*/_jsx(TimePicker,{value:props.data?props.data.end_time:value,onChange:onChange});}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.discount_type&&errors.discount_type.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.discount_type&&errors.discount_type.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Discount type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"discount_type\",className:\"form-control shadow-none\",ref:register({required:\"Discount type is required\"}),defaultValue:props.data?props.data.discount_type:null,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Flat\",children:\"Flat\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Percentage\",children:\"Percentage\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.discount_amount&&errors.discount_amount.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.discount_amount&&errors.discount_amount.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Discount amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"discount_amount\",className:\"form-control shadow-none\",placeholder:\"Enter amount\",defaultValue:props.data?props.data.discount_amount:null,ref:register({required:\"Amount is required\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.min_order_amount&&errors.min_order_amount.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.min_order_amount&&errors.min_order_amount.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Minimum order amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,name:\"min_order_amount\",className:\"form-control shadow-none\",placeholder:\"Enter amount\",defaultValue:props.data?props.data.min_order_amount:null,ref:register()})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.max_order_amount&&errors.max_order_amount.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.max_order_amount&&errors.max_order_amount.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Maximum order amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,name:\"max_order_amount\",className:\"form-control shadow-none\",placeholder:\"Enter amount\",defaultValue:props.data?props.data.max_order_amount:null,ref:register()})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.min_quantity&&errors.min_quantity.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.min_quantity&&errors.min_quantity.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Minimum product quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,name:\"min_quantity\",className:\"form-control shadow-none\",placeholder:\"Enter amount\",defaultValue:props.data?props.data.min_quantity:null,ref:register()})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.max_quantity&&errors.max_quantity.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.max_quantity&&errors.max_quantity.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Maximum product quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,name:\"max_quantity\",className:\"form-control shadow-none\",placeholder:\"Enter amount\",defaultValue:props.data?props.data.max_quantity:null,ref:register()})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.selectedDivision&&errors.selectedDivision.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-13 mb-0\",children:errors.selectedDivision&&errors.selectedDivision.message}):/*#__PURE__*/_jsxs(\"p\",{className:\"fs-13 mb-0\",children:[\"Division \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(MultiSelect,{placeholder:\" division\",deafult:props.data&&props.data.division?props.data.division:null,options:division,values:function values(event){setSelectedDivision(event.map(function(item){return item.value;}));event.map(function(item){return setDivisionLabel(item.label);});clearErrors(\"selectedDivision\");}})]})}),selectedDistrict&&selectedDivision.length>0&&divisionLabel!==\"All\"?/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.selectedDistrict&&errors.selectedDistrict.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fs-13 mb-0\",children:errors.selectedDistrict&&errors.selectedDistrict.message}):/*#__PURE__*/_jsx(\"p\",{className:\"fs-13 mb-0\",children:\" District \"}),/*#__PURE__*/_jsx(SearchableSelect,{isMulti:true,placeholder:\"Search district\",defaultValue:// props.data && props.data.district ?\n// {\n//     label: props.data.district.name,\n//     value: props.data.district._id\n// }\nprops.data&&props.data.district&&props.data.district.length>0?props.data.district.map(function(item){return{label:item.name,value:item._id};}):null,search:function search(inputValue){return handleDistrictSearch(inputValue);},values:function values(data){setSelectedDistrict(data.map(function(item){return item.value;}));data.map(function(item){return setDistrictLabel(item.label);});clearErrors(\"selectedDistrict\");},borderRadius:5})]})}):null,selectedDistrict&&selectedDistrict.length>0&&districtLabel!==\"All\"?/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.area&&errors.area.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.area&&errors.area.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Area\"}),/*#__PURE__*/_jsx(SearchableSelect,{isMulti:true,borderRadius:4,refs:onClearRef,placeholder:\"area\",defaultValue:// props.data && props.data.area ?\n// {\n//     value: props.data.area._id,\n//     label: `${props.data.area.post_office}(${props.data.area.post_office_bn_name})-${props.data.area.post_code}`\n// }\n// : null\nprops.data&&props.data.area&&props.data.area.length>0?props.data.area.map(function(item){return{value:item._id,label:\"\".concat(item.post_office,\"(\").concat(item.post_office_bn_name,\")-\").concat(item.post_code)};}):null,search:function search(query){return handleSearchArea(query);},values:function values(event){setArea(event.map(function(item){return item.value;}));clearErrors(\"area\");}})]})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Assign To\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"assign_to\",className:\"form-control shadow-none\",ref:register({required:\"Assign to is required\"}),defaultValue:props.data?props.data.assign_to:null,onChange:function onChange(event){setAssignItems([]);onClearRef.current.select.setState({value:null});clearErrors(\"assign_items\");setAssignTo(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Brand\",children:\"Brand\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Category\",children:\"Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sub-category\",children:\"Sub-category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Leaf-category\",children:\"Leaf-category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Vendor\",children:\"Vendor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Product\",children:\"Product\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.assign_items&&errors.assign_items.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.assign_items&&errors.assign_items.message}):/*#__PURE__*/_jsxs(\"p\",{children:[\"Select \",assignTo.toLowerCase()]}),/*#__PURE__*/_jsx(SearchableSelect,{isMulti:true,borderRadius:4,refs:onClearRef,placeholder:assignTo,defaultValue:props.data&&props.data.assign_items&&props.data.assign_items.length>0?props.data.assign_items.map(function(item){return{label:item.name,value:item._id};}):null,search:function search(query){return handleSearch(query);},values:function values(event){setAssignItems(event.map(function(item){return item.value;}));clearErrors(\"assign_items\");}})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn shadow-none\",disabled:props.loading,children:props.loading?'Loading...':props.formType===\"edit\"?\"Save changes\":\"Create\"})})]})});};","map":{"version":3,"sources":["D:/previous/src/components/form/shipping/index.js"],"names":["React","useState","useRef","useEffect","useCallback","TimePicker","Controller","useForm","MultiSelect","SearchableSelect","DatePickerNew","Requests","ShippingForm","props","onClearRef","control","register","handleSubmit","errors","setError","clearErrors","data","assign_to","assignTo","setAssignTo","start_from","Date","startDate","setStartDate","end_to","endDate","setEndDate","division","setDivision","divisionLabel","setDivisionLabel","districtLabel","setDistrictLabel","length","district","map","item","_id","selectedDivision","setSelectedDivision","selectedDistrict","setSelectedDistrict","area","setArea","assign_items","assignItems","setAssignItems","headers","Authorization","localStorage","getItem","header","handleSearch","results","Options","Brand","response","Category","SubCategory","LeafCategory","Vendor","Product","i","element","push","value","label","console","log","handleSearchArea","Services","Shipping","Area","SearchbyDistrict","post_office","post_office_bn_name","post_code","fetchDevisionData","page","items","Division","Index","name","handleDistrictSearch","inputValue","District","SearchbyDivision","onSubmit","is_error","type","message","start_time","end_time","parse","min_order_amount","max_order_amount","parseInt","min_quantity","max_quantity","formData","JSON","stringify","title","required","onChange","discount_type","discount_amount","event","query","current","select","setState","target","toLowerCase","loading","formType"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react'\nimport TimePicker from 'react-time-picker'\nimport { Controller, useForm } from 'react-hook-form'\nimport { MultiSelect, SearchableSelect } from '../../select'\nimport { DatePickerNew } from '../../datePickerNew/Index'\nimport Requests from '../../../utils/Requests/Index'\n\n\nexport const ShippingForm = (props) => {\n    const onClearRef = useRef()\n    const { control, register, handleSubmit, errors, setError, clearErrors } = useForm()\n    const [assignTo, setAssignTo] = useState(props.data ? props.data.assign_to : 'Brand')\n    const [startDate, setStartDate] = useState(props.data && props.data.start_from ? props.data.start_from : new Date());\n    const [endDate, setEndDate] = useState(props.data && props.data.end_to ? props.data.end_to : new Date());\n    const [division, setDivision] = useState([])\n    const [divisionLabel, setDivisionLabel] = useState(null)\n    const [districtLabel, setDistrictLabel] = useState(null)\n\n    const [selectedDivision, setSelectedDivision] = useState(props.data && props.data.division && props.data.division.length > 0 ?\n        [...props.data.district.map(item => { return item._id })]\n        : [])\n    const [selectedDistrict, setSelectedDistrict] = useState(props.data && props.data.district && props.data.district.length > 0 ?\n        [...props.data.district.map(item => { return item._id })]\n        : [])\n    const [area, setArea] = useState(props.data && props.data.area && props.data.area.length > 0 ?\n        [...props.data.area.map(item => { return item._id })]\n        : [])\n    const [assignItems, setAssignItems] = useState(\n        props.data && props.data.assign_items && props.data.assign_items.length > 0 ?\n            [...props.data.assign_items.map(item => { return item._id })]\n            : []\n    )\n\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    /* handle search */\n    const handleSearch = async (data) => {\n        try {\n            let response\n            let results = []\n\n            if (assignTo === \"Brand\") {\n                response = await Requests.Options.Brand(data, header)\n            }\n\n            else if (assignTo === \"Category\") {\n                response = await Requests.Options.Category(data, header)\n            }\n\n            else if (assignTo === \"Sub-category\") {\n                response = await Requests.Options.SubCategory(data, header)\n            }\n\n            else if (assignTo === \"Leaf-category\") {\n                response = await Requests.Options.LeafCategory(data, header)\n            }\n\n            else if (assignTo === \"Vendor\") {\n                response = await Requests.Options.Vendor(data, header)\n            }\n\n            else if (assignTo === \"Product\") {\n                response = await Requests.Options.Product(data, header)\n            }\n\n            else {\n                results = []\n            }\n\n            if (response && response.data && response.data.length > 0) {\n                for (let i = 0; i < response.data.length; i++) {\n                    const element = response.data[i]\n                    results.push({\n                        value: element.value,\n                        label: element.label\n                    })\n                }\n            }\n\n            return results\n        } catch (error) {\n            if (error) {\n                console.log(error.response)\n            }\n        }\n    }\n\n    /* handle search area */\n    const handleSearchArea = async (data) => {\n        try {\n            let results = []\n\n            const response = await Requests.Services.Shipping.Area.SearchbyDistrict(data, selectedDistrict, header)\n            if (response && response.data && response.data.length > 0) {\n                for (let i = 0; i < response.data.length; i++) {\n                    const element = response.data[i]\n                    results.push({\n                        value: element._id,\n                        label: `${element.post_office}(${element.post_office_bn_name})-${element.post_code}`\n                    })\n                }\n            }\n\n            return results\n        } catch (error) {\n            if (error) {\n                console.log(error.response)\n            }\n        }\n    }\n\n    // Fetch division data\n    const fetchDevisionData = useCallback(async (page) => {\n        try {\n            const items = []\n            const response = await Requests.Services.Shipping.Division.Index(page, 10, header)\n            if (response) {\n                if (response.data && response.data.length > 0) {\n                    for (let i = 0; i < response.data.length; i++) {\n                        const element = response.data[i]\n                        items.push({\n                            label: element.name,\n                            value: element._id,\n                        })\n                    }\n                }\n            }\n            setDivision(items)\n        } catch (error) {\n            if (error) console.log(error);\n        }\n    }, [header])\n\n    // Handle district search\n    const handleDistrictSearch = async (inputValue) => {\n        try {\n            const items = []\n            const response = await Requests.Services.Shipping.District.SearchbyDivision(inputValue, selectedDivision, header)\n            if (response) {\n                if (response.data && response.data.length > 0) {\n                    for (let i = 0; i < response.data.length; i++) {\n                        const element = response.data[i]\n                        items.push({\n                            label: element.name,\n                            value: element._id,\n                        })\n                    }\n                }\n            }\n            return items\n        } catch (error) {\n            if (error) return []\n        }\n    }\n\n    useEffect(() => {\n        fetchDevisionData(1)\n    }, [header, fetchDevisionData])\n\n    /* submit form */\n    const onSubmit = async (data) => {\n        let is_error = false\n\n        if (!selectedDivision.length) {\n            setError(\"selectedDivision\", {\n                type: \"manual\",\n                message: \"Division is required.\"\n            })\n            is_error = true\n        }\n\n        // if (!area) {\n        //     setError(\"area\", {\n        //         type: \"manual\",\n        //         message: `Area is required.`\n        //     })\n        //     is_error = true\n        // }\n\n        if (!assignItems.length) {\n            setError(\"assign_items\", {\n                type: \"manual\",\n                message: `${assignTo} is required.`\n            })\n            is_error = true\n        }\n\n        // Time validation check\n        if (data.start_time && data.end_time && startDate && endDate) {\n            if (Date.parse(startDate) === Date.parse(endDate)) {\n                if (data.start_time > data.end_time) {\n                    setError(\"end_time\", {\n                        type: \"manual\",\n                        message: `End time is smaller or before time from the start time.`\n                    })\n                    is_error = true\n                }\n            }\n        }\n\n        // Maximum amount validation check\n        if (data.min_order_amount && data.max_order_amount) {\n            if (parseInt(data.min_order_amount) > parseInt(data.max_order_amount)) {\n                setError(\"max_order_amount\", {\n                    type: \"manual\",\n                    message: `Maximum order amount is smaller than the minimum order amount.`\n                })\n                is_error = true\n            }\n        }\n\n        // Maximum quantity validation check\n        if (data.min_quantity && data.max_quantity) {\n            if (parseInt(data.min_quantity) > parseInt(data.max_quantity)) {\n                setError(\"max_quantity\", {\n                    type: \"manual\",\n                    message: `Maximum quantity is smaller than the minimum quantity.`\n                })\n                is_error = true\n            }\n        }\n\n        if (is_error) return\n\n        const formData = {\n            ...data,\n            division: selectedDivision,\n            district: selectedDistrict,\n            area: area,\n            assign_to: assignTo,\n            start_from: startDate,\n            end_to: endDate,\n            assign_items: JSON.stringify(assignItems)\n        }\n        // console.log(formData);\n        props.onSubmit(formData)\n    }\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"row\">\n\n                    {/* Title */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            {errors.title && errors.title.message ? (\n                                <p className=\"text-danger\">{errors.title && errors.title.message}</p>\n                            ) : <p>Title</p>}\n\n                            <input\n                                type=\"text\"\n                                name=\"title\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter shipping title\"\n                                defaultValue={props.data ? props.data.title : null}\n                                ref={register({ required: \"Title is required\" })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Start from date */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.start_from && errors.start_from.message ? (\n                                <p className=\"text-danger\">{errors.start_from && errors.start_from.message}</p>\n                            ) : <p>Start date</p>}\n\n                            {/* <Controller\n                                name={\"start_from\"}\n                                control={control}\n                                rules={{ required: \"Start date is required.\" }}\n                                defaultValue={props.data ? props.data.start_from : null}\n                                render={({ onChange, value }) => (\n                                    <DatePicker\n                                        className=\"form-control shadow-none\"\n                                        placeholderText=\"Select date\"\n                                        selected={props.data ? new Date(props.data.start_from) : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            /> */}\n\n                            <DatePickerNew\n                                selected={data => {\n                                    setStartDate(data)\n                                    if (endDate && data) {\n                                        if (Date.parse(endDate) < Date.parse(data)) {\n                                            setError(\"start_from\", {\n                                                type: \"manual\",\n                                                message: `Start date is larger or after date from the end date.`\n                                            })\n                                        }\n                                        else {\n                                            clearErrors(\"start_from\")\n                                        }\n                                    }\n                                }}\n                                deafultValue={startDate}\n                            />\n                        </div>\n                    </div>\n\n                    {/* End to date */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.end_to && errors.end_to.message ? (\n                                <p className=\"text-danger\">{errors.end_to && errors.end_to.message}</p>\n                            ) : <p>End date</p>}\n\n                            {/* <Controller\n                                name={\"end_to\"}\n                                control={control}\n                                rules={{ required: \"End date is required.\" }}\n                                defaultValue={props.data ? props.data.end_to : null}\n                                render={({ onChange, value }) => (\n                                    <DatePicker\n                                        className=\"form-control shadow-none\"\n                                        placeholderText=\"Select date\"\n                                        selected={props.data ? new Date(props.data.end_to) : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            /> */}\n\n                            <DatePickerNew\n                                selected={data => {\n                                    setEndDate(data)\n                                    if (startDate && data) {\n                                        if (Date.parse(startDate) > Date.parse(data)) {\n                                            setError(\"end_to\", {\n                                                type: \"manual\",\n                                                message: `End date is smaller or before date from the start date.`\n                                            })\n                                        }\n                                        else {\n                                            clearErrors(\"end_to\")\n                                        }\n                                    }\n                                }}\n                                deafultValue={endDate}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Start Time */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.start_time && errors.start_time.message ? (\n                                <p className=\"text-danger\">{errors.start_time && errors.start_time.message}</p>\n                            ) : <p>Start time</p>}\n\n                            <Controller\n                                name={\"start_time\"}\n                                control={control}\n                                rules={{ required: \"Start time is required.\" }}\n                                defaultValue={props.data ? props.data.start_time : null}\n                                render={({ onChange, value }) => (\n                                    <TimePicker\n                                        value={props.data ? props.data.start_time : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            />\n                        </div>\n                    </div>\n\n                    {/* End Time */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.end_time && errors.end_time.message ? (\n                                <p className=\"text-danger\">{errors.end_time && errors.end_time.message}</p>\n                            ) : <p>End time</p>}\n\n                            <Controller\n                                name={\"end_time\"}\n                                control={control}\n                                rules={{ required: \"End time is required.\" }}\n                                defaultValue={props.data ? props.data.end_time : null}\n                                render={({ onChange, value }) => (\n                                    <TimePicker\n                                        value={props.data ? props.data.end_time : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Discount type */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.discount_type && errors.discount_type.message ? (\n                                <p className=\"text-danger\">{errors.discount_type && errors.discount_type.message}</p>\n                            ) : <p>Discount type</p>}\n\n                            <select\n                                name=\"discount_type\"\n                                className=\"form-control shadow-none\"\n                                ref={register({ required: \"Discount type is required\" })}\n                                defaultValue={props.data ? props.data.discount_type : null}\n                            >\n                                <option value=\"Flat\">Flat</option>\n                                <option value=\"Percentage\">Percentage</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {/* Discount amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.discount_amount && errors.discount_amount.message ? (\n                                <p className=\"text-danger\">{errors.discount_amount && errors.discount_amount.message}</p>\n                            ) : <p>Discount amount</p>}\n\n                            <input\n                                type=\"number\"\n                                name=\"discount_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.discount_amount : null}\n                                ref={register({ required: \"Amount is required\" })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Minimum order amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.min_order_amount && errors.min_order_amount.message ? (\n                                <p className=\"text-danger\">{errors.min_order_amount && errors.min_order_amount.message}</p>\n                            ) : <p>Minimum order amount</p>}\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"min_order_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.min_order_amount : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Maximum order amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.max_order_amount && errors.max_order_amount.message ? (\n                                <p className=\"text-danger\">{errors.max_order_amount && errors.max_order_amount.message}</p>\n                            ) : <p>Maximum order amount</p>}\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"max_order_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.max_order_amount : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Minimum product quantity */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.min_quantity && errors.min_quantity.message ? (\n                                <p className=\"text-danger\">{errors.min_quantity && errors.min_quantity.message}</p>\n                            ) : <p>Minimum product quantity</p>}\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"min_quantity\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.min_quantity : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Maximum product quantity */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.max_quantity && errors.max_quantity.message ? (\n                                <p className=\"text-danger\">{errors.max_quantity && errors.max_quantity.message}</p>\n                            ) : <p>Maximum product quantity</p>}\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"max_quantity\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.max_quantity : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Division */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            {errors.selectedDivision && errors.selectedDivision.message ?\n                                <p className=\"text-danger fs-13 mb-0\">{errors.selectedDivision && errors.selectedDivision.message}</p>\n                                : <p className=\"fs-13 mb-0\">Division <span className=\"text-danger\">*</span></p>}\n                            <MultiSelect\n                                placeholder=\" division\"\n                                deafult={props.data && props.data.division ? props.data.division : null}\n                                options={division}\n                                values={event => {\n                                    setSelectedDivision(event.map(item => { return item.value }))\n                                    event.map(item => setDivisionLabel(item.label))\n                                    clearErrors(\"selectedDivision\")\n                                }}\n                            />\n                        </div>\n                    </div>\n\n                    {/* select district */}\n                    {selectedDistrict && selectedDivision.length > 0 && divisionLabel !== \"All\" ?\n                        <div className=\"col-12\">\n                            <div className=\"form-group mb-4\">\n                                {errors.selectedDistrict && errors.selectedDistrict.message ?\n                                    <p className=\"text-danger fs-13 mb-0\">{errors.selectedDistrict && errors.selectedDistrict.message}</p>\n                                    : <p className=\"fs-13 mb-0\"> District </p>}\n\n                                <SearchableSelect\n                                    isMulti\n                                    placeholder=\"Search district\"\n                                    defaultValue={\n                                        // props.data && props.data.district ?\n                                        // {\n                                        //     label: props.data.district.name,\n                                        //     value: props.data.district._id\n                                        // }\n                                        props.data &&\n                                            props.data.district &&\n                                            props.data.district.length > 0 ?\n                                            props.data.district.map(item => {\n                                                return {\n                                                    label: item.name,\n                                                    value: item._id\n                                                }\n                                            })\n                                            : null\n                                    }\n                                    search={inputValue => handleDistrictSearch(inputValue)}\n                                    values={data => {\n                                        setSelectedDistrict(data.map(item => { return item.value }))\n                                        data.map(item => setDistrictLabel(item.label))\n                                        clearErrors(\"selectedDistrict\")\n                                    }\n                                    }\n                                    borderRadius={5}\n                                />\n                            </div>\n                        </div>\n                        : null}\n\n                    {/* Area */}\n                    {selectedDistrict && selectedDistrict.length > 0 && districtLabel !== \"All\" ?\n                        <div className=\"col-12\">\n                            <div className=\"form-group mb-4\">\n                                {errors.area && errors.area.message ? (\n                                    <p className=\"text-danger\">{errors.area && errors.area.message}</p>\n                                ) : <p>Area</p>}\n\n                                <SearchableSelect\n                                    isMulti\n                                    borderRadius={4}\n                                    refs={onClearRef}\n                                    placeholder={\"area\"}\n                                    defaultValue={\n                                        // props.data && props.data.area ?\n                                        // {\n                                        //     value: props.data.area._id,\n                                        //     label: `${props.data.area.post_office}(${props.data.area.post_office_bn_name})-${props.data.area.post_code}`\n                                        // }\n                                        // : null\n                                        props.data &&\n                                            props.data.area &&\n                                            props.data.area.length > 0 ?\n                                            props.data.area.map(item => {\n                                                return {\n                                                    value: item._id,\n                                                    label: `${item.post_office}(${item.post_office_bn_name})-${item.post_code}`\n                                                }\n                                            })\n                                            : null\n                                    }\n                                    search={query => handleSearchArea(query)}\n                                    values={event => {\n                                        setArea(event.map(item => { return item.value }))\n                                        clearErrors(\"area\")\n                                    }}\n                                />\n                            </div>\n                        </div>\n                        : null}\n\n                    {/* Assign To */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            <p>Assign To</p>\n\n                            <select\n                                name=\"assign_to\"\n                                className=\"form-control shadow-none\"\n                                ref={register({ required: \"Assign to is required\" })}\n                                defaultValue={props.data ? props.data.assign_to : null}\n                                onChange={event => {\n                                    setAssignItems([])\n                                    onClearRef.current.select.setState({ value: null })\n                                    clearErrors(\"assign_items\")\n                                    setAssignTo(event.target.value)\n                                }}\n                            >\n                                <option value=\"Brand\">Brand</option>\n                                <option value=\"Category\">Category</option>\n                                <option value=\"Sub-category\">Sub-category</option>\n                                <option value=\"Leaf-category\">Leaf-category</option>\n                                <option value=\"Vendor\">Vendor</option>\n                                <option value=\"Product\">Product</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {/* Assign items */}\n                    <div className='col-12'>\n                        <div className=\"form-group mb-4\">\n                            {errors.assign_items && errors.assign_items.message ? (\n                                <p className=\"text-danger\">{errors.assign_items && errors.assign_items.message}</p>\n                            ) : <p>Select {assignTo.toLowerCase()}</p>}\n\n                            <SearchableSelect\n                                isMulti\n                                borderRadius={4}\n                                refs={onClearRef}\n                                placeholder={assignTo}\n                                defaultValue={\n                                    props.data &&\n                                        props.data.assign_items &&\n                                        props.data.assign_items.length > 0 ?\n                                        props.data.assign_items.map(item => {\n                                            return {\n                                                label: item.name,\n                                                value: item._id\n                                            }\n                                        })\n                                        : null\n                                }\n                                search={query => handleSearch(query)}\n                                values={event => {\n                                    setAssignItems(event.map(item => { return item.value }))\n                                    clearErrors(\"assign_items\")\n                                }}\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                {/* Submit button */}\n                <div className=\"text-right\">\n                    <button type=\"submit\" className=\"btn shadow-none\" disabled={props.loading}>\n                        {props.loading ? 'Loading...' : props.formType === \"edit\" ? \"Save changes\" : \"Create\"}\n                    </button>\n                </div>\n            </form >\n        </div >\n    );\n}\n"]},"metadata":{},"sourceType":"module"}