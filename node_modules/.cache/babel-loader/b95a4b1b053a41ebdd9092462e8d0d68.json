{"ast":null,"code":"import _objectSpread from\"D:/previous/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState,useCallback}from'react';import{useForm}from'react-hook-form';import{SingleSelect}from'../select';import Requests from'../../utils/Requests/Index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(_ref){var updateItems=_ref.updateItems;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({vendors:[],categories:[]}),_useState4=_slicedToArray(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var _useState5=useState({value:null,error:false}),_useState6=_slicedToArray(_useState5,2),vendor=_useState6[0],setVendor=_useState6[1];var _useState7=useState({value:null,error:false}),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=useState({value:null,error:false}),_useState10=_slicedToArray(_useState9,2),paymentStatus=_useState10[0],setPaymentStatus=_useState10[1];var _useState11=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState12=_slicedToArray(_useState11,1),header=_useState12[0];// Fetch data\nvar fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Requests.Sales.FilterOptions(header);case 2:response=_context.sent;if(response)setOptions({vendors:response.vendors,categories:response.categories});case 4:case\"end\":return _context.stop();}}},_callee);})),[header]);useEffect(function(){fetchData();},[fetchData]);// Submit Form\nvar onSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var formData,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);formData=_objectSpread(_objectSpread({},data),{},{vendor:vendor.value,category:category.value,paymentStatus:paymentStatus.value});_context2.next=4;return Requests.Sales.SalesReport(formData,header);case 4:response=_context2.sent;if(response!==null&&response!==void 0&&response.status)updateItems(response.data);setLoading(false);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmit(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Vendor\"}),/*#__PURE__*/_jsx(SingleSelect,{error:vendor.error,placeholder:\"vendor\",options:options.vendors,value:function value(event){return setVendor({value:event.value,error:false});}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Category\"}),/*#__PURE__*/_jsx(SingleSelect,{error:category.error,placeholder:\"category\",options:options.categories,value:function value(event){return setCategory({value:event.value,error:false});}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Payment Status\"}),/*#__PURE__*/_jsx(SingleSelect,{error:category.error,placeholder:\"Payment status\",options:[{value:'Paid',label:'Paid'},{value:'Pending',label:'Pending'}],value:function value(event){return setPaymentStatus({value:event.value,error:false});}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"from\",className:errors.from?\"form-control shadow-none error\":\"form-control shadow-none\",ref:register({required:false})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"End To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"to\",className:errors.to?\"form-control shadow-none error\":\"form-control shadow-none\",ref:register({required:false})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 text-right\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn shadow-none px-5\",disabled:isLoading,children:isLoading?'Filtering...':'Filter'})})]})})});};export default Index;","map":{"version":3,"sources":["D:/previous/src/components/salesFilter/Index.js"],"names":["React","useEffect","useState","useCallback","useForm","SingleSelect","Requests","Index","updateItems","register","handleSubmit","errors","isLoading","setLoading","vendors","categories","options","setOptions","value","error","vendor","setVendor","category","setCategory","paymentStatus","setPaymentStatus","headers","Authorization","localStorage","getItem","header","fetchData","Sales","FilterOptions","response","onSubmit","data","formData","SalesReport","status","event","label","from","required","to"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { SingleSelect } from '../select'\nimport Requests from '../../utils/Requests/Index'\n\nconst Index = ({ updateItems }) => {\n    const { register, handleSubmit, errors } = useForm()\n    const [isLoading, setLoading] = useState(false)\n    const [options, setOptions] = useState({ vendors: [], categories: [] })\n    const [vendor, setVendor] = useState({ value: null, error: false })\n    const [category, setCategory] = useState({ value: null, error: false })\n    const [paymentStatus, setPaymentStatus] = useState({ value: null, error: false })\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        const response = await Requests.Sales.FilterOptions(header)\n        if (response) setOptions({ vendors: response.vendors, categories: response.categories })\n    }, [header])\n\n    useEffect(() => {\n        fetchData()\n    }, [fetchData])\n\n\n    // Submit Form\n    const onSubmit = async (data) => {\n        setLoading(true)\n        const formData = {\n            ...data,\n            vendor: vendor.value,\n            category: category.value,\n            paymentStatus: paymentStatus.value\n        }\n\n        const response = await Requests.Sales.SalesReport(formData, header)\n        if (response?.status) updateItems(response.data)\n        setLoading(false)\n    }\n\n    return (\n        <div className=\"p-4\">\n\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"row\">\n\n                    {/* Vendor */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            <p>Vendor</p>\n                            <SingleSelect\n                                error={vendor.error}\n                                placeholder=\"vendor\"\n                                options={options.vendors}\n                                value={event => setVendor({ value: event.value, error: false })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Category */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            <p>Category</p>\n                            <SingleSelect\n                                error={category.error}\n                                placeholder=\"category\"\n                                options={options.categories}\n                                value={event => setCategory({ value: event.value, error: false })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Payment Status */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            <p>Payment Status</p>\n                            <SingleSelect\n                                error={category.error}\n                                placeholder=\"Payment status\"\n                                options={[{ value: 'Paid', label: 'Paid' }, { value: 'Pending', label: 'Pending' }]}\n                                value={event => setPaymentStatus({ value: event.value, error: false })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* From Date */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            <p>From</p>\n                            <input\n                                type=\"date\"\n                                name=\"from\"\n                                className={errors.from ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n                                ref={register({ required: false })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* End To */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            <p>End To</p>\n                            <input\n                                type=\"date\"\n                                name=\"to\"\n                                className={errors.to ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n                                ref={register({ required: false })}\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"col-12 text-right\">\n                        <button\n                            type=\"submit\"\n                            className=\"btn shadow-none px-5\"\n                            disabled={isLoading}\n                        >{isLoading ? 'Filtering...' : 'Filter'}</button>\n                    </div>\n\n                </div>\n            </form>\n\n\n\n        </div>\n    );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}