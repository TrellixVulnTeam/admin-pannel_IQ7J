{"ast":null,"code":"import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect,useCallback}from'react';import'./style.scss';import Icon from'react-icons-kit';import{Link,useParams}from'react-router-dom';import{chevronLeft}from'react-icons-kit/feather';import{PreLoader}from'../../components/loading/Index';import{StringShort}from'../../utils/Helpers';import Requests from'../../utils/Requests/Index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Show=function Show(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isUpdate=_useState4[0],setUpdate=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),item=_useState6[0],setItem=_useState6[1];var _useState7=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState8=_slicedToArray(_useState7,1),header=_useState8[0];// Fetch data\nvar fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Requests.Refund.Show(id,header);case 2:data=_context.sent;if(data){setItem(data);setLoading(false);}setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);})),[id,header]);useEffect(function(){fetchData();},[id,header,fetchData]);// Handle status\nvar handleStatus=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var status;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setUpdate(true);status=event.target.value;_context2.next=5;return Requests.Refund.Update(id,status,header);case 5:setUpdate(false);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);if(_context2.t0)setUpdate(false);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function handleStatus(_x){return _ref2.apply(this,arguments);};}();if(isLoading)return/*#__PURE__*/_jsx(PreLoader,{});return/*#__PURE__*/_jsx(\"div\",{className:\"refund-show\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header p-3 p-lg-4 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:item.user.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/refund\",type:\"button\",className:\"btn shadow-none rounded-circle\",children:/*#__PURE__*/_jsx(Icon,{icon:chevronLeft,size:22})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-md-flex customer-profile-container\",children:[item.user?/*#__PURE__*/_jsx(\"div\",{className:\"name-circle rounded-circle flex-center flex-column\",children:/*#__PURE__*/_jsx(\"h1\",{children:StringShort(item.user.name)})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"flex-fill content-container pl-md-4\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table-sm\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Name\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.user.name]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"E-mail\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-lowercase\",children:[\": \",item.user.email]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Phone\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.user.phone]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right pt-3 pt-md-5\",children:/*#__PURE__*/_jsxs(\"select\",{style:{width:170,fontSize:14},className:\"form-control shadow-none\",defaultValue:item.status,onChange:handleStatus,disabled:isUpdate,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Return requested\",children:\"Return requested\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sent over courier\",children:\"Sent over courier\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EB warehouse\",children:\"EB warehouse\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Canceled\",children:\"Canceled\"})]})})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 pl-1\",children:\"Complain info.\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table-sm\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Courier\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.courier?item.courier:'N/A']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Courier Tracking / Recipient ID\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.trackingId?item.trackingId:'N/A']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Order code\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.orderCode?item.orderCode:'N/A']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.product?item.product.quantity:'N/A']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Total amount\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.totalAmount?item.totalAmount+' tk':'N/A']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.status]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Complain\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.complain?item.complain:'N/A']})]})]})})}),item.images?/*#__PURE__*/_jsx(\"div\",{className:\"col-12 image-gallery\",children:item.images&&item.images.map(function(image,i){return/*#__PURE__*/_jsx(\"div\",{className:\"card image-card\",children:/*#__PURE__*/_jsx(\"img\",{src:image,className:\"img-fluid\",alt:\"...\"})},i);})}):null]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 pl-1\",children:\"Product details\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-lg-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:item.product.item.thumbnail.small,className:\"img-fluid\",alt:\"...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pl-lg-4 pt-3 pt-lg-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"b\",{children:item.product.item.name})}),/*#__PURE__*/_jsx(\"table\",{className:\"table-sm\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"SKU\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.product.sku]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Brand\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.product.brand?item.product.brand:'N/A']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Discount type\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.product.discountType?item.product.discountType:'N/A']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Discount amount\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.product.discountAmount?item.product.discountAmount:'N/A']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Sale price\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.product.salePrice]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Stock status\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",/*#__PURE__*/_jsx(\"span\",{className:item.product.item.stockStatus==='In Stock'?\"text-success\":\"text-danger\",children:item.product.item.stockStatus})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Stock amount\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",item.product.item.stockAmount]})]})]})})]})]})})})]})})})})]})});};export default Show;","map":{"version":3,"sources":["D:/previous/src/pages/refund/Show.js"],"names":["React","useState","useEffect","useCallback","Icon","Link","useParams","chevronLeft","PreLoader","StringShort","Requests","Show","id","isLoading","setLoading","isUpdate","setUpdate","item","setItem","headers","Authorization","localStorage","getItem","header","fetchData","Refund","data","handleStatus","event","status","target","value","Update","user","name","email","phone","width","fontSize","courier","trackingId","orderCode","product","quantity","totalAmount","complain","images","map","image","i","thumbnail","small","sku","brand","discountType","discountAmount","salePrice","stockStatus","stockAmount"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\nimport './style.scss'\nimport Icon from 'react-icons-kit'\nimport { Link, useParams } from 'react-router-dom'\nimport { chevronLeft } from 'react-icons-kit/feather'\nimport { PreLoader } from '../../components/loading/Index'\nimport { StringShort } from '../../utils/Helpers'\nimport Requests from '../../utils/Requests/Index'\n\nconst Show = () => {\n    const { id } = useParams()\n    const [isLoading, setLoading] = useState(true)\n    const [isUpdate, setUpdate] = useState(false)\n    const [item, setItem] = useState({})\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        const data = await Requests.Refund.Show(id, header)\n        if (data) {\n            setItem(data)\n            setLoading(false)\n        }\n        setLoading(false)\n    }, [id, header])\n\n    useEffect(() => {\n        fetchData()\n    }, [id, header, fetchData])\n\n    // Handle status\n    const handleStatus = async (event) => {\n        try {\n            setUpdate(true)\n            const status = event.target.value\n            await Requests.Refund.Update(id, status, header)\n            setUpdate(false)\n\n        } catch (error) {\n            if (error) setUpdate(false)\n        }\n    }\n\n    if (isLoading) return <PreLoader />\n\n    return (\n        <div className=\"refund-show\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-header p-3 p-lg-4 bg-white\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mb-0\">{item.user.name}</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link\n                                            to=\"/dashboard/refund\"\n                                            type=\"button\"\n                                            className=\"btn shadow-none rounded-circle\"\n                                        >\n                                            <Icon icon={chevronLeft} size={22} />\n                                        </Link>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Customer info. */}\n                            <div className=\"card-body p-4\">\n                                <div className=\"d-md-flex customer-profile-container\">\n                                    {/* Name circle */}\n                                    {item.user ?\n                                        <div className=\"name-circle rounded-circle flex-center flex-column\">\n                                            <h1>{StringShort(item.user.name)}</h1>\n                                        </div>\n                                        : null}\n\n                                    {/* Content container */}\n                                    <div className=\"flex-fill content-container pl-md-4\">\n                                        <table className=\"table-sm\">\n                                            <tbody>\n                                                <tr>\n                                                    <td className=\"title-td\">Name</td>\n                                                    <td>: {item.user.name}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">E-mail</td>\n                                                    <td className=\"text-lowercase\">: {item.user.email}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Phone</td>\n                                                    <td>: {item.user.phone}</td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    <div className=\"text-right pt-3 pt-md-5\">\n                                        <select\n                                            style={{ width: 170, fontSize: 14 }}\n                                            className=\"form-control shadow-none\"\n                                            defaultValue={item.status}\n                                            onChange={handleStatus}\n                                            disabled={isUpdate}\n                                        >\n                                            <option value=\"Return requested\">Return requested</option>\n                                            <option value=\"Sent over courier\">Sent over courier</option>\n                                            <option value=\"EB warehouse\">EB warehouse</option>\n                                            <option value=\"Canceled\">Canceled</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Complain info */}\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-body\">\n                                <h6 className=\"mb-0 pl-1\">Complain info.</h6>\n                                <hr className=\"my-3\" />\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        <table className=\"table-sm\">\n                                            <tbody>\n                                                <tr>\n                                                    <td className=\"title-td\">Courier</td>\n                                                    <td>: {item.courier ? item.courier : 'N/A'}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Courier Tracking / Recipient ID</td>\n                                                    <td>: {item.trackingId ? item.trackingId : 'N/A'}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Order code</td>\n                                                    <td>: {item.orderCode ? item.orderCode : 'N/A'}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Quantity</td>\n                                                    <td>: {item.product ? item.product.quantity : 'N/A'}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Total amount</td>\n                                                    <td>: {item.totalAmount ? item.totalAmount + ' tk' : 'N/A'}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Status</td>\n                                                    <td>: {item.status}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Complain</td>\n                                                    <td>: {item.complain ? item.complain : 'N/A'}</td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n\n                                    {/* Complain images */}\n                                    {item.images ?\n                                        <div className=\"col-12 image-gallery\">\n                                            {item.images && item.images.map((image, i) =>\n                                                <div className=\"card image-card\" key={i}>\n                                                    <img src={image} className=\"img-fluid\" alt=\"...\" />\n                                                </div>\n                                            )}\n                                        </div>\n                                        : null}\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Product details */}\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-body\">\n\n                                <h6 className=\"mb-0 pl-1\">Product details</h6>\n                                <hr className=\"my-3\" />\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        <div className=\"d-lg-flex\">\n                                            <div className=\"text-center\">\n                                                <img src={item.product.item.thumbnail.small} className=\"img-fluid\" alt=\"...\" />\n                                            </div>\n                                            <div className=\"pl-lg-4 pt-3 pt-lg-0\">\n                                                <p className=\"mb-3\"><b>{item.product.item.name}</b></p>\n                                                <table className=\"table-sm\">\n                                                    <tbody>\n                                                        <tr>\n                                                            <td className=\"title-td\">SKU</td>\n                                                            <td>: {item.product.sku}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"title-td\">Brand</td>\n                                                            <td>: {item.product.brand ? item.product.brand : 'N/A'}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"title-td\">Discount type</td>\n                                                            <td>: {item.product.discountType ? item.product.discountType : 'N/A'}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"title-td\">Discount amount</td>\n                                                            <td>: {item.product.discountAmount ? item.product.discountAmount : 'N/A'}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"title-td\">Sale price</td>\n                                                            <td>: {item.product.salePrice}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"title-td\">Stock status</td>\n                                                            <td>: <span\n                                                                className={item.product.item.stockStatus === 'In Stock' ? \"text-success\" : \"text-danger\"}>\n                                                                {item.product.item.stockStatus}</span>\n                                                            </td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"title-td\">Stock amount</td>\n                                                            <td>: {item.product.item.stockAmount}</td>\n                                                        </tr>\n                                                    </tbody>\n                                                </table>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    );\n};\n\nexport default Show;"]},"metadata":{},"sourceType":"module"}