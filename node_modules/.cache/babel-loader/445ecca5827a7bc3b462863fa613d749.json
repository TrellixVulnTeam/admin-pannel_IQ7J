{"ast":null,"code":"import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useCallback,useEffect,useState}from'react';import'./style.scss';import Requests from'../../../utils/Requests/Index';import{dateFormate}from'../../../utils/Helpers';import{DataTable}from'../../../components/table/Index';import ExportCSV from'../../../components/exportCSV/Index';import{RangeFilter}from'../../../components/rangeFilter/Index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFilter=_useState2[0],setFilter=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),limit=_useState6[0],setLimit=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalItems=_useState8[0],setTotalItems=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),data=_useState10[0],setData=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),sheetData=_useState12[0],setSheetData=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),searching=_useState14[0],setSearching=_useState14[1];var _useState15=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState16=_slicedToArray(_useState15,1),header=_useState16[0];// Fetch data\nvar fetchData=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(page){var response,xlsxData,i,element;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return Requests.BuyerPurchase.Index(page,limit,header);case 3:response=_context.sent;if(response){xlsxData=[];setData(response.data);setTotalItems(response.pagination?response.pagination.items:0);if(response.data&&response.data.length){for(i=0;i<response.data.length;i++){element=response.data[i];xlsxData.push({name:element.name,email:element.email,phone:element.phone,order_code:element.orderCode,shipping_area:element.shippingArea,delivery_address:element.deliveryAddress,payment_method:element.paymentMethod,sub_total_price:element.subTotalPrice,total_price:element.totalPrice,date:dateFormate(element.createdAt)});}setSheetData(xlsxData);}}setLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),[limit,header]);var handlePageChange=function handlePageChange(page){return fetchData(page);};var handleLimitChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newLimit,page){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.next=3;return Requests.BuyerPurchase.Index(page,newLimit,header);case 3:response=_context2.sent;setData(response.data);setLimit(newLimit);setLoading(false);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function handleLimitChange(_x2,_x3){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchData(1);},[header,fetchData]);// Filter items\nvar handleFilter=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setFilter(true);_context3.next=3;return Requests.BuyerPurchase.Filter(data,header);case 3:response=_context3.sent;setData(response.data);setFilter(false);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function handleFilter(_x4){return _ref3.apply(this,arguments);};}();// Handle search\nvar handleSearch=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setSearching(true);_context4.next=3;return Requests.BuyerPurchase.Search({query:data.query},header);case 3:response=_context4.sent;if(response)setData(response.data);setSearching(false);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function handleSearch(_x5){return _ref4.apply(this,arguments);};}();var customStyles={rows:{style:{minHeight:'100px auto'}}};var columns=[{name:'Buyer',grow:2,cell:function cell(row){return/*#__PURE__*/_jsxs(\"div\",{className:\"py-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-capitalize mb-1 mb-1\",children:row.name?row.name:'N/A'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lowercase mb-1\",children:row.email?row.email:'N/A'}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:row.phone?row.phone:'N/A'})]});}},{name:'O.Code',sortable:true,selector:function selector(row){return row.orderCode;}},{name:'Addresses',grow:2,cell:function cell(row){return/*#__PURE__*/_jsxs(\"div\",{className:\"py-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-capitalize mb-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"text-muted\",children:\"Shipping Area: \"}),row.shippingArea]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-capitalize mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"text-muted\",children:\"Deliver Address: \"}),row.deliveryAddress]})]});}},{name:'Payment',grow:2,cell:function cell(row){return/*#__PURE__*/_jsxs(\"div\",{className:\"py-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-capitalize mb-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"text-muted\",children:\"Sub-total: \"}),row.subTotalPrice,\" tk.\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-capitalize mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"text-muted\",children:\"Total (+Deliver charge): \"}),row.totalPrice,\" tk.\"]})]});}},{name:'Created At',sortable:true,selector:function selector(row){return dateFormate(row.createdAt);}}];return/*#__PURE__*/_jsx(\"div\",{className:\"report-index\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header p-3 p-lg-4 bg-white\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mt-0 mb-3\",children:\"Buyer purchases\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-xl-flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-md-flex pl-xl-2\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RangeFilter,{loading:isFilter,filter:handleFilter})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right pt-2 pt-md-0 pl-2\",children:/*#__PURE__*/_jsx(ExportCSV,{csvData:sheetData,fileName:'Buyers_purchase_history'})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:/*#__PURE__*/_jsx(DataTable,{fixedHeader:true,fixedHeaderScrollHeight:\"580px\",customStyles:customStyles,columns:columns,data:data,loading:isLoading,totalRows:totalItems,pagination:true,paginationServer:true,handlePerRowsChange:handleLimitChange,handlePageChange:handlePageChange,searchable:true,search:handleSearch,searching:searching,clearSearch:function clearSearch(){return fetchData(1);}})})]})})})})});};export default Index;","map":{"version":3,"sources":["D:/previous/src/pages/reports/buyerPurchase/Index.js"],"names":["React","useCallback","useEffect","useState","Requests","dateFormate","DataTable","ExportCSV","RangeFilter","Index","isFilter","setFilter","isLoading","setLoading","limit","setLimit","totalItems","setTotalItems","data","setData","sheetData","setSheetData","searching","setSearching","headers","Authorization","localStorage","getItem","header","fetchData","page","BuyerPurchase","response","xlsxData","pagination","items","length","i","element","push","name","email","phone","order_code","orderCode","shipping_area","shippingArea","delivery_address","deliveryAddress","payment_method","paymentMethod","sub_total_price","subTotalPrice","total_price","totalPrice","date","createdAt","handlePageChange","handleLimitChange","newLimit","handleFilter","Filter","handleSearch","Search","query","customStyles","rows","style","minHeight","columns","grow","cell","row","sortable","selector"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport './style.scss'\nimport Requests from '../../../utils/Requests/Index'\nimport { dateFormate } from '../../../utils/Helpers'\nimport { DataTable } from '../../../components/table/Index'\n\nimport ExportCSV from '../../../components/exportCSV/Index'\nimport { RangeFilter } from '../../../components/rangeFilter/Index'\n\nconst Index = () => {\n    const [isFilter, setFilter] = useState(false)\n    const [isLoading, setLoading] = useState(true)\n    const [limit, setLimit] = useState(10)\n    const [totalItems, setTotalItems] = useState(0)\n\n    const [data, setData] = useState([])\n    const [sheetData, setSheetData] = useState([])\n    const [searching, setSearching] = useState(false)\n\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async (page) => {\n        setLoading(true)\n        const response = await Requests.BuyerPurchase.Index(page, limit, header)\n\n        if (response) {\n            let xlsxData = []\n            setData(response.data)\n            setTotalItems(response.pagination ? response.pagination.items : 0)\n\n            if (response.data && response.data.length) {\n                for (let i = 0; i < response.data.length; i++) {\n                    const element = response.data[i]\n                    xlsxData.push({\n                        name: element.name,\n                        email: element.email,\n                        phone: element.phone,\n                        order_code: element.orderCode,\n                        shipping_area: element.shippingArea,\n                        delivery_address: element.deliveryAddress,\n                        payment_method: element.paymentMethod,\n                        sub_total_price: element.subTotalPrice,\n                        total_price: element.totalPrice,\n                        date: dateFormate(element.createdAt)\n                    })\n                }\n                setSheetData(xlsxData)\n            }\n        }\n\n        setLoading(false)\n    }, [limit, header])\n\n    const handlePageChange = page => fetchData(page)\n\n    const handleLimitChange = async (newLimit, page) => {\n        setLoading(true)\n        const response = await Requests.BuyerPurchase.Index(page, newLimit, header)\n\n        setData(response.data)\n        setLimit(newLimit)\n        setLoading(false)\n    }\n\n    useEffect(() => {\n        fetchData(1)\n    }, [header, fetchData])\n\n    // Filter items\n    const handleFilter = async data => {\n        setFilter(true)\n        const response = await Requests.BuyerPurchase.Filter(data, header)\n        setData(response.data)\n        setFilter(false)\n    }\n\n    // Handle search\n    const handleSearch = async data => {\n        setSearching(true)\n        const response = await Requests.BuyerPurchase.Search({ query: data.query }, header)\n        if (response) setData(response.data)\n        setSearching(false)\n    }\n\n    const customStyles = {\n        rows: {\n            style: {\n                minHeight: '100px auto',\n            }\n        }\n    }\n\n    const columns = [\n        {\n            name: 'Buyer',\n            grow: 2,\n            cell: row =>\n                <div className=\"py-2\">\n                    <p className=\"text-capitalize mb-1 mb-1\">{row.name ? row.name : 'N/A'}</p>\n                    <p className=\"text-lowercase mb-1\">{row.email ? row.email : 'N/A'}</p>\n                    <p className=\"mb-0\">{row.phone ? row.phone : 'N/A'}</p>\n                </div>\n        },\n        {\n            name: 'O.Code',\n            sortable: true,\n            selector: row => row.orderCode\n        },\n        {\n            name: 'Addresses',\n            grow: 2,\n            cell: row =>\n                <div className=\"py-2\">\n                    <p className=\"text-capitalize mb-1\"><i className=\"text-muted\">Shipping Area: </i>{row.shippingArea}</p>\n                    <p className=\"text-capitalize mb-0\"><i className=\"text-muted\">Deliver Address: </i>{row.deliveryAddress}</p>\n                </div>\n        },\n        {\n            name: 'Payment',\n            grow: 2,\n            cell: row =>\n                <div className=\"py-2\">\n                    <p className=\"text-capitalize mb-1\"><i className=\"text-muted\">Sub-total: </i>{row.subTotalPrice} tk.</p>\n                    <p className=\"text-capitalize mb-0\"><i className=\"text-muted\">Total (+Deliver charge): </i>{row.totalPrice} tk.</p>\n                </div>\n        },\n        {\n            name: 'Created At',\n            sortable: true,\n            selector: row => dateFormate(row.createdAt)\n        }\n    ]\n\n    return (\n        <div className=\"report-index\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-header p-3 p-lg-4 bg-white\">\n                                <h6 className=\"mt-0 mb-3\">Buyer purchases</h6>\n                                <div className=\"d-xl-flex\">\n                                    <div className=\"d-md-flex pl-xl-2\">\n                                        <div>\n                                            <RangeFilter\n                                                loading={isFilter}\n                                                filter={handleFilter}\n                                            />\n                                        </div>\n                                        <div className=\"text-right pt-2 pt-md-0 pl-2\">\n                                            <ExportCSV csvData={sheetData} fileName={'Buyers_purchase_history'} />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Data table component for show data */}\n                            <div className=\"card-body p-0\">\n                                <DataTable\n                                    fixedHeader\n                                    fixedHeaderScrollHeight=\"580px\"\n                                    customStyles={customStyles}\n                                    columns={columns}\n                                    data={data}\n                                    loading={isLoading}\n                                    totalRows={totalItems}\n                                    pagination={true}\n                                    paginationServer={true}\n                                    handlePerRowsChange={handleLimitChange}\n                                    handlePageChange={handlePageChange}\n                                    searchable\n                                    search={handleSearch}\n                                    searching={searching}\n                                    clearSearch={() => fetchData(1)}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}