{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\pages\\\\product\\\\Index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState, useRef } from 'react';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Icon from 'react-icons-kit';\nimport { Form } from 'react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { single } from 'react-icons-kit/entypo';\nimport { plus, edit2, info, eye, check, x } from 'react-icons-kit/feather';\nimport { useQuery } from '../../components/query/Index';\nimport { CustomButton } from '../../components/button';\nimport { DataTable } from '../../components/table/Index';\nimport { SearchableSelect, SingleSelect } from '../../components/select';\nimport { Container } from '../../components/container';\nimport { Card } from '../../components/card/Index';\nimport Requests from '../../utils/Requests/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure({\n  autoClose: 10000\n});\n\nconst Index = () => {\n  _s();\n\n  const onClearRef = useRef();\n  const history = useHistory();\n  const queryParams = useQuery();\n  const [totalItems, setTotalItems] = useState(0);\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [closeFilter, setCloseFilter] = useState(false);\n  const [searchLoading, setsearchLoading] = useState(false);\n  const [audit, setAudit] = useState({\n    value: null,\n    loading: false\n  });\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  }); // Fetch data\n\n  const fetchData = useCallback(async query => {\n    setLoading(true);\n    const response = await Requests.Product.Index(query, header);\n\n    if (response) {\n      setData(response.data);\n      setTotalItems(response.pagination ? response.pagination.items : 0);\n    }\n\n    setLoading(false);\n  }, [header]);\n  useEffect(() => {\n    if (queryParams) {\n      let params = { ...queryParams\n      };\n      params.page = queryParams.page || 1;\n      params.limit = queryParams.limit || 10;\n      const queryString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&');\n      fetchData(queryString);\n      setCloseFilter(true);\n    }\n  }, [header, queryParams.limit, queryParams.page, queryParams.mainCategory, queryParams.subCategory, queryParams.leafCategory, queryParams.brand, queryParams.vendor, queryParams.status, queryParams.uploader, queryParams.auditor, queryParams.from, queryParams.to, fetchData]); // handle page change\n\n  const handlePageChange = page => {\n    let params = { ...queryParams\n    };\n    params.page = page;\n    const queryString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&');\n    history.push(`/dashboard/product?${queryString}`);\n  }; // handle limit change\n\n\n  const handleLimitChange = async (newLimit, page) => {\n    setLoading(true);\n    let params = { ...queryParams\n    };\n    params.page = page;\n    params.limit = newLimit;\n    const queryString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&');\n    history.push(`/dashboard/product?${queryString}`);\n    setLoading(false);\n  }; // Handle search\n\n\n  const handleSearch = async data => {\n    setsearchLoading(true);\n    const response = await Requests.Product.Search(data, header);\n    if (response) setData(response.data);\n    setsearchLoading(false);\n    setCloseFilter(true);\n  }; // Handle search suggestion\n\n\n  const handleSuggestion = async value => {\n    let data = {\n      results: [],\n      message: null\n    };\n    console.log(value);\n    const response = await Requests.Product.Search(value, header);\n\n    if (response && response.data && response.data.length) {\n      for (let i = 0; i < response.data.length; i++) {\n        const element = response.data[i];\n        data.results.push(element.name);\n      }\n    } else {\n      data.message = \"No results found\";\n    }\n\n    return data;\n  }; // Handle status\n\n\n  const handleStatus = async data => {\n    try {\n      let errors = [];\n      if (data.brand && !data.brand.isActive) errors = [...errors, 'Item deactivated from brand.'];\n      if (!data.vendor.isActive) errors = [...errors, 'Item deactivated from vendor.'];\n      if (!data.mainCategory.isActive) errors = [...errors, 'Item deactivated from category.'];\n\n      if (errors && errors.length) {\n        for (let i = 0; i < errors.length; i++) {\n          const element = errors[i];\n          toast.error(element);\n        }\n\n        return;\n      }\n\n      const response = await Requests.Product.UpdateStatus(data._id, header);\n      if (response) fetchData(1);\n    } catch (error) {\n      if (error) console.log(error);\n    }\n  }; // ------------------------ Filter item ---------------\n\n\n  const handleFilterByUrl = (field, value) => {\n    let item = {\n      [field]: value\n    };\n    let params = { ...queryParams,\n      ...item,\n      page: queryParams.page || 1,\n      limit: queryParams.limit || 10\n    };\n    const queryString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&');\n    history.replace(`/dashboard/product?${queryString}`);\n    setCloseFilter(true);\n  };\n\n  const handleFilter = async data => {\n    let results = [];\n    const response = await Requests.Product.FilterItem(data, header);\n\n    if (response.data && response.data.length) {\n      for (let i = 0; i < response.data.length; i++) {\n        const element = response.data[i];\n        results.push({\n          value: element._id,\n          label: element.name\n        });\n      }\n    }\n\n    return results;\n  }; // handle audit\n\n\n  const handleAudit = async data => {\n    setAudit({\n      value: data,\n      loading: true\n    });\n    await Requests.Product.Audit(data, header);\n    fetchData(1);\n    setAudit({\n      value: null,\n      loading: false\n    });\n  }; // handle filter close\n\n\n  const onClear = async () => {\n    onClearRef.current.select.setState({\n      value: null\n    });\n    setCloseFilter(false);\n    history.push(`/dashboard/product`);\n  };\n\n  const customStyles = {\n    rows: {\n      style: {\n        minHeight: '60px'\n      }\n    }\n  }; // Data columns\n\n  const columns = [{\n    name: 'Image',\n    grow: 0,\n    cell: row => /*#__PURE__*/_jsxDEV(\"img\", {\n      height: 40,\n      alt: \"Product\",\n      src: row.thumbnail\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 26\n    }, this)\n  }, {\n    name: 'Name',\n    sortable: true,\n    minWidth: '200px',\n    cell: row => /*#__PURE__*/_jsxDEV(\"a\", {\n      target: \"_blank\",\n      rel: \"noreferrer\",\n      href: `https://eazybest.com/product/${row.slug}`,\n      children: row.name.slice(0, 25) + \" ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 26\n    }, this)\n  }, {\n    name: 'SKU',\n    sortable: true,\n    minWidth: '150px',\n    selector: row => row.sku\n  }, {\n    name: 'Purchase Price',\n    selector: row => row.purchasePrice,\n    sortable: true\n  }, {\n    name: 'Sale Price',\n    selector: row => row.salePrice,\n    sortable: true\n  }, {\n    name: 'Stock Amount',\n    selector: row => row.stockAmount,\n    sortable: true\n  }, {\n    name: 'Stock',\n    sortable: true,\n    grow: 0,\n    cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: row.stockStatus === \"In Stock\".toString() ? /*#__PURE__*/_jsxDEV(Icon, {\n        icon: check,\n        size: 15,\n        className: \"text-success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(Icon, {\n        icon: x,\n        size: 15,\n        className: \"text-warning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }, this)\n  }, {\n    name: '',\n    sortable: true,\n    grow: 0,\n    cell: row => /*#__PURE__*/_jsxDEV(Form.Check, {\n      type: \"switch\",\n      id: row._id,\n      value: row.isActive,\n      defaultChecked: row.isActive,\n      onChange: () => handleStatus(row)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }, this)\n  }, {\n    name: 'Status',\n    sortable: true,\n    grow: 0,\n    cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: row.isActive ? /*#__PURE__*/_jsxDEV(Icon, {\n        icon: single,\n        size: 35,\n        className: \"text-success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(Icon, {\n        icon: single,\n        size: 35,\n        className: \"text-warning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }, this)\n  }, {\n    name: 'Audit By',\n    sortable: true,\n    minWidth: '150px',\n    selector: row => row.auditBy\n  }, {\n    name: 'Audit',\n    sortable: true,\n    grow: 0,\n    minWidth: '120px',\n    cell: row => row.isAudit ? /*#__PURE__*/_jsxDEV(CustomButton, {\n      className: \"btn-success border-0\",\n      style: {\n        fontSize: 14,\n        padding: \"3px 12px\"\n      },\n      disabled: audit.value && audit.value === row._id,\n      onClick: () => handleAudit(row._id),\n      children: audit.value && audit.value === row._id && audit.loading ? \"Loading ...\" : \"Yes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(CustomButton, {\n      className: \"btn-danger border-0\",\n      style: {\n        fontSize: 14,\n        padding: \"3px 12px\"\n      },\n      disabled: audit.value && audit.value === row._id,\n      onClick: () => handleAudit(row._id),\n      children: audit.value && audit.value === row._id && audit.loading ? \"Loading ...\" : \"No\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 21\n    }, this)\n  }, {\n    name: 'Uploaded By',\n    sortable: true,\n    minWidth: '150px',\n    selector: row => row.createdBy\n  }, {\n    name: 'Updated By',\n    sortable: true,\n    grow: 2,\n    minWidth: '150px',\n    selector: row => row.updatedBy\n  }, {\n    name: 'Upload Date',\n    sortable: true,\n    minWidth: '200px',\n    selector: row => row.createdAt\n  }, {\n    name: 'Last Update',\n    sortable: true,\n    minWidth: '200px',\n    selector: row => row.updatedAt\n  }, {\n    name: 'Action',\n    grow: 0,\n    minWidth: '160px',\n    cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/dashboard/product/${row._id}/show`,\n        children: /*#__PURE__*/_jsxDEV(CustomButton, {\n          style: {\n            padding: \"6px 10px\"\n          },\n          className: \"btn-primary rounded-circle border-0\",\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            icon: eye,\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/dashboard/product/${row._id}/edit`,\n        children: /*#__PURE__*/_jsxDEV(CustomButton, {\n          style: {\n            padding: \"6px 10px\"\n          },\n          className: \"btn-success rounded-circle border-0 mx-1\",\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            icon: edit2,\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/dashboard/product/${row._id}/edit/slug`,\n        children: /*#__PURE__*/_jsxDEV(CustomButton, {\n          style: {\n            padding: \"6px 10px\"\n          },\n          className: \"btn-danger rounded-circle border-0\",\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            icon: info,\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 17\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pb-4\",\n    children: /*#__PURE__*/_jsxDEV(Container.Fluid, {\n      children: /*#__PURE__*/_jsxDEV(Container.Row, {\n        children: /*#__PURE__*/_jsxDEV(Container.Column, {\n          className: \"col-padding\",\n          children: /*#__PURE__*/_jsxDEV(Card.Simple, {\n            className: \"border-0\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              className: \"border-0 bg-white px-4 pt-4 pb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-0\",\n                    children: [\"Products List (\", totalItems, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 42\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-auto\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/dashboard/product/create\",\n                    children: /*#__PURE__*/_jsxDEV(CustomButton, {\n                      className: \"btn-primary border-0 rounded-circle circle__padding\",\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: plus,\n                        size: 22\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 376,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 41\n                  }, this), closeFilter ? /*#__PURE__*/_jsxDEV(CustomButton, {\n                    type: \"button\",\n                    className: \"btn-danger border-0 rounded-circle circle__padding ml-1\",\n                    onClick: onClear,\n                    children: /*#__PURE__*/_jsxDEV(Icon, {\n                      icon: x,\n                      size: 22\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 45\n                  }, this) : null]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Container.Row, {\n                className: \"pt-2 px-2\",\n                children: [/*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                    refs: onClearRef,\n                    placeholder: \"Category\",\n                    search: query => handleFilter({\n                      query,\n                      field: \"category\"\n                    }),\n                    values: event => handleFilterByUrl(\"mainCategory\", event.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                    refs: onClearRef,\n                    placeholder: \"Sub-category\",\n                    search: query => handleFilter({\n                      query,\n                      field: \"sub-category\"\n                    }),\n                    values: event => handleFilterByUrl(\"subCategory\", event.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                    refs: onClearRef,\n                    placeholder: \"Leaf-category\",\n                    search: query => handleFilter({\n                      query,\n                      field: \"leaf-category\"\n                    }),\n                    values: event => handleFilterByUrl(\"leafCategory\", event.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                    refs: onClearRef,\n                    placeholder: \"Brand\",\n                    search: query => handleFilter({\n                      query,\n                      field: \"brand\"\n                    }),\n                    values: event => handleFilterByUrl(\"brand\", event.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Container.Row, {\n                className: \"px-2\",\n                children: [/*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                    refs: onClearRef,\n                    placeholder: \"Vendor\",\n                    search: query => handleFilter({\n                      query,\n                      field: \"vendor\"\n                    }),\n                    values: event => handleFilterByUrl(\"vendor\", event.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(SingleSelect, {\n                    refs: onClearRef,\n                    placeholder: \"Status\",\n                    borderRadius: 25,\n                    options: [{\n                      label: \"Activated\",\n                      value: true\n                    }, {\n                      label: \"Deactivated\",\n                      value: false\n                    }],\n                    value: event => handleFilterByUrl(\"status\", event.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                    refs: onClearRef,\n                    placeholder: \"Content uploader\",\n                    search: query => handleFilter({\n                      query,\n                      field: \"uploader\"\n                    }),\n                    values: event => handleFilterByUrl(\"uploader\", event.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                    refs: onClearRef,\n                    placeholder: \"Content auditor\",\n                    search: query => handleFilter({\n                      query,\n                      field: \"auditor\"\n                    }),\n                    values: event => handleFilterByUrl(\"auditor\", event.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 476,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Container.Row, {\n                className: \"px-2\",\n                children: [/*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-sm-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group mb-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      className: \"form-control shadow-none\",\n                      style: {\n                        borderRadius: 25,\n                        fontSize: 14,\n                        minHeight: 42\n                      },\n                      onChange: event => handleFilterByUrl(\"from\", event.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                  className: \"col-sm-6 col-md-3 mb-2 px-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group mb-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      className: \"form-control shadow-none\",\n                      style: {\n                        borderRadius: 25,\n                        fontSize: 14,\n                        minHeight: 42\n                      },\n                      onChange: event => handleFilterByUrl(\"to\", event.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              className: \"pt-0\",\n              children: /*#__PURE__*/_jsxDEV(DataTable, {\n                fixedHeader: true,\n                fixedHeaderScrollHeight: \"580px\",\n                customStyles: customStyles,\n                columns: columns,\n                data: data,\n                loading: loading,\n                totalRows: totalItems,\n                pagination: true,\n                paginationServer: true,\n                handlePerRowsChange: handleLimitChange,\n                handlePageChange: handlePageChange,\n                searchable: true,\n                placeholder: \"Search product\",\n                search: handleSearch,\n                suggestion: handleSuggestion,\n                searchLoading: searchLoading,\n                clearSearch: () => fetchData(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 363,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Index, \"rp8T1rfPu9bD7DrRO/a/QxqYjbc=\", false, function () {\n  return [useHistory, useQuery];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["D:/previous/src/pages/product/Index.js"],"names":["React","useCallback","useEffect","useState","useRef","Icon","Form","Link","useHistory","toast","single","plus","edit2","info","eye","check","x","useQuery","CustomButton","DataTable","SearchableSelect","SingleSelect","Container","Card","Requests","configure","autoClose","Index","onClearRef","history","queryParams","totalItems","setTotalItems","data","setData","loading","setLoading","closeFilter","setCloseFilter","searchLoading","setsearchLoading","audit","setAudit","value","header","headers","Authorization","localStorage","getItem","fetchData","query","response","Product","pagination","items","params","page","limit","queryString","Object","keys","map","key","join","mainCategory","subCategory","leafCategory","brand","vendor","status","uploader","auditor","from","to","handlePageChange","push","handleLimitChange","newLimit","handleSearch","Search","handleSuggestion","results","message","console","log","length","i","element","name","handleStatus","errors","isActive","error","UpdateStatus","_id","handleFilterByUrl","field","item","replace","handleFilter","FilterItem","label","handleAudit","Audit","onClear","current","select","setState","customStyles","rows","style","minHeight","columns","grow","cell","row","thumbnail","sortable","minWidth","slug","slice","selector","sku","purchasePrice","salePrice","stockAmount","stockStatus","toString","auditBy","isAudit","fontSize","padding","createdBy","updatedBy","createdAt","updatedAt","event","borderRadius","target"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState, useRef } from 'react'\nimport 'react-toastify/dist/ReactToastify.css'\nimport Icon from 'react-icons-kit'\nimport { Form } from 'react-bootstrap'\nimport { Link, useHistory } from 'react-router-dom'\nimport { toast } from 'react-toastify'\nimport { single } from 'react-icons-kit/entypo'\nimport { plus, edit2, info, eye, check, x } from 'react-icons-kit/feather'\nimport { useQuery } from '../../components/query/Index'\nimport { CustomButton } from '../../components/button'\nimport { DataTable } from '../../components/table/Index'\nimport { SearchableSelect, SingleSelect } from '../../components/select'\nimport { Container } from '../../components/container'\nimport { Card } from '../../components/card/Index'\n\nimport Requests from '../../utils/Requests/Index'\n\ntoast.configure({ autoClose: 10000 })\nconst Index = () => {\n    const onClearRef = useRef()\n    const history = useHistory()\n    const queryParams = useQuery()\n    const [totalItems, setTotalItems] = useState(0)\n\n    const [data, setData] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [closeFilter, setCloseFilter] = useState(false)\n    const [searchLoading, setsearchLoading] = useState(false)\n    const [audit, setAudit] = useState({ value: null, loading: false })\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async (query) => {\n        setLoading(true)\n        const response = await Requests.Product.Index(query, header)\n\n        if (response) {\n            setData(response.data)\n            setTotalItems(response.pagination ? response.pagination.items : 0)\n        }\n        setLoading(false)\n    }, [header])\n\n    useEffect(() => {\n        if (queryParams) {\n            let params = { ...queryParams }\n            params.page = queryParams.page || 1\n            params.limit = queryParams.limit || 10\n\n            const queryString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&')\n            fetchData(queryString)\n            setCloseFilter(true)\n        }\n    }, [\n        header,\n        queryParams.limit,\n        queryParams.page,\n        queryParams.mainCategory,\n        queryParams.subCategory,\n        queryParams.leafCategory,\n        queryParams.brand,\n        queryParams.vendor,\n        queryParams.status,\n        queryParams.uploader,\n        queryParams.auditor,\n        queryParams.from,\n        queryParams.to,\n        fetchData\n    ])\n\n    // handle page change\n    const handlePageChange = page => {\n        let params = { ...queryParams }\n        params.page = page\n\n        const queryString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&')\n        history.push(`/dashboard/product?${queryString}`)\n    }\n\n    // handle limit change\n    const handleLimitChange = async (newLimit, page) => {\n        setLoading(true)\n        let params = { ...queryParams }\n        params.page = page\n        params.limit = newLimit\n\n        const queryString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&')\n        history.push(`/dashboard/product?${queryString}`)\n        setLoading(false)\n    }\n\n    // Handle search\n    const handleSearch = async data => {\n        setsearchLoading(true)\n        const response = await Requests.Product.Search(data, header)\n        if (response) setData(response.data)\n        setsearchLoading(false)\n        setCloseFilter(true)\n    }\n\n    // Handle search suggestion\n    const handleSuggestion = async (value) => {\n        let data = {\n            results: [],\n            message: null\n        }\n        console.log(value);\n        const response = await Requests.Product.Search(value, header)\n\n        if (response && response.data && response.data.length) {\n            for (let i = 0; i < response.data.length; i++) {\n                const element = response.data[i]\n                data.results.push(element.name)\n            }\n        } else {\n            data.message = \"No results found\"\n        }\n\n        return data\n    }\n\n    // Handle status\n    const handleStatus = async (data) => {\n        try {\n            let errors = []\n\n            if (data.brand && !data.brand.isActive) errors = [...errors, 'Item deactivated from brand.']\n            if (!data.vendor.isActive) errors = [...errors, 'Item deactivated from vendor.']\n            if (!data.mainCategory.isActive) errors = [...errors, 'Item deactivated from category.']\n\n            if (errors && errors.length) {\n                for (let i = 0; i < errors.length; i++) {\n                    const element = errors[i]\n                    toast.error(element)\n                }\n                return\n            }\n\n            const response = await Requests.Product.UpdateStatus(data._id, header)\n            if (response) fetchData(1)\n        } catch (error) {\n            if (error) console.log(error)\n        }\n    }\n\n    // ------------------------ Filter item ---------------\n    const handleFilterByUrl = (field, value) => {\n        let item = { [field]: value }\n        let params = {\n            ...queryParams,\n            ...item,\n            page: queryParams.page || 1,\n            limit: queryParams.limit || 10\n        }\n\n        const queryString = Object.keys(params).map(key => `${key}=${params[key]}`).join('&')\n        history.replace(`/dashboard/product?${queryString}`)\n        setCloseFilter(true)\n    }\n\n    const handleFilter = async (data) => {\n        let results = []\n        const response = await Requests.Product.FilterItem(data, header)\n\n        if (response.data && response.data.length) {\n            for (let i = 0; i < response.data.length; i++) {\n                const element = response.data[i]\n                results.push({\n                    value: element._id,\n                    label: element.name\n                })\n            }\n        }\n        return results\n    }\n\n    // handle audit\n    const handleAudit = async data => {\n        setAudit({ value: data, loading: true })\n        await Requests.Product.Audit(data, header)\n        fetchData(1)\n        setAudit({ value: null, loading: false })\n    }\n\n    // handle filter close\n    const onClear = async () => {\n        onClearRef.current.select.setState({ value: null })\n        setCloseFilter(false)\n        history.push(`/dashboard/product`)\n    }\n\n    const customStyles = {\n        rows: {\n            style: {\n                minHeight: '60px',\n            }\n        }\n    }\n\n    // Data columns\n    const columns = [\n        {\n            name: 'Image',\n            grow: 0,\n            cell: row => <img height={40} alt={\"Product\"} src={row.thumbnail} />,\n        },\n        {\n            name: 'Name',\n            sortable: true,\n            minWidth: '200px',\n            cell: row => <a target=\"_blank\" rel=\"noreferrer\" href={`https://eazybest.com/product/${row.slug}`}>{row.name.slice(0, 25) + \" ...\"}</a>\n        },\n        {\n            name: 'SKU',\n            sortable: true,\n            minWidth: '150px',\n            selector: row => row.sku\n        },\n        {\n            name: 'Purchase Price',\n            selector: row => row.purchasePrice,\n            sortable: true\n        },\n        {\n            name: 'Sale Price',\n            selector: row => row.salePrice,\n            sortable: true\n        },\n        {\n            name: 'Stock Amount',\n            selector: row => row.stockAmount,\n            sortable: true\n        },\n        {\n            name: 'Stock',\n            sortable: true,\n            grow: 0,\n            cell: row =>\n                <div>\n                    {row.stockStatus === \"In Stock\".toString() ?\n                        <Icon icon={check} size={15} className=\"text-success\" /> :\n                        <Icon icon={x} size={15} className=\"text-warning\" />\n                    }\n                </div>\n        },\n        {\n            name: '',\n            sortable: true,\n            grow: 0,\n            cell: row =>\n                <Form.Check\n                    type=\"switch\"\n                    id={row._id}\n                    value={row.isActive}\n                    defaultChecked={row.isActive}\n                    onChange={() => handleStatus(row)}\n                />\n        },\n        {\n            name: 'Status',\n            sortable: true,\n            grow: 0,\n            cell: row =>\n                <div>\n                    {row.isActive ?\n                        <Icon icon={single} size={35} className=\"text-success\" /> :\n                        <Icon icon={single} size={35} className=\"text-warning\" />\n                    }\n                </div>\n        },\n        {\n            name: 'Audit By',\n            sortable: true,\n            minWidth: '150px',\n            selector: row => row.auditBy\n        },\n        {\n            name: 'Audit',\n            sortable: true,\n            grow: 0,\n            minWidth: '120px',\n            cell: row =>\n                row.isAudit ?\n                    <CustomButton\n                        className=\"btn-success border-0\"\n                        style={{ fontSize: 14, padding: \"3px 12px\" }}\n                        disabled={audit.value && audit.value === row._id}\n                        onClick={() => handleAudit(row._id)}\n                    >{audit.value && audit.value === row._id && audit.loading ? \"Loading ...\" : \"Yes\"}</CustomButton>\n                    :\n                    <CustomButton\n                        className=\"btn-danger border-0\"\n                        style={{ fontSize: 14, padding: \"3px 12px\" }}\n                        disabled={audit.value && audit.value === row._id}\n                        onClick={() => handleAudit(row._id)}\n                    >{audit.value && audit.value === row._id && audit.loading ? \"Loading ...\" : \"No\"}</CustomButton>\n        },\n        {\n            name: 'Uploaded By',\n            sortable: true,\n            minWidth: '150px',\n            selector: row => row.createdBy\n        },\n        {\n            name: 'Updated By',\n            sortable: true,\n            grow: 2,\n            minWidth: '150px',\n            selector: row => row.updatedBy\n        },\n        {\n            name: 'Upload Date',\n            sortable: true,\n            minWidth: '200px',\n            selector: row => row.createdAt\n        },\n        {\n            name: 'Last Update',\n            sortable: true,\n            minWidth: '200px',\n            selector: row => row.updatedAt\n        },\n        {\n            name: 'Action',\n            grow: 0,\n            minWidth: '160px',\n            cell: row =>\n                <div>\n\n                    {/* product show button */}\n                    <Link to={`/dashboard/product/${row._id}/show`}>\n                        <CustomButton\n                            style={{ padding: \"6px 10px\" }}\n                            className=\"btn-primary rounded-circle border-0\"\n                        ><Icon icon={eye} size={16} />\n                        </CustomButton>\n                    </Link>\n\n                    {/* product edit button */}\n                    <Link to={`/dashboard/product/${row._id}/edit`}>\n                        <CustomButton\n                            style={{ padding: \"6px 10px\" }}\n                            className=\"btn-success rounded-circle border-0 mx-1\"\n                        ><Icon icon={edit2} size={16} />\n                        </CustomButton>\n                    </Link>\n\n                    {/* slug edit button */}\n                    <Link to={`/dashboard/product/${row._id}/edit/slug`}>\n                        <CustomButton\n                            style={{ padding: \"6px 10px\" }}\n                            className=\"btn-danger rounded-circle border-0\"\n                        ><Icon icon={info} size={16} />\n                        </CustomButton>\n                    </Link>\n                </div>\n        }\n    ]\n\n    return (\n        <div className=\"pb-4\">\n            <Container.Fluid>\n                <Container.Row>\n                    <Container.Column className=\"col-padding\">\n                        <Card.Simple className=\"border-0\">\n                            <Card.Header className=\"border-0 bg-white px-4 pt-4 pb-0\">\n\n                                {/* Title container */}\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mb-0\">Products List ({totalItems})</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link to=\"/dashboard/product/create\">\n                                            <CustomButton className=\"btn-primary border-0 rounded-circle circle__padding\">\n                                                <Icon icon={plus} size={22} />\n                                            </CustomButton>\n                                        </Link>\n\n                                        {closeFilter ?\n                                            <CustomButton\n                                                type=\"button\"\n                                                className=\"btn-danger border-0 rounded-circle circle__padding ml-1\"\n                                                onClick={onClear}\n                                            >\n                                                <Icon icon={x} size={22} />\n                                            </CustomButton>\n                                            : null\n                                        }\n                                    </div>\n                                </div>\n\n                                {/* Filter items */}\n                                <Container.Row className=\"pt-2 px-2\">\n\n                                    {/* Category */}\n                                    <Container.Column className=\"col-6 col-md-3 mb-2 px-1\">\n                                        <SearchableSelect\n                                            refs={onClearRef}\n                                            placeholder=\"Category\"\n                                            search={query => handleFilter({ query, field: \"category\" })}\n                                            values={event => handleFilterByUrl(\"mainCategory\", event.value)}\n                                        />\n                                    </Container.Column>\n\n                                    {/* Sub-Category */}\n                                    <Container.Column className=\"col-6 col-md-3 mb-2 px-1\">\n                                        <SearchableSelect\n                                            refs={onClearRef}\n                                            placeholder=\"Sub-category\"\n                                            search={query => handleFilter({ query, field: \"sub-category\" })}\n                                            values={event => handleFilterByUrl(\"subCategory\", event.value)}\n                                        />\n                                    </Container.Column>\n\n                                    {/* Leaf-Category */}\n                                    <Container.Column className=\"col-6 col-md-3 mb-2 px-1\">\n                                        <SearchableSelect\n                                            refs={onClearRef}\n                                            placeholder=\"Leaf-category\"\n                                            search={query => handleFilter({ query, field: \"leaf-category\" })}\n                                            values={event => handleFilterByUrl(\"leafCategory\", event.value)}\n                                        />\n                                    </Container.Column>\n\n                                    {/* Brand */}\n                                    <Container.Column className=\"col-6 col-md-3 mb-2 px-1\">\n                                        <SearchableSelect\n                                            refs={onClearRef}\n                                            placeholder=\"Brand\"\n                                            search={query => handleFilter({ query, field: \"brand\" })}\n                                            values={event => handleFilterByUrl(\"brand\", event.value)}\n                                        />\n                                    </Container.Column>\n\n                                </Container.Row>\n\n                                <Container.Row className=\"px-2\">\n\n                                    {/* Vendor */}\n                                    <Container.Column className=\"col-6 col-md-3 mb-2 px-1\">\n                                        <SearchableSelect\n                                            refs={onClearRef}\n                                            placeholder=\"Vendor\"\n                                            search={query => handleFilter({ query, field: \"vendor\" })}\n                                            values={event => handleFilterByUrl(\"vendor\", event.value)}\n                                        />\n                                    </Container.Column>\n\n                                    {/* Status */}\n                                    <Container.Column className=\"col-6 col-md-3 mb-2 px-1\">\n                                        <SingleSelect\n                                            refs={onClearRef}\n                                            placeholder=\"Status\"\n                                            borderRadius={25}\n                                            options={[\n                                                { label: \"Activated\", value: true },\n                                                { label: \"Deactivated\", value: false }\n                                            ]}\n                                            value={event => handleFilterByUrl(\"status\", event.value)}\n                                        />\n                                    </Container.Column>\n\n                                    {/* Content uploader */}\n                                    <Container.Column className=\"col-6 col-md-3 mb-2 px-1\">\n                                        <SearchableSelect\n                                            refs={onClearRef}\n                                            placeholder=\"Content uploader\"\n                                            search={query => handleFilter({ query, field: \"uploader\" })}\n                                            values={event => handleFilterByUrl(\"uploader\", event.value)}\n                                        />\n                                    </Container.Column>\n\n                                    {/* Content auditor */}\n                                    <Container.Column className=\"col-6 col-md-3 mb-2 px-1\">\n                                        <SearchableSelect\n                                            refs={onClearRef}\n                                            placeholder=\"Content auditor\"\n                                            search={query => handleFilter({ query, field: \"auditor\" })}\n                                            values={event => handleFilterByUrl(\"auditor\", event.value)}\n                                        />\n                                    </Container.Column>\n                                </Container.Row>\n\n                                {/* Date range filter */}\n                                <Container.Row className=\"px-2\">\n                                    <Container.Column className=\"col-sm-6 col-md-3 mb-2 px-1\">\n                                        <div className=\"form-group mb-0\">\n                                            <input\n                                                type=\"date\"\n                                                className=\"form-control shadow-none\"\n                                                style={{ borderRadius: 25, fontSize: 14, minHeight: 42 }}\n                                                onChange={event => handleFilterByUrl(\"from\", event.target.value)}\n                                            />\n                                        </div>\n                                    </Container.Column>\n                                    <Container.Column className=\"col-sm-6 col-md-3 mb-2 px-1\">\n                                        <div className=\"form-group mb-0\">\n                                            <input\n                                                type=\"date\"\n                                                className=\"form-control shadow-none\"\n                                                style={{ borderRadius: 25, fontSize: 14, minHeight: 42 }}\n                                                onChange={event => handleFilterByUrl(\"to\", event.target.value)}\n                                            />\n                                        </div>\n                                    </Container.Column>\n                                </Container.Row>\n\n                            </Card.Header>\n                            <Card.Body className=\"pt-0\">\n                                <DataTable\n                                    fixedHeader\n                                    fixedHeaderScrollHeight=\"580px\"\n                                    customStyles={customStyles}\n                                    columns={columns}\n                                    data={data}\n                                    loading={loading}\n                                    totalRows={totalItems}\n                                    pagination={true}\n                                    paginationServer={true}\n                                    handlePerRowsChange={handleLimitChange}\n                                    handlePageChange={handlePageChange}\n\n                                    searchable\n                                    placeholder={\"Search product\"}\n                                    search={handleSearch}\n                                    suggestion={handleSuggestion}\n                                    searchLoading={searchLoading}\n                                    clearSearch={() => fetchData(1)}\n                                />\n                            </Card.Body>\n                        </Card.Simple>\n                    </Container.Column>\n                </Container.Row>\n            </Container.Fluid>\n        </div >\n    );\n};\n\nexport default Index;\n\n\n"]},"metadata":{},"sourceType":"module"}