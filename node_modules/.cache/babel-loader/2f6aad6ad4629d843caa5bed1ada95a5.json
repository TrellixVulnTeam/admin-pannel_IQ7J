{"ast":null,"code":"import _toConsumableArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./style.scss';import Icon from'react-icons-kit';import Modal from'react-bootstrap/Modal';import{plus,x}from'react-icons-kit/feather';import{ic_cloud_upload}from'react-icons-kit/md';// Single file uploader\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SingleFileUploader=function SingleFileUploader(props){var _useState=useState(props.deafult?props.deafult:null),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];// Handle image\nvar handleImage=function handleImage(event){var file=event.target.files[0];if(file){var size=parseInt(file.size)/1024;if(size>props.limit){props.dataHandeller({error:\"Select less than \".concat(props.limit,\"KB file.\")});return;}props.dataHandeller({image:file});setSelectedFile(URL.createObjectURL(file));}};return/*#__PURE__*/_jsx(\"div\",{className:\"img-select-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[props.error?/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:props.error}):/*#__PURE__*/_jsx(\"small\",{children:props.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[selectedFile||props.default?/*#__PURE__*/_jsx(\"div\",{className:\"preview-container text-center mr-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"image border\",style:{width:props.width?props.width:80,height:props.height?props.height:80},children:[/*#__PURE__*/_jsx(\"img\",{src:selectedFile||props.default,className:\"img-fluid\",style:{width:\"100%\",height:\"100%\"},alt:\"...\"}),props.loading?/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail-overlay flex-center flex-column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})}):null]})}):null,props.loading&&/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail-overlay flex-center flex-column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})}),!props.loading&&/*#__PURE__*/_jsx(\"div\",{className:\"add-container text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-plus border\",style:{width:props.width?props.width:80,height:props.height?props.height:80},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".jpg, .png, .jpeg\",className:\"upload\",onChange:handleImage}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-center flex-column\",children:/*#__PURE__*/_jsx(Icon,{icon:plus,className:\"icon\",size:20})})]})})]})]})});};// Multiple file uploader\nexport var MultiFileUploader=function MultiFileUploader(props){var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState({values:null,previews:props.deafult&&props.deafult.length?_toConsumableArray(props.deafult):[]}),_useState6=_slicedToArray(_useState5,2),selectedFiles=_useState6[0],setSelectedFiles=_useState6[1];useEffect(function(){if(props.error)setError(props.error);},[props.error]);// Handle image\nvar handleImages=function handleImages(event){var size=0;var fileArray=[];var files=event.target.files;for(var i=0;i<files.length;i++){fileArray.push(URL.createObjectURL(files[i]));size+=files[i].size;}if(fileArray.length<2){return setError('Select more than 2 files.');}else if(parseInt(size/1000)>props.limit){return setError('Total size limit is 8MB');}setSelectedFiles({values:files,previews:fileArray});props.dataHandeller({images:files});};return/*#__PURE__*/_jsx(\"div\",{className:\"img-select-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[error?/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:error}):/*#__PURE__*/_jsx(\"small\",{children:props.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[selectedFiles.previews&&selectedFiles.previews.length?selectedFiles.previews.map(function(file,i){return/*#__PURE__*/_jsx(\"div\",{className:\"preview-container text-center mr-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"image border\",style:{width:props.width?props.width:80,height:props.height?props.height:80},children:[/*#__PURE__*/_jsx(\"img\",{src:file,className:\"img-fluid\",alt:\"...\"}),props.loading?/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail-overlay flex-center flex-column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})}):null]})},i);}):null,props.loading&&/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail-overlay flex-center flex-column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})}),!props.loading&&/*#__PURE__*/_jsx(\"div\",{className:\"add-container text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-plus border\",style:{width:props.width?props.width:80,height:props.height?props.height:80},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"upload\",multiple:true,accept:\".jpg, .png, .jpeg\",onChange:handleImages}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-center flex-column\",children:/*#__PURE__*/_jsx(Icon,{icon:plus,size:22})})]})})]})]})});};// Upload with modal\nexport var FileUploaderModal=function FileUploaderModal(props){var _useState7=useState({value:null,preview:null}),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];// Handle image\nvar handleImage=function handleImage(event){var file=event.target.files[0];if(file)setImage({value:file,preview:URL.createObjectURL(file)});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Modal,{show:props.show,onHide:props.onHide,backdrop:\"static\",keyboard:false,dialogClassName:\"custom-file-upload-modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{className:\"border-0\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-bold mb-0\",children:props.title})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"p-3\",children:image.value&&image.preview?/*#__PURE__*/ // File preview container\n_jsxs(\"div\",{className:\"file-preview-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-preview\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.preview,className:\"img-fluid m-auto\",alt:\"...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn shadow rounded-circle btn__close\",disabled:props.loading,onClick:function onClick(){return setImage({value:null,preview:null});},children:/*#__PURE__*/_jsx(Icon,{icon:x,size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right pt-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn shadow-none btn__upload\",disabled:props.loading,onClick:function onClick(){return props.upload(image.value);},children:props.loading?\"Uploading ...\":\"Upload\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn shadow-none btn__cancel ml-2\",disabled:props.loading,onClick:function onClick(){setImage({value:null,preview:null});props.onHide();},children:\"Cancel\"})]})]}):/*#__PURE__*/ // File select container\n_jsx(\"div\",{className:\"file-selector-container text-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".jpg, .png, .jpeg\",className:\"upload\",onChange:handleImage}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-container text-center border rounded p-4 w-50 m-auto\",children:/*#__PURE__*/_jsx(Icon,{icon:ic_cloud_upload,style:{color:\"#eeeeee\"},size:40})}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Select .jpg, .png, .jpeg type file.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"To use your image.\"})]})]})})})]})});};","map":{"version":3,"sources":["D:/previous/src/components/fileUploader/Index.js"],"names":["React","useEffect","useState","Icon","Modal","plus","x","ic_cloud_upload","SingleFileUploader","props","deafult","selectedFile","setSelectedFile","handleImage","event","file","target","files","size","parseInt","limit","dataHandeller","error","image","URL","createObjectURL","title","default","width","height","loading","MultiFileUploader","setError","values","previews","length","selectedFiles","setSelectedFiles","handleImages","fileArray","i","push","images","map","FileUploaderModal","value","preview","setImage","show","onHide","upload","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './style.scss'\nimport Icon from 'react-icons-kit'\nimport Modal from 'react-bootstrap/Modal'\nimport { plus, x } from 'react-icons-kit/feather'\nimport { ic_cloud_upload } from 'react-icons-kit/md'\n\n// Single file uploader\nexport const SingleFileUploader = (props) => {\n    const [selectedFile, setSelectedFile] = useState(props.deafult ? props.deafult : null)\n\n    // Handle image\n    const handleImage = event => {\n        const file = event.target.files[0]\n        if (file) {\n            const size = parseInt(file.size) / 1024\n\n            if (size > props.limit) {\n                props.dataHandeller({ error: `Select less than ${props.limit}KB file.` })\n                return\n            }\n\n            props.dataHandeller({ image: file })\n            setSelectedFile(URL.createObjectURL(file))\n        }\n    }\n\n    return (\n        <div className=\"img-select-container\">\n            <div className=\"form-group mb-4\">\n                {props.error ? <small className=\"text-danger\">{props.error}</small> : <small>{props.title}</small>}\n\n                <div className=\"d-flex\">\n\n                    {/* Selected / Default file preview */}\n                    {selectedFile || props.default ?\n                        <div className=\"preview-container text-center mr-2\">\n                            <div\n                                className=\"image border\"\n                                style={{ width: props.width ? props.width : 80, height: props.height ? props.height : 80 }}\n                            >\n                                <img src={selectedFile || props.default} className=\"img-fluid\" style={{ width: \"100%\", height: \"100%\" }} alt=\"...\" />\n                                {props.loading ?\n                                    <div className=\"thumbnail-overlay flex-center flex-column\">\n                                        <div className=\"loader\"></div>\n                                    </div>\n                                    : null}\n                            </div>\n                        </div>\n                        : null}\n\n                    {/* Loading overlay */}\n                    {props.loading &&\n                        <div className=\"thumbnail-overlay flex-center flex-column\">\n                            <div className=\"loader\"></div>\n                        </div>\n                    }\n\n                    {/* New file add container */}\n                    {!props.loading &&\n                        <div className=\"add-container text-center\">\n                            <div\n                                className=\"image-plus border\"\n                                style={{ width: props.width ? props.width : 80, height: props.height ? props.height : 80 }}\n                            >\n                                <input\n                                    type=\"file\"\n                                    accept=\".jpg, .png, .jpeg\"\n                                    className=\"upload\"\n                                    onChange={handleImage}\n                                />\n                                <div className=\"flex-center flex-column\">\n                                    <Icon icon={plus} className=\"icon\" size={20} />\n                                </div>\n                            </div>\n                        </div>\n                    }\n\n                </div>\n            </div>\n        </div>\n    );\n}\n\n// Multiple file uploader\nexport const MultiFileUploader = (props) => {\n    const [error, setError] = useState(null)\n    const [selectedFiles, setSelectedFiles] = useState({\n        values: null,\n        previews: props.deafult && props.deafult.length ? [...props.deafult] : []\n    })\n\n    useEffect(() => {\n        if (props.error) setError(props.error)\n    }, [props.error])\n\n    // Handle image\n    const handleImages = event => {\n        let size = 0\n        let fileArray = []\n        const files = event.target.files\n\n        for (let i = 0; i < files.length; i++) {\n            fileArray.push(URL.createObjectURL(files[i]))\n            size += files[i].size\n        }\n\n        if (fileArray.length < 2) {\n            return setError('Select more than 2 files.')\n        } else if (parseInt(size / 1000) > props.limit) {\n            return setError('Total size limit is 8MB')\n        }\n        setSelectedFiles({ values: files, previews: fileArray })\n        props.dataHandeller({ images: files })\n    }\n\n    return (\n        <div className=\"img-select-container\">\n            <div className=\"form-group mb-4\">\n                {error ? <small className=\"text-danger\">{error}</small> : <small>{props.title}</small>}\n\n                <div className=\"d-flex\">\n\n                    {/* Files preview */}\n                    {selectedFiles.previews && selectedFiles.previews.length ?\n                        selectedFiles.previews.map((file, i) =>\n                            <div className=\"preview-container text-center mr-1\" key={i}>\n                                <div className=\"image border\" style={{ width: props.width ? props.width : 80, height: props.height ? props.height : 80 }}>\n                                    <img src={file} className=\"img-fluid\" alt=\"...\" />\n                                    {props.loading ?\n                                        <div className=\"thumbnail-overlay flex-center flex-column\">\n                                            <div className=\"loader\"></div>\n                                        </div>\n                                        : null}\n                                </div>\n                            </div>\n                        ) : null}\n\n                    {/* Loading overlay */}\n                    {props.loading &&\n                        <div className=\"thumbnail-overlay flex-center flex-column\">\n                            <div className=\"loader\"></div>\n                        </div>\n                    }\n\n                    {/* Files select  */}\n                    {!props.loading &&\n                        <div className=\"add-container text-center\">\n                            <div\n                                className=\"image-plus border\"\n                                style={{ width: props.width ? props.width : 80, height: props.height ? props.height : 80 }}\n                            >\n                                <input\n                                    type=\"file\"\n                                    className=\"upload\"\n                                    multiple\n                                    accept=\".jpg, .png, .jpeg\"\n                                    onChange={handleImages} />\n                                <div className=\"flex-center flex-column\">\n                                    <Icon icon={plus} size={22} />\n                                </div>\n                            </div>\n                        </div>\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\n// Upload with modal\nexport const FileUploaderModal = (props) => {\n    const [image, setImage] = useState({ value: null, preview: null })\n\n    // Handle image\n    const handleImage = event => {\n        const file = event.target.files[0]\n        if (file) setImage({ value: file, preview: URL.createObjectURL(file) })\n    }\n\n    return (\n        <div>\n            <Modal\n                show={props.show}\n                onHide={props.onHide}\n                backdrop=\"static\"\n                keyboard={false}\n                dialogClassName=\"custom-file-upload-modal\"\n            >\n                <Modal.Header className=\"border-0\">\n                    <h6 className=\"font-weight-bold mb-0\">{props.title}</h6>\n                </Modal.Header>\n                <Modal.Body className=\"p-3\">\n                    {image.value && image.preview ?\n\n                        // File preview container\n                        <div className=\"file-preview-container\">\n                            <div className=\"file-preview\">\n                                <img src={image.preview} className=\"img-fluid m-auto\" alt=\"...\" />\n                                <button\n                                    type=\"button\"\n                                    className=\"btn shadow rounded-circle btn__close\"\n                                    disabled={props.loading}\n                                    onClick={() => setImage({ value: null, preview: null })}\n                                ><Icon icon={x} size={20} /></button>\n                            </div>\n                            <div className=\"text-right pt-3\">\n                                <button\n                                    type=\"button\"\n                                    className=\"btn shadow-none btn__upload\"\n                                    disabled={props.loading}\n                                    onClick={() => props.upload(image.value)}\n                                >{props.loading ? \"Uploading ...\" : \"Upload\"}</button>\n\n                                <button\n                                    type=\"button\"\n                                    className=\"btn shadow-none btn__cancel ml-2\"\n                                    disabled={props.loading}\n                                    onClick={() => {\n                                        setImage({ value: null, preview: null })\n                                        props.onHide()\n                                    }}\n                                >Cancel</button>\n                            </div>\n                        </div>\n                        :\n\n                        // File select container\n                        <div className=\"file-selector-container text-center\">\n                            <div>\n                                <input\n                                    type=\"file\"\n                                    accept=\".jpg, .png, .jpeg\"\n                                    className=\"upload\"\n                                    onChange={handleImage}\n                                />\n                                <div className=\"icon-container text-center border rounded p-4 w-50 m-auto\">\n                                    <Icon icon={ic_cloud_upload} style={{ color: \"#eeeeee\" }} size={40} />\n                                </div>\n                                <div className=\"my-3\">\n                                    <p className=\"text-muted\">Select .jpg, .png, .jpeg type file.</p>\n                                    <p className=\"text-muted\">To use your image.</p>\n                                </div>\n                            </div>\n                        </div>\n                    }\n                </Modal.Body>\n            </Modal>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}