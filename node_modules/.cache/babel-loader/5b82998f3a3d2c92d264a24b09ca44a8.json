{"ast":null,"code":"import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useCallback,useEffect,useState}from'react';import'./style.scss';import Icon from'react-icons-kit';import{Link}from'react-router-dom';import{plus}from'react-icons-kit/feather';import{PreLoader}from'../../components/loading/Index';import Requests from'../../utils/Requests/Index';import CategoryTable from'../../components/table/Category';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState6=_slicedToArray(_useState5,1),header=_useState6[0];// Fetch data\nvar fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Requests.Category.Index(header);case 2:data=_context.sent;if(data){setItems(data.categories);setLoading(false);}setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);})),[header]);useEffect(function(){fetchData();},[header,fetchData]);if(isLoading)return/*#__PURE__*/_jsx(PreLoader,{});return/*#__PURE__*/_jsx(\"div\",{className:\"category-index pb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white shadow-sm border-0 p-3 p-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Category List\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/category/create\",type:\"button\",className:\"btn shadow-none rounded-circle\",children:/*#__PURE__*/_jsx(Icon,{icon:plus,size:22})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-3 p-lg-4\",children:/*#__PURE__*/_jsx(CategoryTable,{items:items,refetch:fetchData})})]})})})})});};export default Index;","map":{"version":3,"sources":["D:/previous/src/pages/category/Index.js"],"names":["React","useCallback","useEffect","useState","Icon","Link","plus","PreLoader","Requests","CategoryTable","Index","isLoading","setLoading","items","setItems","headers","Authorization","localStorage","getItem","header","fetchData","Category","data","categories"],"mappings":"4SAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,IAAT,KAAqB,yBAArB,CACA,OAASC,SAAT,KAA0B,gCAA1B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAChB,cAAgCP,QAAQ,CAAC,IAAD,CAAxC,wCAAOQ,SAAP,eAAkBC,UAAlB,eACA,eAA0BT,QAAQ,CAAC,EAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eACA,eAAiBX,QAAQ,CAAC,CACtBY,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA7B,CADa,CAAD,CAAzB,yCAAOC,MAAP,eAIA;AACA,GAAMC,CAAAA,SAAS,CAAGnB,WAAW,sEAAC,kKACPO,CAAAA,QAAQ,CAACa,QAAT,CAAkBX,KAAlB,CAAwBS,MAAxB,CADO,QACpBG,IADoB,eAE1B,GAAIA,IAAJ,CAAU,CACNR,QAAQ,CAACQ,IAAI,CAACC,UAAN,CAAR,CACAX,UAAU,CAAC,KAAD,CAAV,CACH,CACDA,UAAU,CAAC,KAAD,CAAV,CAN0B,sDAAD,GAO1B,CAACO,MAAD,CAP0B,CAA7B,CAUAjB,SAAS,CAAC,UAAM,CACZkB,SAAS,GACZ,CAFQ,CAEN,CAACD,MAAD,CAASC,SAAT,CAFM,CAAT,CAIA,GAAIT,SAAJ,CAAe,mBAAO,KAAC,SAAD,IAAP,CAEf,mBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,oBAAf,uBACI,aAAK,SAAS,CAAC,eAAf,wBACI,YAAK,SAAS,CAAC,oDAAf,uBACI,aAAK,SAAS,CAAC,QAAf,wBACI,kCAAK,WAAI,SAAS,CAAC,MAAd,2BAAL,EADJ,cAEI,YAAK,SAAS,CAAC,SAAf,uBACI,KAAC,IAAD,EACI,EAAE,CAAC,4BADP,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,gCAHd,uBAKI,KAAC,IAAD,EAAM,IAAI,CAAEL,IAAZ,CAAkB,IAAI,CAAE,EAAxB,EALJ,EADJ,EAFJ,GADJ,EADJ,cAiBI,YAAK,SAAS,CAAC,sBAAf,uBACI,KAAC,aAAD,EAAe,KAAK,CAAEO,KAAtB,CAA6B,OAAO,CAAEO,SAAtC,EADJ,EAjBJ,GADJ,EADJ,EADJ,EADJ,EADJ,CA+BH,CAvDD,CAyDA,cAAeV,CAAAA,KAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport './style.scss'\nimport Icon from 'react-icons-kit'\nimport { Link } from 'react-router-dom'\nimport { plus } from 'react-icons-kit/feather'\nimport { PreLoader } from '../../components/loading/Index'\n\nimport Requests from '../../utils/Requests/Index'\nimport CategoryTable from '../../components/table/Category'\n\nconst Index = () => {\n    const [isLoading, setLoading] = useState(true)\n    const [items, setItems] = useState([])\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        const data = await Requests.Category.Index(header)\n        if (data) {\n            setItems(data.categories)\n            setLoading(false)\n        }\n        setLoading(false)\n    }, [header])\n\n\n    useEffect(() => {\n        fetchData()\n    }, [header, fetchData])\n\n    if (isLoading) return <PreLoader />\n\n    return (\n        <div className=\"category-index pb-4\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0\">\n                            <div className=\"card-header bg-white shadow-sm border-0 p-3 p-lg-4\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mb-0\">Category List</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link\n                                            to=\"/dashboard/category/create\"\n                                            type=\"button\"\n                                            className=\"btn shadow-none rounded-circle\"\n                                        >\n                                            <Icon icon={plus} size={22} />\n                                        </Link>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Data table component for show data */}\n                            <div className=\"card-body p-3 p-lg-4\">\n                                <CategoryTable items={items} refetch={fetchData} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}