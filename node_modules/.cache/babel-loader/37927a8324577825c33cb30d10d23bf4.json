{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\pages\\\\banner\\\\Edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport './style.scss';\nimport Icon from 'react-icons-kit';\nimport { Link, useParams } from 'react-router-dom';\nimport { chevronLeft } from 'react-icons-kit/feather';\nimport { Text } from '../../components/text';\nimport { Card } from '../../components/card/Index';\nimport { Container } from '../../components/container';\nimport { CustomButton } from '../../components/button';\nimport { FormGroup } from '../../components/formGroup';\nimport { SearchableSelect } from '../../components/select';\nimport { PreLoader } from '../../components/loading/Index';\nimport { SingleFileUploader } from '../../components/fileUploader/Index';\nimport Requests from '../../utils/Requests/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Edit = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [data, setData] = useState({});\n  const [isLoading, setLoading] = useState(true);\n  const [changing, setChanging] = useState(false);\n  const [item, setItem] = useState({\n    type: null,\n    value: null,\n    error: null\n  });\n  const [link, setLink] = useState({\n    value: null,\n    error: null\n  });\n  const [webImage, setWebImage] = useState({\n    value: null,\n    error: null\n  });\n  const [mobileImage, setMobileImage] = useState({\n    value: null,\n    error: null\n  });\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  }); // Fetch data\n\n  const fetchData = useCallback(async () => {\n    const response = await Requests.Banner.Show(id, header);\n\n    if (response) {\n      setData(response.data);\n      setItem({\n        type: response.data.type\n      });\n      setLink({\n        value: response.data.link\n      });\n    }\n\n    setLoading(false);\n  }, [id, header]);\n  useEffect(() => {\n    fetchData();\n  }, [id, fetchData]); // Handle search\n\n  const handleSearch = async _ref => {\n    let {\n      inputValue,\n      field\n    } = _ref;\n    let response;\n    if (!field) response = {\n      data: []\n    };\n\n    if (field === \"brand\") {\n      response = await Requests.Options.Brand(inputValue, header);\n    }\n\n    if (field === \"vendor\") {\n      response = await Requests.Options.Vendor(inputValue, header);\n    }\n\n    if (field === \"product\") {\n      response = await Requests.Options.Product(inputValue, header);\n    }\n\n    if (field === \"category\") {\n      response = await Requests.Options.Category(inputValue, header);\n    }\n\n    if (field === \"sub-category\") {\n      response = await Requests.Options.SubCategory(inputValue, header);\n    }\n\n    if (field === \"leaf-category\") {\n      response = await Requests.Options.LeafCategory(inputValue, header);\n    }\n\n    if (response.data && response.data.length) return response.data;\n    return [];\n  }; // Submit Form\n\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    if (item.type && !item.value) return setItem({ ...item,\n      error: item.type + \" is required.\"\n    });\n    if (!link.value && !item.value) return setLink({ ...link,\n      error: \"Link is required.\"\n    });\n    if (!webImage.value) return setWebImage({\n      value: null,\n      error: \"Web banner is required.\"\n    });\n    if (!mobileImage.value) return setMobileImage({\n      value: null,\n      error: \"Mobile banner is required.\"\n    });\n    let formData = new FormData();\n    formData.append('type', item.type);\n    formData.append('item', item.value ? item.value : null);\n    formData.append('link', link.value);\n    formData.append('webBanner', webImage.value);\n    formData.append('mobileBanner', mobileImage.value);\n    setChanging(true);\n    await Requests.Banner.Update(id, formData, header);\n    setChanging(false);\n  };\n\n  if (isLoading) return /*#__PURE__*/_jsxDEV(PreLoader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 27\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-4\",\n    children: /*#__PURE__*/_jsxDEV(Container.Fluid, {\n      children: /*#__PURE__*/_jsxDEV(Container.Row, {\n        children: /*#__PURE__*/_jsxDEV(Container.Column, {\n          className: \"col-padding\",\n          children: /*#__PURE__*/_jsxDEV(Card.Simple, {\n            className: \"border-0 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              className: \"p-3 p-lg-4 bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mt-2 mb-0\",\n                    children: \"Edit Banner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 42\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-auto\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/dashboard/banner\",\n                    children: /*#__PURE__*/_jsxDEV(CustomButton, {\n                      className: \"btn-primary border-0 rounded-circle circle__padding\",\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: chevronLeft,\n                        size: 22\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: onSubmit,\n                children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      children: \"Select the type which you want to added.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 47\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"type\",\n                    className: \"form-control shadow-none\",\n                    defaultValue: data.type,\n                    onChange: event => {\n                      setItem({ ...item,\n                        value: null,\n                        type: event.target.value,\n                        error: null\n                      });\n                      setLink({ ...link,\n                        error: null\n                      });\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Select Option --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"brand\",\n                      children: \"Brand\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"vendor\",\n                      children: \"Vendor\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"product\",\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"category\",\n                      children: \"Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"sub-category\",\n                      children: \"Sub Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"leaf-category\",\n                      children: \"Leaf Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: [item.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      children: item.error\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 82\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 55\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      children: [\"Select the \", item.type, \" which you want to add.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 111\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 108\n                  }, this), /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                    borderRadius: 4,\n                    placeholder: item.type ? \"Select \" + item.type : \"Select item\",\n                    search: inputValue => handleSearch({\n                      inputValue,\n                      field: item.type\n                    }),\n                    values: data => {\n                      if (item.type === \"brand\" || item.type === \"vendor\") {\n                        setItem({ ...item,\n                          value: data.value,\n                          error: null\n                        });\n                      } else {\n                        setItem({ ...item,\n                          value: data.slug,\n                          error: null\n                        });\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: [link.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      children: link.error\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 82\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 55\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      children: \"Add other links\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 111\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 108\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control shadow-none\",\n                    placeholder: \"www.example.com\",\n                    defaultValue: data.link || null,\n                    onChange: event => setLink({\n                      value: event.target.value,\n                      error: null\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: [webImage.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: webImage.error\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 59\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Web banner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 109\n                  }, this), /*#__PURE__*/_jsxDEV(SingleFileUploader, {\n                    width: 250,\n                    height: 100,\n                    limit: 100,\n                    default: data.web,\n                    dataHandeller: data => setWebImage({\n                      value: data.image,\n                      error: data.error || null\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: [mobileImage.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: mobileImage.error\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 62\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Mobile banner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 115\n                  }, this), /*#__PURE__*/_jsxDEV(SingleFileUploader, {\n                    width: 200,\n                    height: 80,\n                    limit: 100,\n                    default: data.mobile,\n                    dataHandeller: data => setMobileImage({\n                      value: data.image,\n                      error: data.error || null\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn shadow-none\",\n                    disabled: changing,\n                    children: changing ? 'Saving ...' : 'Save Changes'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Edit, \"6VhbboFwtHaaPClwTzMPlm58EpY=\", false, function () {\n  return [useParams];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["D:/previous/src/pages/banner/Edit.js"],"names":["React","useCallback","useEffect","useState","Icon","Link","useParams","chevronLeft","Text","Card","Container","CustomButton","FormGroup","SearchableSelect","PreLoader","SingleFileUploader","Requests","Edit","id","data","setData","isLoading","setLoading","changing","setChanging","item","setItem","type","value","error","link","setLink","webImage","setWebImage","mobileImage","setMobileImage","header","headers","Authorization","localStorage","getItem","fetchData","response","Banner","Show","handleSearch","inputValue","field","Options","Brand","Vendor","Product","Category","SubCategory","LeafCategory","length","onSubmit","event","preventDefault","formData","FormData","append","Update","target","slug","web","image","mobile"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport './style.scss'\nimport Icon from 'react-icons-kit'\nimport { Link, useParams } from 'react-router-dom'\nimport { chevronLeft } from 'react-icons-kit/feather'\nimport { Text } from '../../components/text'\nimport { Card } from '../../components/card/Index'\nimport { Container } from '../../components/container'\nimport { CustomButton } from '../../components/button'\nimport { FormGroup } from '../../components/formGroup'\nimport { SearchableSelect } from '../../components/select'\nimport { PreLoader } from '../../components/loading/Index'\nimport { SingleFileUploader } from '../../components/fileUploader/Index'\n\nimport Requests from '../../utils/Requests/Index'\n\nconst Edit = () => {\n    const { id } = useParams()\n    const [data, setData] = useState({})\n    const [isLoading, setLoading] = useState(true)\n    const [changing, setChanging] = useState(false)\n    const [item, setItem] = useState({ type: null, value: null, error: null })\n    const [link, setLink] = useState({ value: null, error: null })\n    const [webImage, setWebImage] = useState({ value: null, error: null })\n    const [mobileImage, setMobileImage] = useState({ value: null, error: null })\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        const response = await Requests.Banner.Show(id, header)\n        if (response) {\n            setData(response.data)\n            setItem({ type: response.data.type })\n            setLink({ value: response.data.link })\n        }\n        setLoading(false)\n    }, [id, header])\n\n    useEffect(() => {\n        fetchData()\n    }, [id, fetchData])\n\n    // Handle search\n    const handleSearch = async ({ inputValue, field }) => {\n        let response\n\n        if (!field) response = { data: [] }\n\n        if (field === \"brand\") {\n            response = await Requests.Options.Brand(inputValue, header)\n        }\n\n        if (field === \"vendor\") {\n            response = await Requests.Options.Vendor(inputValue, header)\n        }\n\n        if (field === \"product\") {\n            response = await Requests.Options.Product(inputValue, header)\n        }\n\n        if (field === \"category\") {\n            response = await Requests.Options.Category(inputValue, header)\n        }\n\n        if (field === \"sub-category\") {\n            response = await Requests.Options.SubCategory(inputValue, header)\n        }\n\n        if (field === \"leaf-category\") {\n            response = await Requests.Options.LeafCategory(inputValue, header)\n        }\n\n        if (response.data && response.data.length) return response.data\n        return []\n    }\n\n    // Submit Form\n    const onSubmit = async (event) => {\n        event.preventDefault()\n        if (item.type && !item.value) return setItem({ ...item, error: item.type + \" is required.\" })\n        if (!link.value && !item.value) return setLink({ ...link, error: \"Link is required.\" })\n        if (!webImage.value) return setWebImage({ value: null, error: \"Web banner is required.\" })\n        if (!mobileImage.value) return setMobileImage({ value: null, error: \"Mobile banner is required.\" })\n\n        let formData = new FormData()\n        formData.append('type', item.type)\n        formData.append('item', item.value ? item.value : null)\n        formData.append('link', link.value)\n        formData.append('webBanner', webImage.value)\n        formData.append('mobileBanner', mobileImage.value)\n\n        setChanging(true)\n        await Requests.Banner.Update(id, formData, header)\n        setChanging(false)\n    }\n\n    if (isLoading) return <PreLoader />\n\n    return (\n        <div className=\"mb-4\">\n            <Container.Fluid>\n                <Container.Row>\n                    <Container.Column className=\"col-padding\">\n                        <Card.Simple className=\"border-0 shadow-sm\">\n                            <Card.Header className=\"p-3 p-lg-4 bg-white\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mt-2 mb-0\">Edit Banner</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link to=\"/dashboard/banner\">\n                                            <CustomButton className=\"btn-primary border-0 rounded-circle circle__padding\">\n                                                <Icon icon={chevronLeft} size={22} />\n                                            </CustomButton>\n                                        </Link>\n                                    </div>\n                                </div>\n                            </Card.Header>\n                            <Card.Body>\n                                <form onSubmit={onSubmit}>\n\n                                    {/* Type */}\n                                    <FormGroup>\n                                        <Text><i>Select the type which you want to added.</i></Text>\n\n                                        <select\n                                            name=\"type\"\n                                            className=\"form-control shadow-none\"\n                                            defaultValue={data.type}\n                                            onChange={event => {\n                                                setItem({ ...item, value: null, type: event.target.value, error: null })\n                                                setLink({ ...link, error: null })\n                                            }}\n                                        >\n                                            <option value=\"\">-- Select Option --</option>\n                                            <option value=\"brand\">Brand</option>\n                                            <option value=\"vendor\">Vendor</option>\n                                            <option value=\"product\">Product</option>\n                                            <option value=\"category\">Category</option>\n                                            <option value=\"sub-category\">Sub Category</option>\n                                            <option value=\"leaf-category\">Leaf Category</option>\n                                        </select>\n                                    </FormGroup>\n\n                                    {/* Item */}\n                                    <FormGroup>\n                                        {item.error ? <p className=\"text-danger\"><i>{item.error}</i></p> : <p><i>Select the {item.type} which you want to add.</i></p>}\n\n                                        <SearchableSelect\n                                            borderRadius={4}\n                                            placeholder={item.type ? \"Select \" + item.type : \"Select item\"}\n                                            search={inputValue => handleSearch({ inputValue, field: item.type })}\n                                            values={data => {\n                                                if (item.type === \"brand\" || item.type === \"vendor\") {\n                                                    setItem({ ...item, value: data.value, error: null })\n                                                } else {\n                                                    setItem({ ...item, value: data.slug, error: null })\n                                                }\n                                            }}\n                                        />\n                                    </FormGroup>\n\n                                    {/* Link */}\n                                    <FormGroup>\n                                        {link.error ? <p className=\"text-danger\"><i>{link.error}</i></p> : <p><i>Add other links</i></p>}\n\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-control shadow-none\"\n                                            placeholder=\"www.example.com\"\n                                            defaultValue={data.link || null}\n                                            onChange={event => setLink({ value: event.target.value, error: null })}\n                                        />\n                                    </FormGroup>\n\n\n                                    {/* Web banner uploader */}\n                                    <FormGroup>\n                                        {webImage.error ? <p className=\"text-danger\">{webImage.error}</p> : <p>Web banner</p>}\n                                        <SingleFileUploader\n                                            width={250}\n                                            height={100}\n                                            limit={100}\n                                            default={data.web}\n                                            dataHandeller={data => setWebImage({ value: data.image, error: data.error || null })}\n                                        />\n                                    </FormGroup>\n\n                                    {/* Mobile banner uploader */}\n                                    <FormGroup>\n                                        {mobileImage.error ? <p className=\"text-danger\">{mobileImage.error}</p> : <p>Mobile banner</p>}\n                                        <SingleFileUploader\n                                            width={200}\n                                            height={80}\n                                            limit={100}\n                                            default={data.mobile}\n                                            dataHandeller={data => setMobileImage({ value: data.image, error: data.error || null })}\n                                        />\n                                    </FormGroup>\n\n\n                                    {/* Submit button */}\n                                    <div className=\"text-right\">\n                                        <button type=\"submit\" className=\"btn shadow-none\" disabled={changing}>\n                                            {changing ? 'Saving ...' : 'Save Changes'}\n                                        </button>\n                                    </div>\n                                </form>\n                            </Card.Body>\n                        </Card.Simple>\n                    </Container.Column>\n                </Container.Row>\n            </Container.Fluid>\n        </div>\n    );\n};\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}