{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\pages\\\\category\\\\Create.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Icon from 'react-icons-kit';\nimport { Form } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { chevronLeft } from 'react-icons-kit/feather';\nimport { Container } from '../../components/container';\nimport { Card } from '../../components/card/Index';\nimport { CustomButton } from '../../components/button';\nimport { SingleFileUploader } from '../../components/fileUploader/Index';\nimport { SearchableSelect } from '../../components/select';\nimport Requests from '../../utils/Requests/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Create = () => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [isLoading, setLoading] = useState(false);\n  const [image, setImage] = useState({\n    value: null,\n    error: null\n  });\n  const [categoryError, setCategoryError] = useState({\n    type: null,\n    message: null\n  });\n  const [selector, setSelector] = useState({\n    label: \"Category\",\n    value: null\n  });\n  const [selected, setSelected] = useState(null);\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  }); // Handle search from main category\n\n  const handleSearchFromMainCategory = async inputValue => {\n    const response = await Requests.Options.Category(inputValue, header);\n\n    if (response.data && response.data.length) {\n      return response.data;\n    }\n\n    return [];\n  }; // Handle search from sub category\n\n\n  const handleSearchFromSubCategory = async inputValue => {\n    const response = await Requests.Options.SubCategory(inputValue, header);\n\n    if (response.data && response.data.length) {\n      return response.data;\n    }\n\n    return [];\n  }; // Submit Form\n\n\n  const onSubmit = async data => {\n    if (!image.value) return setImage({ ...image,\n      error: 'Icon/Logo is required'\n    });\n\n    if (selector.value && !selected) {\n      return setCategoryError({\n        type: selector.value,\n        message: selector.value + \" is required*\"\n      });\n    }\n\n    setLoading(true);\n    let formData = new FormData();\n    formData.append('name', data.name);\n    formData.append('type', selector.label);\n    formData.append('category', selected);\n    formData.append('image', image.value);\n    await Requests.Category.Store(formData, header);\n    setLoading(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pb-4\",\n    children: /*#__PURE__*/_jsxDEV(Container.Fluid, {\n      children: /*#__PURE__*/_jsxDEV(Container.Row, {\n        children: /*#__PURE__*/_jsxDEV(Container.Column, {\n          className: \"col-padding\",\n          children: /*#__PURE__*/_jsxDEV(Card.Simple, {\n            className: \"border-0\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              className: \"bg-white border-0 p-3 p-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-0\",\n                    children: \"Create Category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 42\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-auto\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/dashboard/category\",\n                    children: /*#__PURE__*/_jsxDEV(CustomButton, {\n                      className: \"btn-primary border-0 rounded-circle circle__padding\",\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: chevronLeft,\n                        size: 22\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 76,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              className: \"px-4 pb-4 pt-0\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit(onSubmit),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group mb-4\",\n                  children: [errors.name && errors.name.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: errors.name && errors.name.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 45\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"name\",\n                    className: \"form-control shadow-none\",\n                    placeholder: \"Enter category name\",\n                    ref: register({\n                      required: \"Name is required\"\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group mb-4\",\n                  children: [image.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: image.error\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 56\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Banner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 103\n                  }, this), /*#__PURE__*/_jsxDEV(SingleFileUploader, {\n                    width: 400,\n                    height: 120,\n                    limit: 300,\n                    dataHandeller: data => setImage({\n                      value: data.image,\n                      error: data.error || null\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Container.Column, {\n                    className: \"col-lg-4\",\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"text-capitalize font__size__md mb-0\",\n                      controlId: \"category-control\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                        type: \"checkbox\",\n                        label: \"Category\",\n                        checked: selector.label === \"Category\",\n                        onChange: () => {\n                          setSelected(null);\n                          setSelector({\n                            label: \"Category\",\n                            value: null\n                          });\n                          setCategoryError({\n                            type: null,\n                            message: null\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                    className: \"col-lg-4\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"text-capitalize font__size__md mb-3\",\n                      controlId: \"sub-category-control\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                        type: \"checkbox\",\n                        label: \"Sub Category\",\n                        checked: selector.label === \"Sub Category\",\n                        onChange: () => {\n                          setSelected(null);\n                          setSelector({\n                            label: \"Sub Category\",\n                            value: \"Category\"\n                          });\n                          setCategoryError({\n                            type: null,\n                            message: null\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 45\n                    }, this), selector.value && selector.value === \"Category\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [categoryError.type && categoryError.type === \"Category\" ? /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"font-14 text-danger mb-0\",\n                        children: categoryError.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 57\n                      }, this) : /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"font-14 text-muted mb-0\",\n                        children: \"Category\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                        borderRadius: 4,\n                        placeholder: \"Select category\",\n                        search: inputValue => handleSearchFromMainCategory(inputValue),\n                        values: event => {\n                          setSelected(event.value);\n                          setCategoryError({\n                            type: null,\n                            message: null\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Container.Column, {\n                    className: \"col-lg-4\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"text-capitalize font__size__md mb-3\",\n                      controlId: \"leaf-category-control\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                        type: \"checkbox\",\n                        label: \"Leaf Category\",\n                        checked: selector.label === \"Leaf Category\",\n                        onChange: () => {\n                          setSelected(null);\n                          setSelector({\n                            label: \"Leaf Category\",\n                            value: \"Sub Category\"\n                          });\n                          setCategoryError({\n                            type: null,\n                            message: null\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 45\n                    }, this), selector.value && selector.value === \"Sub Category\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [categoryError.type && categoryError.type === \"Sub Category\" ? /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"font-14 text-danger mb-0\",\n                        children: categoryError.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 188,\n                        columnNumber: 57\n                      }, this) : /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"font-14 text-muted mb-0\",\n                        children: \"Sub Category\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(SearchableSelect, {\n                        borderRadius: 4,\n                        placeholder: \"Select sub category\",\n                        search: inputValue => handleSearchFromSubCategory(inputValue),\n                        values: event => {\n                          setSelected(event.value);\n                          setCategoryError({\n                            type: null,\n                            message: null\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Container.Row, {\n                  children: /*#__PURE__*/_jsxDEV(Container.Column, {\n                    className: \"text-center py-4\",\n                    children: /*#__PURE__*/_jsxDEV(CustomButton, {\n                      type: \"submit\",\n                      className: \"btn-primary border-0 px-5 font-14\",\n                      disabled: isLoading,\n                      children: isLoading ? \"Creating ...\" : \"Create\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Create, \"1mkEVXGr/zMZDB90yPorwJmjudI=\", false, function () {\n  return [useForm];\n});\n\n_c = Create;\nexport default Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["D:/previous/src/pages/category/Create.js"],"names":["React","useState","Icon","Form","Link","useForm","chevronLeft","Container","Card","CustomButton","SingleFileUploader","SearchableSelect","Requests","Create","register","handleSubmit","errors","isLoading","setLoading","image","setImage","value","error","categoryError","setCategoryError","type","message","selector","setSelector","label","selected","setSelected","header","headers","Authorization","localStorage","getItem","handleSearchFromMainCategory","inputValue","response","Options","Category","data","length","handleSearchFromSubCategory","SubCategory","onSubmit","formData","FormData","append","name","Store","required","event"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Icon from 'react-icons-kit'\nimport { Form } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { useForm } from 'react-hook-form'\nimport { chevronLeft } from 'react-icons-kit/feather'\nimport { Container } from '../../components/container'\nimport { Card } from '../../components/card/Index'\nimport { CustomButton } from '../../components/button'\nimport { SingleFileUploader } from '../../components/fileUploader/Index'\nimport { SearchableSelect } from '../../components/select'\nimport Requests from '../../utils/Requests/Index'\n\nconst Create = () => {\n    const { register, handleSubmit, errors } = useForm()\n    const [isLoading, setLoading] = useState(false)\n    const [image, setImage] = useState({ value: null, error: null })\n    const [categoryError, setCategoryError] = useState({ type: null, message: null })\n\n    const [selector, setSelector] = useState({ label: \"Category\", value: null })\n    const [selected, setSelected] = useState(null)\n\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Handle search from main category\n    const handleSearchFromMainCategory = async (inputValue) => {\n        const response = await Requests.Options.Category(inputValue, header)\n        if (response.data && response.data.length) {\n            return response.data\n        }\n        return []\n    }\n\n    // Handle search from sub category\n    const handleSearchFromSubCategory = async (inputValue) => {\n        const response = await Requests.Options.SubCategory(inputValue, header)\n        if (response.data && response.data.length) {\n            return response.data\n        }\n        return []\n    }\n\n    // Submit Form\n    const onSubmit = async (data) => {\n        if (!image.value) return setImage({ ...image, error: 'Icon/Logo is required' })\n        if (selector.value && !selected) {\n            return setCategoryError({ type: selector.value, message: selector.value + \" is required*\" })\n        }\n\n        setLoading(true)\n        let formData = new FormData()\n        formData.append('name', data.name)\n        formData.append('type', selector.label)\n        formData.append('category', selected)\n        formData.append('image', image.value)\n\n        await Requests.Category.Store(formData, header)\n        setLoading(false)\n    }\n\n    return (\n        <div className=\"pb-4\">\n\n            <Container.Fluid>\n                <Container.Row>\n                    <Container.Column className=\"col-padding\">\n                        <Card.Simple className=\"border-0\">\n                            <Card.Header className=\"bg-white border-0 p-3 p-lg-4\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mb-0\">Create Category</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link to=\"/dashboard/category\">\n                                            <CustomButton className=\"btn-primary border-0 rounded-circle circle__padding\">\n                                                <Icon icon={chevronLeft} size={22} />\n                                            </CustomButton>\n                                        </Link>\n                                    </div>\n                                </div>\n                            </Card.Header>\n                            <Card.Body className=\"px-4 pb-4 pt-0\">\n                                <form onSubmit={handleSubmit(onSubmit)}>\n\n                                    {/* Name */}\n                                    <div className=\"form-group mb-4\">\n                                        {errors.name && errors.name.message ? (\n                                            <p className=\"text-danger\">{errors.name && errors.name.message}</p>\n                                        ) : <p>Name</p>}\n\n                                        <input\n                                            type=\"text\"\n                                            name=\"name\"\n                                            className=\"form-control shadow-none\"\n                                            placeholder=\"Enter category name\"\n                                            ref={register({ required: \"Name is required\" })}\n                                        />\n                                    </div>\n\n                                    {/* Image uploader */}\n                                    <div className=\"form-group mb-4\">\n                                        {image.error ? <p className=\"text-danger\">{image.error}</p> : <p>Banner</p>}\n                                        <SingleFileUploader\n                                            width={400}\n                                            height={120}\n                                            limit={300}\n                                            dataHandeller={data => setImage({\n                                                value: data.image,\n                                                error: data.error || null\n                                            })}\n                                        />\n                                    </div>\n\n\n                                    <Container.Row>\n\n                                        {/* Main category */}\n                                        <Container.Column className=\"col-lg-4\">\n                                            <Form.Group className=\"text-capitalize font__size__md mb-0\" controlId=\"category-control\">\n                                                <Form.Check\n                                                    type=\"checkbox\"\n                                                    label=\"Category\"\n                                                    checked={selector.label === \"Category\"}\n                                                    onChange={() => {\n                                                        setSelected(null)\n                                                        setSelector({ label: \"Category\", value: null })\n                                                        setCategoryError({ type: null, message: null })\n                                                    }}\n                                                />\n                                            </Form.Group>\n                                        </Container.Column>\n\n                                        {/* Sub category */}\n                                        <Container.Column className=\"col-lg-4\">\n                                            <Form.Group className=\"text-capitalize font__size__md mb-3\" controlId=\"sub-category-control\">\n                                                <Form.Check\n                                                    type=\"checkbox\"\n                                                    label=\"Sub Category\"\n                                                    checked={selector.label === \"Sub Category\"}\n                                                    onChange={() => {\n                                                        setSelected(null)\n                                                        setSelector({ label: \"Sub Category\", value: \"Category\" })\n                                                        setCategoryError({ type: null, message: null })\n                                                    }}\n                                                />\n                                            </Form.Group>\n\n                                            {/* Select Main category */}\n                                            {selector.value && selector.value === \"Category\" &&\n                                                <div>\n                                                    {categoryError.type && categoryError.type === \"Category\" ?\n                                                        <small className=\"font-14 text-danger mb-0\">{categoryError.message}</small> :\n                                                        <small className=\"font-14 text-muted mb-0\">Category</small>\n                                                    }\n\n                                                    <SearchableSelect\n                                                        borderRadius={4}\n                                                        placeholder=\"Select category\"\n                                                        search={inputValue => handleSearchFromMainCategory(inputValue)}\n                                                        values={(event) => {\n                                                            setSelected(event.value)\n                                                            setCategoryError({ type: null, message: null })\n                                                        }}\n                                                    />\n                                                </div>\n                                            }\n                                        </Container.Column>\n\n                                        {/* Leaf category */}\n                                        <Container.Column className=\"col-lg-4\">\n                                            <Form.Group className=\"text-capitalize font__size__md mb-3\" controlId=\"leaf-category-control\">\n                                                <Form.Check\n                                                    type=\"checkbox\"\n                                                    label=\"Leaf Category\"\n                                                    checked={selector.label === \"Leaf Category\"}\n                                                    onChange={() => {\n                                                        setSelected(null)\n                                                        setSelector({ label: \"Leaf Category\", value: \"Sub Category\" })\n                                                        setCategoryError({ type: null, message: null })\n                                                    }}\n                                                />\n                                            </Form.Group>\n\n                                            {/* Select Sub category */}\n                                            {selector.value && selector.value === \"Sub Category\" &&\n                                                <div>\n                                                    {categoryError.type && categoryError.type === \"Sub Category\" ?\n                                                        <small className=\"font-14 text-danger mb-0\">{categoryError.message}</small> :\n                                                        <small className=\"font-14 text-muted mb-0\">Sub Category</small>\n                                                    }\n\n                                                    <SearchableSelect\n                                                        borderRadius={4}\n                                                        placeholder=\"Select sub category\"\n                                                        search={inputValue => handleSearchFromSubCategory(inputValue)}\n                                                        values={(event) => {\n                                                            setSelected(event.value)\n                                                            setCategoryError({ type: null, message: null })\n                                                        }}\n                                                    />\n                                                </div>\n                                            }\n                                        </Container.Column>\n                                    </Container.Row>\n\n\n                                    {/* Submit button */}\n                                    <Container.Row>\n                                        <Container.Column className=\"text-center py-4\">\n                                            <CustomButton\n                                                type=\"submit\"\n                                                className=\"btn-primary border-0 px-5 font-14\"\n                                                disabled={isLoading}\n                                            >{isLoading ? \"Creating ...\" : \"Create\"}</CustomButton>\n                                        </Container.Column>\n                                    </Container.Row>\n\n                                </form>\n                            </Card.Body>\n                        </Card.Simple>\n                    </Container.Column>\n                </Container.Row>\n            </Container.Fluid>\n        </div>\n    );\n}\n\nexport default Create;\n"]},"metadata":{},"sourceType":"module"}