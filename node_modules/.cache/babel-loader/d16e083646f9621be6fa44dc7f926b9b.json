{"ast":null,"code":"import _objectSpread from\"D:/previous/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useCallback}from'react';import{useForm}from'react-hook-form';import{FormGroup}from'../formGroup';import{Container}from'../container';import{Text}from'../text';import{SearchableSelect,SingleSelect}from'../select';import Requests from'../../utils/Requests/Index';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AreaForm=function AreaForm(props){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setError=_useForm.setError,clearErrors=_useForm.clearErrors,errors=_useForm.errors;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedDistrict=_useState2[0],setSelectedDistrict=_useState2[1];var areaData=props.areaData?props.areaData:null;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),division=_useState4[0],setDivision=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedDivision=_useState6[0],setSelectedDivision=_useState6[1];var _useState7=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState8=_slicedToArray(_useState7,1),header=_useState8[0];// Handle district search\nvar handleDistrictSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(inputValue){var items,response,i,element;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;items=[];_context.next=4;return Requests.Services.Shipping.District.Search(inputValue,header);case 4:response=_context.sent;if(response){if(response.data&&response.data.length>0){for(i=0;i<response.data.length;i++){element=response.data[i];items.push({label:element.name,value:element._id});}}}return _context.abrupt(\"return\",items);case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);if(!_context.t0){_context.next=13;break;}return _context.abrupt(\"return\",[]);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function handleDistrictSearch(_x){return _ref.apply(this,arguments);};}();// Fetch division data\nvar fetchData=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(page){var items,response,i,element;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;items=[];_context2.next=4;return Requests.Services.Shipping.Division.Index(page,10,header);case 4:response=_context2.sent;if(response){if(response.data&&response.data.length>0){for(i=0;i<response.data.length;i++){element=response.data[i];items.push({label:element.name,value:element._id});}}}setDivision(items);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);if(_context2.t0)console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}(),[header]);useEffect(function(){if(areaData&&areaData.district){setSelectedDistrict(areaData.district._id);}if(areaData&&areaData.division){setSelectedDivision(areaData.division._id);}},[areaData]);useEffect(function(){fetchData(1);},[header,fetchData]);// District form submit\nvar onSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data){var is_error,formData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:is_error=false;if(!selectedDistrict){setError(\"selectedDistrict\",{type:\"manual\",message:\"District is required\"});is_error=true;}if(!selectedDivision){setError(\"selectedDivision\",{type:\"manual\",message:\"Division is required.\"});is_error=true;}if(!is_error){_context3.next=5;break;}return _context3.abrupt(\"return\");case 5:formData=_objectSpread(_objectSpread({},data),{},{district:selectedDistrict,division:selectedDivision});props.submit(formData);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function onSubmit(_x3){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(Container.Row,{children:[/*#__PURE__*/_jsx(Container.Column,{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[errors.upazila&&errors.upazila.message?/*#__PURE__*/_jsx(Text,{className:\"text-danger fs-13 mb-0\",children:errors.upazila&&errors.upazila.message}):/*#__PURE__*/_jsxs(Text,{className:\"fs-13 mb-0\",children:[\"Thana name (EN) \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"upazila\",className:errors.upazila?\"form-control shadow-none error\":\"form-control shadow-none\",placeholder:\"Enter thana english name\",defaultValue:areaData?areaData.upazila:null,ref:register({required:\"Thana name (EN) is required\"})})]})}),/*#__PURE__*/_jsx(Container.Column,{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[errors.upazila_bn_name&&errors.upazila_bn_name.message?/*#__PURE__*/_jsx(Text,{className:\"text-danger fs-13 mb-0\",children:errors.upazila_bn_name&&errors.upazila_bn_name.message}):/*#__PURE__*/_jsxs(Text,{className:\"fs-13 mb-0\",children:[\"Thana name (BN) \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"upazila_bn_name\",className:errors.upazila_bn_name?\"form-control shadow-none error\":\"form-control shadow-none\",placeholder:\"Enter thana bengali name\",defaultValue:areaData?areaData.upazila_bn_name:null,ref:register({required:\"Thana name (BN) is required\"})})]})}),/*#__PURE__*/_jsx(Container.Column,{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[errors.post_office&&errors.post_office.message?/*#__PURE__*/_jsx(Text,{className:\"text-danger fs-13 mb-0\",children:errors.post_office&&errors.post_office.message}):/*#__PURE__*/_jsxs(Text,{className:\"fs-13 mb-0\",children:[\"Post office name (EN) \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"post_office\",className:errors.post_office?\"form-control shadow-none error\":\"form-control shadow-none\",placeholder:\"Enter post office english name\",defaultValue:areaData?areaData.post_office:null,ref:register({required:\"Post office name (EN) is required\"})})]})}),/*#__PURE__*/_jsx(Container.Column,{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[errors.post_office_bn_name&&errors.post_office_bn_name.message?/*#__PURE__*/_jsx(Text,{className:\"text-danger fs-13 mb-0\",children:errors.post_office_bn_name&&errors.post_office_bn_name.message}):/*#__PURE__*/_jsxs(Text,{className:\"fs-13 mb-0\",children:[\"Post office name (BN) \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"post_office_bn_name\",className:errors.post_office_bn_name?\"form-control shadow-none error\":\"form-control shadow-none\",placeholder:\"Enter post office bengali name\",defaultValue:areaData?areaData.post_office_bn_name:null,ref:register({required:\"Post office name (BN) is required\"})})]})}),/*#__PURE__*/_jsx(Container.Column,{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[errors.post_code&&errors.post_code.message?/*#__PURE__*/_jsx(Text,{className:\"text-danger fs-13 mb-0\",children:errors.post_code&&errors.post_code.message}):/*#__PURE__*/_jsxs(Text,{className:\"fs-13 mb-0\",children:[\"Post code \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"post_code\",className:errors.post_code?\"form-control shadow-none error\":\"form-control shadow-none\",placeholder:\"Enter post code\",defaultValue:areaData?areaData.post_code:null,ref:register({required:\"Post code is required\"})})]})}),/*#__PURE__*/_jsx(Container.Column,{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[errors.selectedDistrict&&errors.selectedDistrict.message?/*#__PURE__*/_jsx(Text,{className:\"text-danger fs-13 mb-0\",children:errors.selectedDistrict&&errors.selectedDistrict.message}):/*#__PURE__*/_jsxs(Text,{className:\"fs-13 mb-0\",children:[\" District \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(SearchableSelect,{placeholder:\"Search district\",defaultValue:areaData&&areaData.district?{label:areaData.district.name,value:areaData.district._id}:null,search:function search(inputValue){return handleDistrictSearch(inputValue);},values:function values(data){setSelectedDistrict(data.value);if(data.value){clearErrors(\"selectedDistrict\");}},borderRadius:5})]})}),/*#__PURE__*/_jsx(Container.Column,{children:/*#__PURE__*/_jsxs(FormGroup,{children:[errors.selectedDivision&&errors.selectedDivision.message?/*#__PURE__*/_jsx(Text,{className:\"text-danger fs-13 mb-0\",children:errors.selectedDivision&&errors.selectedDivision.message}):/*#__PURE__*/_jsxs(Text,{className:\"fs-13 mb-0\",children:[\"Division \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(SingleSelect,{placeholder:\" division\",deafult:areaData&&areaData.division?{value:areaData.division._id?areaData.division._id:null,label:areaData.division.name?areaData.division.name:null}:null,options:division,value:function value(event){setSelectedDivision(event.value);clearErrors(\"selectedDivision\");}})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn shadow-none text-uppercase\",disabled:props.loading,children:/*#__PURE__*/_jsx(Text,{className:\"fs-14 mb-0\",children:props.loading?props.update?\"Updating ...\":\"Submitting ...\":props.update?\"Update\":\"Submit\"})})})]});};","map":{"version":3,"sources":["D:/previous/src/components/form/AreaForm.js"],"names":["React","useState","useCallback","useForm","FormGroup","Container","Text","SearchableSelect","SingleSelect","Requests","useEffect","AreaForm","props","register","handleSubmit","setError","clearErrors","errors","selectedDistrict","setSelectedDistrict","areaData","division","setDivision","selectedDivision","setSelectedDivision","headers","Authorization","localStorage","getItem","header","handleDistrictSearch","inputValue","items","Services","Shipping","District","Search","response","data","length","i","element","push","label","name","value","_id","fetchData","page","Division","Index","console","log","district","onSubmit","is_error","type","message","formData","submit","upazila","required","upazila_bn_name","post_office","post_office_bn_name","post_code","event","loading","update"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { FormGroup } from '../formGroup'\nimport { Container } from '../container'\nimport { Text } from '../text'\nimport { SearchableSelect, SingleSelect } from '../select'\nimport Requests from '../../utils/Requests/Index'\nimport { useEffect } from 'react'\n\nexport const AreaForm = (props) => {\n  const { register, handleSubmit, setError, clearErrors, errors } = useForm()\n  const [selectedDistrict, setSelectedDistrict] = useState(null)\n  const areaData = props.areaData ? props.areaData : null\n  const [division, setDivision] = useState([])\n  const [selectedDivision, setSelectedDivision] = useState(null)\n  const [header] = useState({\n    headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n  })\n  // Handle district search\n  const handleDistrictSearch = async (inputValue) => {\n    try {\n      const items = []\n      const response = await Requests.Services.Shipping.District.Search(inputValue, header)\n      if (response) {\n        if (response.data && response.data.length > 0) {\n          for (let i = 0; i < response.data.length; i++) {\n            const element = response.data[i]\n            items.push({\n              label: element.name,\n              value: element._id,\n            })\n          }\n        }\n      }\n      return items\n    } catch (error) {\n      if (error) return []\n    }\n  }\n  // Fetch division data\n  const fetchData = useCallback(async (page) => {\n    try {\n      const items = []\n      const response = await Requests.Services.Shipping.Division.Index(page, 10, header)\n      if (response) {\n        if (response.data && response.data.length > 0) {\n          for (let i = 0; i < response.data.length; i++) {\n            const element = response.data[i]\n            items.push({\n              label: element.name,\n              value: element._id,\n            })\n          }\n        }\n      }\n      setDivision(items)\n    } catch (error) {\n      if (error) console.log(error);\n    }\n  }, [header])\n\n  useEffect(() => {\n    if (areaData && areaData.district) {\n      setSelectedDistrict(areaData.district._id)\n    }\n    if (areaData && areaData.division) {\n      setSelectedDivision(areaData.division._id)\n    }\n  }, [areaData])\n\n  useEffect(() => {\n    fetchData(1)\n  }, [header, fetchData])\n\n\n\n  // District form submit\n  const onSubmit = async data => {\n    let is_error = false\n\n\n    if (!selectedDistrict) {\n      setError(\"selectedDistrict\", {\n        type: \"manual\",\n        message: \"District is required\"\n      })\n      is_error = true\n    }\n\n    if (!selectedDivision) {\n      setError(\"selectedDivision\", {\n        type: \"manual\",\n        message: \"Division is required.\"\n      })\n      is_error = true\n    }\n\n    if (is_error) return\n\n    let formData = {\n      ...data,\n      district: selectedDistrict,\n      division: selectedDivision\n    }\n    props.submit(formData)\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Container.Row>\n        {/* upazila */}\n        <Container.Column className=\"col-lg-6\">\n          <FormGroup>\n            {errors.upazila && errors.upazila.message ?\n              <Text className=\"text-danger fs-13 mb-0\">{errors.upazila && errors.upazila.message}</Text>\n              : <Text className=\"fs-13 mb-0\">Thana name (EN) <span className=\"text-danger\">*</span></Text>}\n            <input\n              type=\"text\"\n              name=\"upazila\"\n              className={errors.upazila ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n              placeholder=\"Enter thana english name\"\n              defaultValue={areaData ? areaData.upazila : null}\n              ref={register({ required: \"Thana name (EN) is required\" })}\n            />\n          </FormGroup>\n        </Container.Column>\n\n        {/* upazila bengali name */}\n        <Container.Column className=\"col-lg-6\">\n          <FormGroup>\n            {errors.upazila_bn_name && errors.upazila_bn_name.message ?\n              <Text className=\"text-danger fs-13 mb-0\">{errors.upazila_bn_name && errors.upazila_bn_name.message}</Text>\n              : <Text className=\"fs-13 mb-0\">Thana name (BN) <span className=\"text-danger\">*</span></Text>}\n            <input\n              type=\"text\"\n              name='upazila_bn_name'\n              className={errors.upazila_bn_name ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n              placeholder=\"Enter thana bengali name\"\n              defaultValue={areaData ? areaData.upazila_bn_name : null}\n              ref={register({ required: \"Thana name (BN) is required\" })}\n            />\n          </FormGroup>\n        </Container.Column>\n\n        {/* post office */}\n        <Container.Column className=\"col-lg-6\">\n          <FormGroup>\n            {errors.post_office && errors.post_office.message ?\n              <Text className=\"text-danger fs-13 mb-0\">{errors.post_office && errors.post_office.message}</Text>\n              : <Text className=\"fs-13 mb-0\">Post office name (EN) <span className=\"text-danger\">*</span></Text>}\n            <input\n              type=\"text\"\n              name=\"post_office\"\n              className={errors.post_office ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n              placeholder=\"Enter post office english name\"\n              defaultValue={areaData ? areaData.post_office : null}\n              ref={register({ required: \"Post office name (EN) is required\" })}\n            />\n          </FormGroup>\n        </Container.Column>\n\n        {/* post office bengali name */}\n        <Container.Column className=\"col-lg-6\">\n          <FormGroup>\n            {errors.post_office_bn_name && errors.post_office_bn_name.message ?\n              <Text className=\"text-danger fs-13 mb-0\">{errors.post_office_bn_name && errors.post_office_bn_name.message}</Text>\n              : <Text className=\"fs-13 mb-0\">Post office name (BN) <span className=\"text-danger\">*</span></Text>}\n            <input\n              type=\"text\"\n              name='post_office_bn_name'\n              className={errors.post_office_bn_name ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n              placeholder=\"Enter post office bengali name\"\n              defaultValue={areaData ? areaData.post_office_bn_name : null}\n              ref={register({ required: \"Post office name (BN) is required\" })}\n            />\n          </FormGroup>\n        </Container.Column>\n\n        {/* post code */}\n        <Container.Column className=\"col-lg-6\">\n          <FormGroup>\n            {errors.post_code && errors.post_code.message ?\n              <Text className=\"text-danger fs-13 mb-0\">{errors.post_code && errors.post_code.message}</Text>\n              : <Text className=\"fs-13 mb-0\">Post code <span className=\"text-danger\">*</span></Text>}\n            <input\n              type=\"number\"\n              name=\"post_code\"\n              className={errors.post_code ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n              placeholder=\"Enter post code\"\n              defaultValue={areaData ? areaData.post_code : null}\n              ref={register({ required: \"Post code is required\" })}\n            />\n          </FormGroup>\n        </Container.Column>\n\n        {/* select district */}\n        <Container.Column className=\"col-lg-6\">\n          <FormGroup>\n            {errors.selectedDistrict && errors.selectedDistrict.message ?\n              <Text className=\"text-danger fs-13 mb-0\">{errors.selectedDistrict && errors.selectedDistrict.message}</Text>\n              : <Text className=\"fs-13 mb-0\"> District <span className=\"text-danger\">*</span></Text>}\n\n            <SearchableSelect\n              placeholder=\"Search district\"\n              defaultValue={areaData && areaData.district ?\n                {\n                  label: areaData.district.name,\n                  value: areaData.district._id\n                }\n                : null}\n              search={inputValue => handleDistrictSearch(inputValue)}\n              values={data => {\n                setSelectedDistrict(data.value)\n                if (data.value) {\n                  clearErrors(\"selectedDistrict\")\n                }\n              }\n              }\n              borderRadius={5}\n            />\n          </FormGroup>\n        </Container.Column>\n\n        {/* Division */}\n        <Container.Column >\n          <FormGroup>\n            {errors.selectedDivision && errors.selectedDivision.message ?\n              <Text className=\"text-danger fs-13 mb-0\">{errors.selectedDivision && errors.selectedDivision.message}</Text>\n              : <Text className=\"fs-13 mb-0\">Division <span className=\"text-danger\">*</span></Text>}\n            <SingleSelect\n              placeholder=\" division\"\n              deafult={areaData && areaData.division ?\n                {\n                  value: areaData.division._id ? areaData.division._id : null,\n                  label: areaData.division.name ? areaData.division.name : null\n                } : null}\n              options={division}\n              value={event => {\n                setSelectedDivision(event.value)\n                clearErrors(\"selectedDivision\")\n              }}\n            />\n          </FormGroup>\n        </Container.Column>\n\n      </Container.Row>\n\n      {/* Submit button */}\n      <div className=\"text-right\">\n        <button\n          type=\"submit\"\n          className=\"btn shadow-none text-uppercase\"\n          disabled={props.loading}\n        ><Text className=\"fs-14 mb-0\">\n            {props.loading\n              ? props.update\n                ? \"Updating ...\"\n                : \"Submitting ...\"\n              : props.update\n                ? \"Update\"\n                : \"Submit\"}\n          </Text></button>\n      </div>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}