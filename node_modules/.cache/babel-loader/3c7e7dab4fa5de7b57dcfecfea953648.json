{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\components\\\\idleTimer\\\\IdleTimerContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport IdleTimer from 'react-idle-timer';\nimport { Modal } from 'react-bootstrap';\nimport { CustomButton } from '../button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const IdleTimerContainer = props => {\n  _s();\n\n  const idleTimerRef = useRef(null);\n  const sessionTimeoutRef = useRef(null);\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [isLogOut, setLogOut] = useState(false); // handle idle\n\n  const onIdle = () => {\n    const token = localStorage.getItem(\"token\");\n\n    if (token) {\n      setModalIsOpen(true);\n      sessionTimeoutRef.current = setTimeout(logOut, 10000);\n    }\n  }; // handle logout\n\n\n  const logOut = () => {\n    setLogOut(true);\n    setTimeout(() => {\n      clearTimeout(sessionTimeoutRef.current);\n      setLogOut(false);\n      localStorage.clear();\n      window.location.reload();\n    }, 1000);\n  }; // handle signed in\n\n\n  const keepSignedIn = () => {\n    setModalIsOpen(false);\n    clearTimeout(sessionTimeoutRef.current);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      show: modalIsOpen,\n      size: \"md\",\n      centered: true,\n      backdrop: \"static\",\n      keyboard: false,\n      className: \"custom-modal\",\n      children: /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"text-center px-4 py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"fw-bolder mb-0\",\n          children: \"You will be logged out after 10s!!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(CustomButton, {\n            disabled: isLogOut,\n            className: \"btn-danger border-0 mr-2\",\n            style: {\n              padding: \"7px 20px\",\n              fontSize: 14\n            },\n            onClick: logOut,\n            children: isLogOut ? \"Logging out ...\" : \"Log me out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CustomButton, {\n            className: \"btn-success border-0 mr-2\",\n            style: {\n              padding: \"7px 20px\",\n              fontSize: 14\n            },\n            onClick: keepSignedIn,\n            children: \"Kep me signed in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(IdleTimer, {\n      ref: idleTimerRef,\n      timeout: 3600000000000,\n      onIdle: onIdle,\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(IdleTimerContainer, \"X1pjuXlz7bb5ykww3lR1n7bZN6s=\");\n\n_c = IdleTimerContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"IdleTimerContainer\");","map":{"version":3,"sources":["D:/previous/src/components/idleTimer/IdleTimerContainer.js"],"names":["React","useRef","useState","IdleTimer","Modal","CustomButton","IdleTimerContainer","props","idleTimerRef","sessionTimeoutRef","modalIsOpen","setModalIsOpen","isLogOut","setLogOut","onIdle","token","localStorage","getItem","current","setTimeout","logOut","clearTimeout","clear","window","location","reload","keepSignedIn","padding","fontSize","children"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react'\nimport IdleTimer from 'react-idle-timer'\nimport { Modal } from 'react-bootstrap'\nimport { CustomButton } from '../button'\n\nexport const IdleTimerContainer = (props) => {\n    const idleTimerRef = useRef(null)\n    const sessionTimeoutRef = useRef(null)\n    const [modalIsOpen, setModalIsOpen] = useState(false)\n    const [isLogOut, setLogOut] = useState(false)\n\n    // handle idle\n    const onIdle = () => {\n        const token = localStorage.getItem(\"token\")\n        if (token) {\n            setModalIsOpen(true)\n            sessionTimeoutRef.current = setTimeout(logOut, 10000)\n        }\n    }\n\n    // handle logout\n    const logOut = () => {\n        setLogOut(true)\n\n        setTimeout(() => {\n            clearTimeout(sessionTimeoutRef.current)\n            setLogOut(false)\n            localStorage.clear()\n            window.location.reload()\n        }, 1000)\n    }\n\n    // handle signed in\n    const keepSignedIn = () => {\n        setModalIsOpen(false)\n        clearTimeout(sessionTimeoutRef.current)\n    }\n\n    return (\n        <div>\n            <Modal\n                show={modalIsOpen}\n                size=\"md\"\n                centered\n                backdrop=\"static\"\n                keyboard={false}\n                className=\"custom-modal\"\n            >\n                <Modal.Body className=\"text-center px-4 py-5\">\n                    <h4 className=\"fw-bolder mb-0\">You will be logged out after 10s!!!</h4>\n\n                    <div className=\"pt-4\">\n                        <CustomButton\n                            disabled={isLogOut}\n                            className=\"btn-danger border-0 mr-2\"\n                            style={{ padding: \"7px 20px\", fontSize: 14 }}\n                            onClick={logOut}\n                        >{isLogOut ? \"Logging out ...\" : \"Log me out\"}\n                        </CustomButton>\n\n                        <CustomButton\n                            className=\"btn-success border-0 mr-2\"\n                            style={{ padding: \"7px 20px\", fontSize: 14 }}\n                            onClick={keepSignedIn}\n                        >Kep me signed in</CustomButton>\n                    </div>\n                </Modal.Body>\n            </Modal>\n\n            <IdleTimer\n                ref={idleTimerRef}\n                timeout={3600000000000}\n                onIdle={onIdle}\n            >\n                {props.children}\n            </IdleTimer>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}