{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\pages\\\\profile\\\\Index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport './style.scss';\nimport Icon from 'react-icons-kit';\nimport jwt_decode from 'jwt-decode';\nimport { ic_place, ic_pin_drop } from 'react-icons-kit/md';\nimport { phone, mail, edit2, settings } from 'react-icons-kit/feather';\nimport { Images } from '../../utils/Images';\nimport { PreLoader } from '../../components/loading/Index';\nimport Requests from '../../utils/Requests/Index';\nimport ProfileEditModal from '../../components/modal/profile/Index';\nimport ChangePasswordModal from '../../components/modal/profile/ChangePassword';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Index = () => {\n  _s();\n\n  const [user, setUser] = useState(null);\n  const [show, setShow] = useState(false);\n  const [isUpdate, setUpdate] = useState(false);\n  const [isLoading, setLoading] = useState(true);\n  const [profile, setProfile] = useState({});\n  const [password, setPassword] = useState({\n    show: false,\n    loading: false\n  });\n  const token = localStorage.getItem('token');\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  }); // Fetch data\n\n  const fetchData = useCallback(async () => {\n    const data = await Requests.Profile.Me(header);\n    if (data) setProfile(data);\n    setLoading(false);\n  }, [header]);\n  useEffect(() => {\n    if (token) {\n      const decodeUser = jwt_decode(token);\n      setUser(decodeUser);\n    }\n\n    fetchData();\n  }, [token, header, fetchData]); // Handle edit\n\n  const handleEdit = () => {\n    setShow(true);\n  }; // Handle update basic info\n\n\n  const handleUpdate = async data => {\n    setUpdate(true);\n    await Requests.Profile.Update(data, header);\n    fetchData();\n    setUpdate(false);\n    setShow(false);\n  }; // Handle update password\n\n\n  const handleUpdatePassword = async data => {\n    setPassword({ ...password,\n      loading: true\n    });\n    await Requests.Profile.UpdatePassword(data, header);\n    setPassword({\n      show: false,\n      loading: false\n    });\n  };\n\n  if (isLoading) return /*#__PURE__*/_jsxDEV(PreLoader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 27\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-index\",\n    children: [profile ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-padding\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card profile-card border-0 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-center flex-column\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile-image-container rounded-circle\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: Images.Avatar,\n                    className: \"img-fluid\",\n                    alt: \"...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: profile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 37\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table table-sm table-borderless\",\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 20\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: phone,\n                        size: 18\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 84,\n                        columnNumber: 75\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 140\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Phone\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 85,\n                        columnNumber: 76\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\": \", profile.phone]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 20\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: mail,\n                        size: 18\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 89,\n                        columnNumber: 75\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 140\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"E-mail\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 90,\n                        columnNumber: 76\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\": \", profile.email]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 91,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 20\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: settings,\n                        size: 18\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 94,\n                        columnNumber: 75\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 140\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Role\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 76\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\": \", profile.role ? profile.role.role : \"N/A\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 20\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: ic_place,\n                        size: 22\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 99,\n                        columnNumber: 75\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 140\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Present Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 76\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\": \", profile.address ? profile.address.presentAddress : null]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 20\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        icon: ic_pin_drop,\n                        size: 24\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 104,\n                        columnNumber: 75\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        width: 140\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Permanent Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 76\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 105,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\": \", profile.address ? profile.address.permanentAddress : null]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 106,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), user ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn icon-btn shadow rounded-circle\",\n                onClick: handleEdit,\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: edit2,\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 41\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn shadow-none px-4 py-2 btn-primary text-white\",\n                  onClick: () => setPassword({ ...password,\n                    show: true\n                  }),\n                  children: \"Change Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this) : null, /*#__PURE__*/_jsxDEV(ProfileEditModal, {\n      show: show,\n      data: profile,\n      loading: isUpdate,\n      update: handleUpdate,\n      onHide: () => setShow(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ChangePasswordModal, {\n      show: password.show,\n      loading: password.loading,\n      update: handleUpdatePassword,\n      onHide: () => setPassword({\n        show: false,\n        loading: false\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Index, \"/82J01roCkAv4NaVOgw73hd3x6A=\");\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["D:/previous/src/pages/profile/Index.js"],"names":["React","useEffect","useState","useCallback","Icon","jwt_decode","ic_place","ic_pin_drop","phone","mail","edit2","settings","Images","PreLoader","Requests","ProfileEditModal","ChangePasswordModal","Index","user","setUser","show","setShow","isUpdate","setUpdate","isLoading","setLoading","profile","setProfile","password","setPassword","loading","token","localStorage","getItem","header","headers","Authorization","fetchData","data","Profile","Me","decodeUser","handleEdit","handleUpdate","Update","handleUpdatePassword","UpdatePassword","Avatar","name","width","email","role","address","presentAddress","permanentAddress"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react'\nimport './style.scss'\nimport Icon from 'react-icons-kit'\nimport jwt_decode from 'jwt-decode'\nimport { ic_place, ic_pin_drop } from 'react-icons-kit/md'\nimport { phone, mail, edit2, settings } from 'react-icons-kit/feather'\nimport { Images } from '../../utils/Images'\nimport { PreLoader } from '../../components/loading/Index'\n\nimport Requests from '../../utils/Requests/Index'\nimport ProfileEditModal from '../../components/modal/profile/Index'\nimport ChangePasswordModal from '../../components/modal/profile/ChangePassword'\n\nconst Index = () => {\n    const [user, setUser] = useState(null)\n    const [show, setShow] = useState(false)\n    const [isUpdate, setUpdate] = useState(false)\n    const [isLoading, setLoading] = useState(true)\n    const [profile, setProfile] = useState({})\n    const [password, setPassword] = useState({ show: false, loading: false })\n    const token = localStorage.getItem('token')\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        const data = await Requests.Profile.Me(header)\n        if (data) setProfile(data)\n        setLoading(false)\n    }, [header])\n\n    useEffect(() => {\n        if (token) {\n            const decodeUser = jwt_decode(token)\n            setUser(decodeUser)\n        }\n        fetchData()\n    }, [token, header, fetchData])\n\n    // Handle edit\n    const handleEdit = () => {\n        setShow(true)\n    }\n\n    // Handle update basic info\n    const handleUpdate = async data => {\n        setUpdate(true)\n        await Requests.Profile.Update(data, header)\n        fetchData()\n        setUpdate(false)\n        setShow(false)\n    }\n\n    // Handle update password\n    const handleUpdatePassword = async data => {\n        setPassword({ ...password, loading: true })\n        await Requests.Profile.UpdatePassword(data, header)\n\n        setPassword({ show: false, loading: false })\n    }\n\n    if (isLoading) return <PreLoader />\n\n    return (\n        <div className=\"profile-index\">\n            {profile ?\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-12 col-padding\">\n                            <div className=\"card profile-card border-0 shadow-sm\">\n                                <div className=\"card-header bg-white\">\n                                    <div className=\"flex-center flex-column\">\n                                        <div className=\"profile-image-container rounded-circle\">\n                                            <img src={Images.Avatar} className=\"img-fluid\" alt=\"...\" />\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"card-body p-4\">\n                                    <h5>{profile.name}</h5> {/* Name */}\n                                    <table className=\"table table-sm table-borderless\">\n                                        <tbody>\n                                            <tr>\n                                                <td style={{ width: 20 }}><Icon icon={phone} size={18} /></td>\n                                                <td style={{ width: 140 }}><p>Phone</p></td>\n                                                <td><p>: {profile.phone}</p></td>\n                                            </tr>\n                                            <tr>\n                                                <td style={{ width: 20 }}><Icon icon={mail} size={18} /></td>\n                                                <td style={{ width: 140 }}><p>E-mail</p></td>\n                                                <td><p>: {profile.email}</p></td>\n                                            </tr>\n                                            <tr>\n                                                <td style={{ width: 20 }}><Icon icon={settings} size={18} /></td>\n                                                <td style={{ width: 140 }}><p>Role</p></td>\n                                                <td><p>: {profile.role ? profile.role.role : \"N/A\"}</p></td>\n                                            </tr>\n                                            <tr>\n                                                <td style={{ width: 20 }}><Icon icon={ic_place} size={22} /></td>\n                                                <td style={{ width: 140 }}><p>Present Address</p></td>\n                                                <td><p>: {profile.address ? profile.address.presentAddress : null}</p></td>\n                                            </tr>\n                                            <tr>\n                                                <td style={{ width: 20 }}><Icon icon={ic_pin_drop} size={24} /></td>\n                                                <td style={{ width: 140 }}><p>Permanent Address</p></td>\n                                                <td><p>: {profile.address ? profile.address.permanentAddress : null}</p></td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n\n                                    {user ?\n                                        <button type=\"button\" className=\"btn icon-btn shadow rounded-circle\" onClick={handleEdit}>\n                                            <Icon icon={edit2} size={20} />\n                                        </button>\n                                        : null}\n\n                                    <div className=\"text-right\">\n                                        <button\n                                            type=\"button\"\n                                            className=\"btn shadow-none px-4 py-2 btn-primary text-white\"\n                                            onClick={() => setPassword({ ...password, show: true })}\n                                        >Change Password</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                : null}\n\n\n            {/* Edit basic info */}\n            <ProfileEditModal\n                show={show}\n                data={profile}\n                loading={isUpdate}\n                update={handleUpdate}\n                onHide={() => setShow(false)}\n            />\n\n            {/* Change password */}\n            <ChangePasswordModal\n                show={password.show}\n                loading={password.loading}\n                update={handleUpdatePassword}\n                onHide={() => setPassword({ show: false, loading: false })}\n            />\n        </div>\n    );\n}\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}