{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\pages\\\\admin\\\\Edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './style.scss';\nimport _ from 'lodash';\nimport Icon from 'react-icons-kit';\nimport { Form } from 'react-bootstrap';\nimport { useForm } from 'react-hook-form';\nimport { Link, useParams } from 'react-router-dom';\nimport { chevronLeft } from 'react-icons-kit/feather';\nimport { SingleSelect } from '../../components/select';\nimport { PreLoader } from '../../components/loading/Index';\nimport Requests from '../../utils/Requests/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Edit = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    register,\n    handleSubmit,\n    setError,\n    clearErrors,\n    errors\n  } = useForm();\n  const [admin, setAdmin] = useState({});\n  const [isUpdate, setUpdate] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [roles, setRoles] = useState({\n    value: null,\n    options: []\n  });\n  const [status, setStatus] = useState(null);\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  });\n  useEffect(() => {\n    const getData = async () => {\n      let options = [];\n      setLoading(true);\n      const response = await Requests.Admin.Show(id, header);\n      const rolesRes = await Requests.Role.Index(header);\n\n      if (rolesRes && rolesRes.status) {\n        if (rolesRes.data && rolesRes.data.length) {\n          for (let i = 0; i < rolesRes.data.length; i++) {\n            const element = rolesRes.data[i];\n            options.push({\n              label: _.capitalize(element.role),\n              value: element._id\n            });\n          }\n        }\n      }\n\n      if (response) {\n        setAdmin(response.admin);\n        setStatus(response.admin.accountStatus);\n        setRoles(exRoles => ({ ...exRoles,\n          options: options,\n          value: {\n            value: response.admin.role._id,\n            label: response.admin.role.role\n          }\n        }));\n      }\n\n      setLoading(false);\n    };\n\n    getData();\n  }, [id, header]); // Handle role\n\n  const handleRole = event => {\n    setRoles(exRoles => ({ ...exRoles,\n      value: event\n    }));\n    clearErrors([\"role\"]);\n  }; // Handle checkbox\n\n\n  const handleCheckBox = event => setStatus(event.target.value); // Submit Form\n\n\n  const onSubmit = async data => {\n    if (!roles.value) {\n      return setError(\"role\", {\n        type: \"manual\",\n        message: \"Role is required!\"\n      });\n    }\n\n    let formData = { ...data,\n      role: roles.value.value,\n      accountStatus: status\n    };\n    setUpdate(true);\n    await Requests.Admin.Update(id, formData, header);\n    setUpdate(false);\n  };\n\n  if (isLoading) return /*#__PURE__*/_jsxDEV(PreLoader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 27\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-create pb-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-padding\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card border-0 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header p-3 p-lg-4 bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-0\",\n                    children: \"Edit Admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 42\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-auto\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/dashboard/admin\",\n                    type: \"button\",\n                    className: \"btn shadow-none rounded-circle\",\n                    children: /*#__PURE__*/_jsxDEV(Icon, {\n                      icon: chevronLeft,\n                      size: 22\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit(onSubmit),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-4\",\n                      children: [errors.name && errors.name.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-danger\",\n                        children: errors.name && errors.name.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"name\",\n                        defaultValue: admin.name,\n                        className: \"form-control shadow-none\",\n                        placeholder: \"Enter name\",\n                        ref: register({\n                          required: \"Name is required\"\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"E-mail\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        defaultValue: admin.email,\n                        className: \"form-control shadow-none\",\n                        disabled: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-4\",\n                      children: [errors.phone && errors.phone.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-danger\",\n                        children: errors.phone && errors.phone.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Phone\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 146,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        disabled: true,\n                        type: \"text\",\n                        defaultValue: admin.phone,\n                        className: \"form-control shadow-none\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-4\",\n                      children: [errors.presentAddress && errors.presentAddress.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-danger\",\n                        children: errors.presentAddress && errors.presentAddress.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Present address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 162,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"presentAddress\",\n                        defaultValue: admin.address ? admin.address.presentAddress : null,\n                        className: \"form-control shadow-none\",\n                        placeholder: \"Enter present address\",\n                        ref: register({\n                          required: \"Present address is required\"\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-4\",\n                      children: [errors.permanentAddress && errors.permanentAddress.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-danger\",\n                        children: errors.permanentAddress && errors.permanentAddress.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 181,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Permanent address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"permanentAddress\",\n                        defaultValue: admin.address ? admin.address.permanentAddress : null,\n                        className: \"form-control shadow-none\",\n                        placeholder: \"Enter permanent address\",\n                        ref: register({\n                          required: \"Permanent address is required\"\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 184,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-4\",\n                      children: [errors.role && errors.role.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-danger\",\n                        children: errors.role && errors.role.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Role\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 55\n                      }, this), /*#__PURE__*/_jsxDEV(SingleSelect, {\n                        placeholder: \"role\",\n                        deafult: roles.value ? {\n                          value: roles.value.value,\n                          label: roles.value.label\n                        } : null,\n                        options: roles.options,\n                        value: data => handleRole(data)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 204,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input-group mb-4 pt-4\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                        controlId: \"isActive\",\n                        children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                          type: \"checkbox\",\n                          value: \"Active\",\n                          label: \"Active\",\n                          checked: status === 'Active',\n                          onChange: handleCheckBox\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 217,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"ml-3\",\n                        controlId: \"isDeactive\",\n                        children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                          type: \"checkbox\",\n                          value: \"Deactive\",\n                          label: \"Deactive\",\n                          checked: status === 'Deactive',\n                          onChange: handleCheckBox\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 227,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn shadow-none\",\n                      disabled: isUpdate,\n                      children: isUpdate ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Updating...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 61\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Update\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 88\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Edit, \"8TL/lLTOejqkzwD2CBTbx8fj+bw=\", false, function () {\n  return [useParams, useForm];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["D:/previous/src/pages/admin/Edit.js"],"names":["React","useEffect","useState","_","Icon","Form","useForm","Link","useParams","chevronLeft","SingleSelect","PreLoader","Requests","Edit","id","register","handleSubmit","setError","clearErrors","errors","admin","setAdmin","isUpdate","setUpdate","isLoading","setLoading","roles","setRoles","value","options","status","setStatus","header","headers","Authorization","localStorage","getItem","getData","response","Admin","Show","rolesRes","Role","Index","data","length","i","element","push","label","capitalize","role","_id","accountStatus","exRoles","handleRole","event","handleCheckBox","target","onSubmit","type","message","formData","Update","name","required","email","phone","presentAddress","address","permanentAddress"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './style.scss'\nimport _ from 'lodash'\nimport Icon from 'react-icons-kit'\nimport { Form } from 'react-bootstrap'\nimport { useForm } from 'react-hook-form'\nimport { Link, useParams } from 'react-router-dom'\nimport { chevronLeft } from 'react-icons-kit/feather'\nimport { SingleSelect } from '../../components/select'\nimport { PreLoader } from '../../components/loading/Index'\n\nimport Requests from '../../utils/Requests/Index'\n\n\nconst Edit = () => {\n    const { id } = useParams()\n    const { register, handleSubmit, setError, clearErrors, errors } = useForm()\n    const [admin, setAdmin] = useState({})\n    const [isUpdate, setUpdate] = useState(false)\n    const [isLoading, setLoading] = useState(false)\n    const [roles, setRoles] = useState({ value: null, options: [] })\n    const [status, setStatus] = useState(null)\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    useEffect(() => {\n        const getData = async () => {\n            let options = []\n            setLoading(true)\n\n            const response = await Requests.Admin.Show(id, header)\n            const rolesRes = await Requests.Role.Index(header)\n            if (rolesRes && rolesRes.status) {\n                if (rolesRes.data && rolesRes.data.length) {\n                    for (let i = 0; i < rolesRes.data.length; i++) {\n                        const element = rolesRes.data[i]\n                        options.push({ label: _.capitalize(element.role), value: element._id })\n                    }\n                }\n            }\n\n            if (response) {\n                setAdmin(response.admin)\n                setStatus(response.admin.accountStatus)\n                setRoles(exRoles => ({ ...exRoles, options: options, value: { value: response.admin.role._id, label: response.admin.role.role } }))\n            }\n\n            setLoading(false)\n        }\n\n        getData()\n    }, [id, header])\n\n    // Handle role\n    const handleRole = event => {\n        setRoles(exRoles => ({ ...exRoles, value: event }))\n        clearErrors([\"role\"])\n    }\n\n    // Handle checkbox\n    const handleCheckBox = event => setStatus(event.target.value)\n\n    // Submit Form\n    const onSubmit = async (data) => {\n        if (!roles.value) {\n            return setError(\"role\", {\n                type: \"manual\",\n                message: \"Role is required!\"\n            })\n        }\n\n        let formData = { ...data, role: roles.value.value, accountStatus: status }\n\n        setUpdate(true)\n        await Requests.Admin.Update(id, formData, header)\n        setUpdate(false)\n    }\n\n    if (isLoading) return <PreLoader />\n\n    return (\n        <div className=\"admin-create pb-4\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-header p-3 p-lg-4 bg-white\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mb-0\">Edit Admin</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link\n                                            to=\"/dashboard/admin\"\n                                            type=\"button\"\n                                            className=\"btn shadow-none rounded-circle\"\n                                        >\n                                            <Icon icon={chevronLeft} size={22} />\n                                        </Link>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"card-body p-4\">\n                                <form onSubmit={handleSubmit(onSubmit)}>\n\n                                    <div className=\"row\">\n\n                                        {/* Name */}\n                                        <div className=\"col-12 col-lg-6\">\n                                            <div className=\"form-group mb-4\">\n                                                {errors.name && errors.name.message ? (\n                                                    <p className=\"text-danger\">{errors.name && errors.name.message}</p>\n                                                ) : <p>Name</p>}\n\n                                                <input\n                                                    type=\"text\"\n                                                    name=\"name\"\n                                                    defaultValue={admin.name}\n                                                    className=\"form-control shadow-none\"\n                                                    placeholder=\"Enter name\"\n                                                    ref={register({\n                                                        required: \"Name is required\"\n                                                    })}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* E-mail */}\n                                        <div className=\"col-12 col-lg-6\">\n                                            <div className=\"form-group mb-4\">\n                                                <p>E-mail</p>\n\n                                                <input\n                                                    type=\"text\"\n                                                    defaultValue={admin.email}\n                                                    className=\"form-control shadow-none\"\n                                                    disabled\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* Phone */}\n                                        <div className=\"col-12\">\n                                            <div className=\"form-group mb-4\">\n                                                {errors.phone && errors.phone.message ? (\n                                                    <p className=\"text-danger\">{errors.phone && errors.phone.message}</p>\n                                                ) : <p>Phone</p>}\n\n                                                <input\n                                                    disabled\n                                                    type=\"text\"\n                                                    defaultValue={admin.phone}\n                                                    className=\"form-control shadow-none\"\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* Present address */}\n                                        <div className=\"col-12\">\n                                            <div className=\"form-group mb-4\">\n                                                {errors.presentAddress && errors.presentAddress.message ? (\n                                                    <p className=\"text-danger\">{errors.presentAddress && errors.presentAddress.message}</p>\n                                                ) : <p>Present address</p>}\n\n                                                <input\n                                                    type=\"text\"\n                                                    name=\"presentAddress\"\n                                                    defaultValue={admin.address ? admin.address.presentAddress : null}\n                                                    className=\"form-control shadow-none\"\n                                                    placeholder=\"Enter present address\"\n                                                    ref={register({\n                                                        required: \"Present address is required\"\n                                                    })}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* permanent address */}\n                                        <div className=\"col-12\">\n                                            <div className=\"form-group mb-4\">\n                                                {errors.permanentAddress && errors.permanentAddress.message ? (\n                                                    <p className=\"text-danger\">{errors.permanentAddress && errors.permanentAddress.message}</p>\n                                                ) : <p>Permanent address</p>}\n\n                                                <input\n                                                    type=\"text\"\n                                                    name=\"permanentAddress\"\n                                                    defaultValue={admin.address ? admin.address.permanentAddress : null}\n                                                    className=\"form-control shadow-none\"\n                                                    placeholder=\"Enter permanent address\"\n                                                    ref={register({\n                                                        required: \"Permanent address is required\"\n                                                    })}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* Role */}\n                                        <div className=\"col-12 col-lg-6\">\n                                            <div className=\"form-group mb-4\">\n                                                {errors.role && errors.role.message ?\n                                                    <p className=\"text-danger\">{errors.role && errors.role.message}</p>\n                                                    : <p>Role</p>}\n\n                                                <SingleSelect\n                                                    placeholder=\"role\"\n                                                    deafult={roles.value ? { value: roles.value.value, label: roles.value.label } : null}\n                                                    options={roles.options}\n                                                    value={data => handleRole(data)}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* Active Status */}\n                                        <div className=\"col-12 col-lg-6\">\n                                            <div className=\"input-group mb-4 pt-4\">\n                                                <Form.Group controlId=\"isActive\">\n                                                    <Form.Check\n                                                        type=\"checkbox\"\n                                                        value=\"Active\"\n                                                        label=\"Active\"\n                                                        checked={status === 'Active'}\n                                                        onChange={handleCheckBox}\n                                                    />\n                                                </Form.Group>\n\n                                                <Form.Group className=\"ml-3\" controlId=\"isDeactive\">\n                                                    <Form.Check\n                                                        type=\"checkbox\"\n                                                        value=\"Deactive\"\n                                                        label=\"Deactive\"\n                                                        checked={status === 'Deactive'}\n                                                        onChange={handleCheckBox}\n                                                    />\n                                                </Form.Group>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"col-12 text-right\">\n                                            <button type=\"submit\" className=\"btn shadow-none\" disabled={isUpdate}>\n                                                {isUpdate ? <span>Updating...</span> : <span>Update</span>}\n                                            </button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    );\n};\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}