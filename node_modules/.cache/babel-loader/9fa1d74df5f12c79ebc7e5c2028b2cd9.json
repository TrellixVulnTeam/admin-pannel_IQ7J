{"ast":null,"code":"import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect,useCallback}from'react';import'./style.scss';import Icon from'react-icons-kit';import{Link,useParams}from'react-router-dom';import{chevronLeft}from'react-icons-kit/feather';import{PreLoader}from'../../components/loading/Index';import{StringShort,dateFormate}from'../../utils/Helpers';import Requests from'../../utils/Requests/Index';import CouponShowTable from'../../components/table/CouponShow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Show=function Show(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),coupon=_useState4[0],setCoupon=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),items=_useState6[0],setItems=_useState6[1];var _useState7=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState8=_slicedToArray(_useState7,1),header=_useState8[0];// Fetch data\nvar fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Requests.Coupon.Show(id,header);case 2:data=_context.sent;if(data){setCoupon(data);if(data.brands&&data.brands.length){setItems(data.brands);}else if(data.categories&&data.categories.length){setItems(data.categories);}else if(data.customers&&data.customers.length){setItems(data.customers);}else if(data.products&&data.products.length){setItems(data.products);}else if(data.vendors&&data.vendors.length){setItems(data.vendors);}else{setItems([]);}setLoading(false);}setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);})),[id,header]);useEffect(function(){fetchData();},[id,header,fetchData]);if(isLoading)return/*#__PURE__*/_jsx(PreLoader,{});return/*#__PURE__*/_jsx(\"div\",{className:\"show-coupon pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header p-3 p-lg-4 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:coupon.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/coupon\",type:\"button\",className:\"btn shadow-none rounded-circle\",children:/*#__PURE__*/_jsx(Icon,{icon:chevronLeft,size:22})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-sm-flex coupon-profile-container\",children:[coupon.name?/*#__PURE__*/_jsx(\"div\",{className:\"name-circle rounded-circle flex-center flex-column\",children:/*#__PURE__*/_jsx(\"h1\",{children:StringShort(coupon.name)})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"flex-fill content-container pl-sm-4\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table-sm\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Name\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.name]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Code\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.code]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.type]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Assign to\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.assignTo]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Amount\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.amount]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Use Limit\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.useLimit?coupon.useLimit:0,\" Times\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Minimum Value\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.priceDiscount?coupon.priceDiscount+\" tk.\":0]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Maximum Value\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.priceLimit?coupon.priceLimit+\" tk.\":0]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Inside Dhaka\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.insideDhaka?coupon.insideDhaka+\" tk.\":0]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Outside Dhaka\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",coupon.outsideDhaka?coupon.outsideDhaka+\" tk.\":0]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"title-td\",children:\"Valid till\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\": \",dateFormate(coupon.validTill)]})]})]})})})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row coupon-items-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white border-0\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[coupon.assignTo,\"'s\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(CouponShowTable,{assign:coupon.assignTo,items:items})})]})})})]})});};export default Show;","map":{"version":3,"sources":["D:/previous/src/pages/coupon/Show.js"],"names":["React","useState","useEffect","useCallback","Icon","Link","useParams","chevronLeft","PreLoader","StringShort","dateFormate","Requests","CouponShowTable","Show","id","isLoading","setLoading","coupon","setCoupon","items","setItems","headers","Authorization","localStorage","getItem","header","fetchData","Coupon","data","brands","length","categories","customers","products","vendors","name","code","type","assignTo","amount","useLimit","priceDiscount","priceLimit","insideDhaka","outsideDhaka","validTill"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\nimport './style.scss'\nimport Icon from 'react-icons-kit'\nimport { Link, useParams } from 'react-router-dom'\nimport { chevronLeft } from 'react-icons-kit/feather'\nimport { PreLoader } from '../../components/loading/Index'\nimport { StringShort, dateFormate } from '../../utils/Helpers'\n\nimport Requests from '../../utils/Requests/Index'\nimport CouponShowTable from '../../components/table/CouponShow'\n\nconst Show = () => {\n    const { id } = useParams()\n    const [isLoading, setLoading] = useState(true)\n    const [coupon, setCoupon] = useState({})\n    const [items, setItems] = useState([])\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        const data = await Requests.Coupon.Show(id, header)\n        if (data) {\n            setCoupon(data)\n\n            if (data.brands && data.brands.length) {\n                setItems(data.brands)\n            } else if (data.categories && data.categories.length) {\n                setItems(data.categories)\n            } else if (data.customers && data.customers.length) {\n                setItems(data.customers)\n            } else if (data.products && data.products.length) {\n                setItems(data.products)\n            } else if (data.vendors && data.vendors.length) {\n                setItems(data.vendors)\n            } else {\n                setItems([])\n            }\n\n            setLoading(false)\n        }\n        setLoading(false)\n    }, [id, header])\n\n    useEffect(() => {\n        fetchData()\n    }, [id, header, fetchData])\n\n    if (isLoading) return <PreLoader />\n\n    return (\n        <div className=\"show-coupon pb-4\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-header p-3 p-lg-4 bg-white\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mb-0\">{coupon.name}</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link\n                                            to=\"/dashboard/coupon\"\n                                            type=\"button\"\n                                            className=\"btn shadow-none rounded-circle\"\n                                        >\n                                            <Icon icon={chevronLeft} size={22} />\n                                        </Link>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"card-body p-4\">\n                                <div className=\"d-sm-flex coupon-profile-container\">\n                                    {/* Name circle */}\n                                    {coupon.name ?\n                                        <div className=\"name-circle rounded-circle flex-center flex-column\">\n                                            <h1>{StringShort(coupon.name)}</h1>\n                                        </div>\n                                        : null}\n\n                                    {/* Content container */}\n                                    <div className=\"flex-fill content-container pl-sm-4\">\n                                        <table className=\"table-sm\">\n                                            <tbody>\n                                                <tr>\n                                                    <td className=\"title-td\">Name</td>\n                                                    <td>: {coupon.name}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Code</td>\n                                                    <td>: {coupon.code}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Type</td>\n                                                    <td>: {coupon.type}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Assign to</td>\n                                                    <td>: {coupon.assignTo}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Amount</td>\n                                                    <td>: {coupon.amount}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Use Limit</td>\n                                                    <td>: {coupon.useLimit ? coupon.useLimit : 0} Times</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Minimum Value</td>\n                                                    <td>: {coupon.priceDiscount ? coupon.priceDiscount + \" tk.\" : 0}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Maximum Value</td>\n                                                    <td>: {coupon.priceLimit ? coupon.priceLimit + \" tk.\" : 0}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Inside Dhaka</td>\n                                                    <td>: {coupon.insideDhaka ? coupon.insideDhaka + \" tk.\" : 0}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Outside Dhaka</td>\n                                                    <td>: {coupon.outsideDhaka ? coupon.outsideDhaka + \" tk.\" : 0}</td>\n                                                </tr>\n                                                <tr>\n                                                    <td className=\"title-td\">Valid till</td>\n                                                    <td>: {dateFormate(coupon.validTill)}</td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row coupon-items-container\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-header bg-white border-0\">\n                                <h6 className=\"mb-0\">{coupon.assignTo}'s</h6>\n                            </div>\n                            <div className=\"card-body\">\n                                <CouponShowTable assign={coupon.assignTo} items={items} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    );\n};\n\nexport default Show;"]},"metadata":{},"sourceType":"module"}