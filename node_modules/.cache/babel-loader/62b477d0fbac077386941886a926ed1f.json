{"ast":null,"code":"import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useCallback,useEffect,useState}from'react';import'./style.scss';import{useQuery}from'../../../components/query/Index';import{DataTable}from'../../../components/table/Index';import Requests from'../../../utils/Requests/Index';import ExportCSV from'../../../components/exportCSV/Index';import SalesFilter from'../../../components/salesFilter/Index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(){var _useQuery=useQuery(),type=_useQuery.type,value=_useQuery.value;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState6=_slicedToArray(_useState5,1),header=_useState6[0];// Fetch data\nvar fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return Requests.Sales.SalesReport(type,value,header);case 3:response=_context.sent;if(response.status)setData(response.data);setLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);})),[type,value,header]);useEffect(function(){if(type&&value)fetchData();},[type,value,header,fetchData]);var columns=[{name:'O. Code',sortable:true,selector:function selector(row){return row.orderCode;}},{name:'U.O. Count',sortable:true,grow:0,selector:function selector(row){return row.uniqueOrderCount;}},{name:'Customer',sortable:true,selector:function selector(row){return row.customer;}},{name:'Channel',sortable:true,grow:0,selector:function selector(row){return row.channel;}},{name:'Location',sortable:true,selector:function selector(row){return row.location;}},{name:'Area',sortable:true,selector:function selector(row){return row.area;}},{name:'P. SKU',sortable:true,selector:function selector(row){return row.productSKU;}},{name:'P. Name',sortable:true,grow:1,selector:function selector(row){return row.productName;}},{name:'Brand',sortable:true,selector:function selector(row){return row.brand?row.brand:\"N/A\";}},{name:'Vendor',sortable:true,selector:function selector(row){return row.vendor;}},{name:'Category',sortable:true,selector:function selector(row){return row.category?row.category:\"N/A\";}},{name:'Payment Status',sortable:true,selector:function selector(row){return row.paymentStatus;}},{name:'Status',sortable:true,selector:function selector(row){return row.status;}},{name:'Purchase Price',sortable:true,selector:function selector(row){return\"Tk. \"+row.purchasePrice;}},{name:'Listing Price',sortable:true,selector:function selector(row){return\"Tk. \"+row.listingPrice;}},{name:'Discount',sortable:true,selector:function selector(row){return\"Tk. \"+row.itemDiscount;}},{name:'Sale Price',sortable:true,selector:function selector(row){return\"Tk. \"+row.sellingPrice;}}];return/*#__PURE__*/_jsx(\"div\",{className:\"report-index\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-padding\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header p-3 p-lg-4 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"mt-2 mb-0\",children:\"Sales report\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:data&&data.length?/*#__PURE__*/_jsx(ExportCSV,{csvData:data,fileName:'Sales_report'}):null})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:/*#__PURE__*/_jsx(SalesFilter,{updateItems:function updateItems(data){return setData(data);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:/*#__PURE__*/_jsx(DataTable,{fixedHeader:true,fixedHeaderScrollHeight:\"600px\",columns:columns,data:data,loading:loading})})})]})})})});};export default Index;","map":{"version":3,"sources":["D:/previous/src/pages/reports/salesReport/Index.js"],"names":["React","useCallback","useEffect","useState","useQuery","DataTable","Requests","ExportCSV","SalesFilter","Index","type","value","loading","setLoading","data","setData","headers","Authorization","localStorage","getItem","header","fetchData","Sales","SalesReport","response","status","columns","name","sortable","selector","row","orderCode","grow","uniqueOrderCount","customer","channel","location","area","productSKU","productName","brand","vendor","category","paymentStatus","purchasePrice","listingPrice","itemDiscount","sellingPrice","length"],"mappings":"4SAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,MAAO,cAAP,CACA,OAASC,QAAT,KAAyB,iCAAzB,CACA,OAASC,SAAT,KAA0B,iCAA1B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,+BAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qCAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAChB,cAAsBL,QAAQ,EAA9B,CAAMM,IAAN,WAAMA,IAAN,CAAYC,KAAZ,WAAYA,KAAZ,CAEA,cAA8BR,QAAQ,CAAC,KAAD,CAAtC,wCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAAwBV,QAAQ,CAAC,EAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,eAAiBZ,QAAQ,CAAC,CACtBa,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA7B,CADa,CAAD,CAAzB,yCAAOC,MAAP,eAIA;AACA,GAAMC,CAAAA,SAAS,CAAGpB,WAAW,sEAAC,gJAC1BY,UAAU,CAAC,IAAD,CAAV,CAD0B,sBAEHP,CAAAA,QAAQ,CAACgB,KAAT,CAAeC,WAAf,CAA2Bb,IAA3B,CAAiCC,KAAjC,CAAwCS,MAAxC,CAFG,QAEpBI,QAFoB,eAI1B,GAAIA,QAAQ,CAACC,MAAb,CAAqBV,OAAO,CAACS,QAAQ,CAACV,IAAV,CAAP,CACrBD,UAAU,CAAC,KAAD,CAAV,CAL0B,sDAAD,GAM1B,CAACH,IAAD,CAAOC,KAAP,CAAcS,MAAd,CAN0B,CAA7B,CAQAlB,SAAS,CAAC,UAAM,CACZ,GAAIQ,IAAI,EAAIC,KAAZ,CAAmBU,SAAS,GAC/B,CAFQ,CAEN,CAACX,IAAD,CAAOC,KAAP,CAAcS,MAAd,CAAsBC,SAAtB,CAFM,CAAT,CAKA,GAAMK,CAAAA,OAAO,CAAG,CACZ,CACIC,IAAI,CAAE,SADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,SAAR,EAHjB,CADY,CAMZ,CACIJ,IAAI,CAAE,YADV,CAEIC,QAAQ,CAAE,IAFd,CAGII,IAAI,CAAE,CAHV,CAIIH,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACG,gBAAR,EAJjB,CANY,CAYZ,CACIN,IAAI,CAAE,UADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACI,QAAR,EAHjB,CAZY,CAiBZ,CACIP,IAAI,CAAE,SADV,CAEIC,QAAQ,CAAE,IAFd,CAGII,IAAI,CAAE,CAHV,CAIIH,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACK,OAAR,EAJjB,CAjBY,CAuBZ,CACIR,IAAI,CAAE,UADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACM,QAAR,EAHjB,CAvBY,CA4BZ,CACIT,IAAI,CAAE,MADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACO,IAAR,EAHjB,CA5BY,CAiCZ,CACIV,IAAI,CAAE,QADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACQ,UAAR,EAHjB,CAjCY,CAsCZ,CACIX,IAAI,CAAE,SADV,CAEIC,QAAQ,CAAE,IAFd,CAGII,IAAI,CAAE,CAHV,CAIIH,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACS,WAAR,EAJjB,CAtCY,CA4CZ,CACIZ,IAAI,CAAE,OADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACU,KAAJ,CAAYV,GAAG,CAACU,KAAhB,CAAwB,KAA5B,EAHjB,CA5CY,CAiDZ,CACIb,IAAI,CAAE,QADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACW,MAAR,EAHjB,CAjDY,CAsDZ,CACId,IAAI,CAAE,UADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACY,QAAJ,CAAeZ,GAAG,CAACY,QAAnB,CAA8B,KAAlC,EAHjB,CAtDY,CA2DZ,CACIf,IAAI,CAAE,gBADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACa,aAAR,EAHjB,CA3DY,CAgEZ,CACIhB,IAAI,CAAE,QADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACL,MAAR,EAHjB,CAhEY,CAqEZ,CACIE,IAAI,CAAE,gBADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAI,OAASA,GAAG,CAACc,aAAjB,EAHjB,CArEY,CA0EZ,CACIjB,IAAI,CAAE,eADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAI,OAASA,GAAG,CAACe,YAAjB,EAHjB,CA1EY,CA+EZ,CACIlB,IAAI,CAAE,UADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAI,OAASA,GAAG,CAACgB,YAAjB,EAHjB,CA/EY,CAoFZ,CACInB,IAAI,CAAE,YADV,CAEIC,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,kBAAAC,GAAG,QAAI,OAASA,GAAG,CAACiB,YAAjB,EAHjB,CApFY,CAAhB,CA2FA,mBACI,YAAK,SAAS,CAAC,cAAf,uBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,oBAAf,wBACI,aAAK,SAAS,CAAC,8BAAf,wBACI,YAAK,SAAS,CAAC,iCAAf,uBACI,aAAK,SAAS,CAAC,QAAf,wBACI,kCAAK,WAAI,SAAS,CAAC,WAAd,0BAAL,EADJ,cAEI,YAAK,SAAS,CAAC,SAAf,UACKjC,IAAI,EAAIA,IAAI,CAACkC,MAAb,cAAsB,KAAC,SAAD,EAAW,OAAO,CAAElC,IAApB,CAA0B,QAAQ,CAAE,cAApC,EAAtB,CAA+E,IADpF,EAFJ,GADJ,EADJ,cAWI,YAAK,SAAS,CAAC,eAAf,uBACI,KAAC,WAAD,EAAa,WAAW,CAAE,qBAACA,IAAD,QAAUC,CAAAA,OAAO,CAACD,IAAD,CAAjB,EAA1B,EADJ,EAXJ,GADJ,cAkBI,YAAK,SAAS,CAAC,yBAAf,uBACI,YAAK,SAAS,CAAC,eAAf,uBACI,KAAC,SAAD,EACI,WAAW,KADf,CAEI,uBAAuB,CAAC,OAF5B,CAGI,OAAO,CAAEY,OAHb,CAII,IAAI,CAAEZ,IAJV,CAKI,OAAO,CAAEF,OALb,EADJ,EADJ,EAlBJ,GADJ,EADJ,EADJ,EADJ,CAsCH,CAxJD,CA0JA,cAAeH,CAAAA,KAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport './style.scss'\nimport { useQuery } from '../../../components/query/Index'\nimport { DataTable } from '../../../components/table/Index'\n\nimport Requests from '../../../utils/Requests/Index'\nimport ExportCSV from '../../../components/exportCSV/Index'\nimport SalesFilter from '../../../components/salesFilter/Index'\n\nconst Index = () => {\n    let { type, value } = useQuery()\n\n    const [loading, setLoading] = useState(false)\n    const [data, setData] = useState([])\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        setLoading(true)\n        const response = await Requests.Sales.SalesReport(type, value, header)\n\n        if (response.status) setData(response.data)\n        setLoading(false)\n    }, [type, value, header])\n\n    useEffect(() => {\n        if (type && value) fetchData()\n    }, [type, value, header, fetchData])\n\n\n    const columns = [\n        {\n            name: 'O. Code',\n            sortable: true,\n            selector: row => row.orderCode\n        },\n        {\n            name: 'U.O. Count',\n            sortable: true,\n            grow: 0,\n            selector: row => row.uniqueOrderCount\n        },\n        {\n            name: 'Customer',\n            sortable: true,\n            selector: row => row.customer\n        },\n        {\n            name: 'Channel',\n            sortable: true,\n            grow: 0,\n            selector: row => row.channel\n        },\n        {\n            name: 'Location',\n            sortable: true,\n            selector: row => row.location\n        },\n        {\n            name: 'Area',\n            sortable: true,\n            selector: row => row.area\n        },\n        {\n            name: 'P. SKU',\n            sortable: true,\n            selector: row => row.productSKU\n        },\n        {\n            name: 'P. Name',\n            sortable: true,\n            grow: 1,\n            selector: row => row.productName\n        },\n        {\n            name: 'Brand',\n            sortable: true,\n            selector: row => row.brand ? row.brand : \"N/A\"\n        },\n        {\n            name: 'Vendor',\n            sortable: true,\n            selector: row => row.vendor\n        },\n        {\n            name: 'Category',\n            sortable: true,\n            selector: row => row.category ? row.category : \"N/A\"\n        },\n        {\n            name: 'Payment Status',\n            sortable: true,\n            selector: row => row.paymentStatus\n        },\n        {\n            name: 'Status',\n            sortable: true,\n            selector: row => row.status\n        },\n        {\n            name: 'Purchase Price',\n            sortable: true,\n            selector: row => \"Tk. \" + row.purchasePrice\n        },\n        {\n            name: 'Listing Price',\n            sortable: true,\n            selector: row => \"Tk. \" + row.listingPrice\n        },\n        {\n            name: 'Discount',\n            sortable: true,\n            selector: row => \"Tk. \" + row.itemDiscount\n        },\n        {\n            name: 'Sale Price',\n            sortable: true,\n            selector: row => \"Tk. \" + row.sellingPrice\n        }\n    ]\n\n    return (\n        <div className=\"report-index\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12 col-padding\">\n                        <div className=\"card border-0 shadow-sm mb-3\">\n                            <div className=\"card-header p-3 p-lg-4 bg-white\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mt-2 mb-0\">Sales report</h6></div>\n                                    <div className=\"ml-auto\">\n                                        {data && data.length ? <ExportCSV csvData={data} fileName={'Sales_report'} /> : null}\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Filter form */}\n                            <div className=\"card-body p-0\">\n                                <SalesFilter updateItems={(data) => setData(data)} />\n                            </div>\n                        </div>\n\n                        {/* Data table */}\n                        <div className=\"card border-0 shadow-sm\">\n                            <div className=\"card-body p-0\">\n                                <DataTable\n                                    fixedHeader\n                                    fixedHeaderScrollHeight=\"600px\"\n                                    columns={columns}\n                                    data={data}\n                                    loading={loading}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}