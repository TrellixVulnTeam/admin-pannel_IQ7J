{"ast":null,"code":"import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useCallback,useState,useEffect}from'react';import Icon from'react-icons-kit';import{Form}from'react-bootstrap';import{useForm}from'react-hook-form';import{useParams}from'react-router';import{Link}from'react-router-dom';import{chevronLeft}from'react-icons-kit/feather';import{Container}from'../../components/container';import{Card}from'../../components/card/Index';import{CustomButton}from'../../components/button';import{PreLoader}from'../../components/loading/Index';import{NoContent}from'../../components/204/NoContent';import{NetworkError}from'../../components/501/NetworkError';import Requests from'../../utils/Requests/Index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditSlug=function EditSlug(){var _useParams=useParams(),id=_useParams.id;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isUpdate=_useState6[0],setUpdate=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),serverErr=_useState10[0],setServerErr=_useState10[1];var _useState11=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState12=_slicedToArray(_useState11,1),header=_useState12[0];// Fetch Data \nvar fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Requests.Product.Show(id,header);case 3:response=_context.sent;if(response&&response.status===200){setData(response.data.product);}setLoading(false);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(_context.t0){setLoading(false);setServerErr(true);}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[id,header]);useEffect(function(){fetchData();},[id,header,fetchData]);// handle submit\nvar onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setUpdate(true);_context2.next=4;return Requests.Product.ChangeSlug(id,data,header);case 4:setUpdate(false);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);if(_context2.t0)setUpdate(false);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Container.Fluid,{children:/*#__PURE__*/_jsxs(Container.Row,{children:[isLoading&&!serverErr&&!Object.keys(data).length?/*#__PURE__*/_jsx(PreLoader,{}):null,!isLoading&&!serverErr&&!Object.keys(data).length?/*#__PURE__*/_jsx(NoContent,{message:\"No content availavle!\"}):null,!isLoading&&serverErr&&!Object.keys(data).length?/*#__PURE__*/_jsx(NetworkError,{message:\"Network Error!\"}):null,!isLoading&&!serverErr&&Object.keys(data).length?/*#__PURE__*/_jsx(Container.Column,{className:\"col-padding\",children:/*#__PURE__*/_jsxs(Card.Simple,{className:\"border-0 shadow-sm rounded\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-white rounded border-0 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Edit product slug\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/product\",children:/*#__PURE__*/_jsx(CustomButton,{className:\"btn-primary rounded-circle circle__padding border-0\",children:/*#__PURE__*/_jsx(Icon,{icon:chevronLeft,size:22})})})})]})}),/*#__PURE__*/_jsx(Card.Body,{className:\"px-4 pb-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.slug&&errors.slug.message?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.slug&&errors.slug.message}):/*#__PURE__*/_jsx(\"p\",{children:\"Slug\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"slug\",defaultValue:data.slug||null,className:\"form-control shadow-none\",placeholder:\"Enter custom slug\",ref:register({required:\"Slug is required\"})})]}),/*#__PURE__*/_jsxs(\"ol\",{className:\"pl-3\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"font-13 text-muted\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Don't remove number from slug.\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"font-13 text-muted\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Don't remove ( - ) from slug.\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"font-13 text-muted\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Don't use white space in slug.\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"font-13 text-muted\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Don't use ( /, #, &, *, %, !, ~, (,) @ ) in slug.\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-4\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",id:\"slug-change-checkbox\",label:\"Are you sure? Want to change this slug.\",className:\"font-14\",onClick:function onClick(){return setShow(!show);}})}),show?/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(CustomButton,{type:\"submit\",disabled:isUpdate,children:isUpdate?\"Loading...\":\"Submit Changes\"})}):null]})})]})}):null]})});};export default EditSlug;","map":{"version":3,"sources":["D:/previous/src/pages/product/EditSlug.js"],"names":["React","useCallback","useState","useEffect","Icon","Form","useForm","useParams","Link","chevronLeft","Container","Card","CustomButton","PreLoader","NoContent","NetworkError","Requests","EditSlug","id","register","handleSubmit","errors","data","setData","show","setShow","isUpdate","setUpdate","isLoading","setLoading","serverErr","setServerErr","headers","Authorization","localStorage","getItem","header","fetchData","Product","Show","response","status","product","onSubmit","ChangeSlug","Object","keys","length","slug","message","required"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect } from 'react'\nimport Icon from 'react-icons-kit'\nimport { Form } from 'react-bootstrap'\nimport { useForm } from 'react-hook-form'\nimport { useParams } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport { chevronLeft } from 'react-icons-kit/feather'\n\nimport { Container } from '../../components/container'\nimport { Card } from '../../components/card/Index'\nimport { CustomButton } from '../../components/button'\nimport { PreLoader } from '../../components/loading/Index'\nimport { NoContent } from '../../components/204/NoContent'\nimport { NetworkError } from '../../components/501/NetworkError'\nimport Requests from '../../utils/Requests/Index'\n\n\nconst EditSlug = () => {\n    const { id } = useParams()\n    const { register, handleSubmit, errors } = useForm()\n    const [data, setData] = useState({})\n    const [show, setShow] = useState(false)\n    const [isUpdate, setUpdate] = useState(false)\n    const [isLoading, setLoading] = useState(true)\n    const [serverErr, setServerErr] = useState(false)\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Fetch Data \n    const fetchData = useCallback(async () => {\n        try {\n            const response = await Requests.Product.Show(id, header)\n            if (response && response.status === 200) {\n                setData(response.data.product)\n            }\n            setLoading(false)\n        } catch (error) {\n            if (error) {\n                setLoading(false)\n                setServerErr(true)\n            }\n        }\n    }, [id, header])\n\n    useEffect(() => {\n        fetchData()\n    }, [id, header, fetchData])\n\n\n    // handle submit\n    const onSubmit = async (data) => {\n        try {\n            setUpdate(true)\n            await Requests.Product.ChangeSlug(id, data, header)\n            setUpdate(false)\n        } catch (error) {\n            if (error) setUpdate(false)\n        }\n    }\n\n    return (\n        <Container.Fluid>\n            <Container.Row>\n\n                {isLoading && !serverErr && !Object.keys(data).length ? <PreLoader /> : null}\n                {!isLoading && !serverErr && !Object.keys(data).length ? <NoContent message=\"No content availavle!\" /> : null}\n                {!isLoading && serverErr && !Object.keys(data).length ? <NetworkError message=\"Network Error!\" /> : null}\n\n                {!isLoading && !serverErr && Object.keys(data).length ?\n                    <Container.Column className=\"col-padding\">\n                        <Card.Simple className=\"border-0 shadow-sm rounded\">\n                            <Card.Header className=\"bg-white rounded border-0 p-4\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mb-0\">Edit product slug</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link to=\"/dashboard/product\">\n                                            <CustomButton className=\"btn-primary rounded-circle circle__padding border-0\">\n                                                <Icon icon={chevronLeft} size={22} />\n                                            </CustomButton>\n                                        </Link>\n                                    </div>\n                                </div>\n                            </Card.Header>\n                            <Card.Body className=\"px-4 pb-4\">\n                                <form onSubmit={handleSubmit(onSubmit)}>\n\n                                    {/* slug */}\n                                    <div className=\"form-group mb-4\">\n                                        {errors.slug && errors.slug.message ?\n                                            <p className=\"text-danger\">{errors.slug && errors.slug.message}</p> :\n                                            <p>Slug</p>\n                                        }\n\n                                        <input\n                                            type=\"text\"\n                                            name=\"slug\"\n                                            defaultValue={data.slug || null}\n                                            className=\"form-control shadow-none\"\n                                            placeholder=\"Enter custom slug\"\n                                            ref={register({ required: \"Slug is required\" })}\n                                        />\n                                    </div>\n\n                                    {/* Slug change hints */}\n                                    <ol className=\"pl-3\">\n                                        <li className=\"font-13 text-muted\"><p className=\"mb-0\">Don't remove number from slug.</p></li>\n                                        <li className=\"font-13 text-muted\"><p className=\"mb-0\">Don't remove ( - ) from slug.</p></li>\n                                        <li className=\"font-13 text-muted\"><p className=\"mb-0\">Don't use white space in slug.</p></li>\n                                        <li className=\"font-13 text-muted\"><p className=\"mb-0\">Don't use ( /, #, &, *, %, !, ~, (,) @ ) in slug.</p></li>\n                                    </ol>\n\n                                    {/* Confirmation checkbox */}\n                                    <div className=\"form-group mb-4\">\n                                        <Form.Check\n                                            type=\"checkbox\"\n                                            id=\"slug-change-checkbox\"\n                                            label=\"Are you sure? Want to change this slug.\"\n                                            className=\"font-14\"\n                                            onClick={() => setShow(!show)}\n                                        />\n                                    </div>\n\n                                    {/* Submit button */}\n                                    {show ?\n                                        <div className=\"text-right\">\n                                            <CustomButton\n                                                type=\"submit\"\n                                                disabled={isUpdate}\n                                            >{isUpdate ? \"Loading...\" : \"Submit Changes\"}</CustomButton>\n                                        </div>\n                                        : null\n                                    }\n                                </form>\n                            </Card.Body>\n                        </Card.Simple>\n                    </Container.Column>\n                    : null\n                }\n            </Container.Row>\n        </Container.Fluid>\n    )\n}\n\nexport default EditSlug"]},"metadata":{},"sourceType":"module"}