{"ast":null,"code":"import _toConsumableArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"D:/previous/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useCallback,useEffect,useRef,useState}from'react';import'./style.scss';import Icon from'react-icons-kit';import CommaNumber from'comma-number';import{minus,plus}from'react-icons-kit/feather';import{SearchableSelect,SingleSelect}from'../../components/select';import{districts}from'../../utils/location/districts';import{Customer}from'../../components/form/order/Customer';import{CouponApply}from'../../components/form/order/CouponApply';import{toast,Slide}from'react-toastify';import Requests from'../../utils/Requests/Index';import{useForm}from'react-hook-form';import{useHistory}from'react-router-dom';import{PaymentMethodForm}from'../../components/form/order/PaymentMethodForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure({autoClose:1500,transition:Slide,position:\"top-right\",hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});var Create=function Create(){var selectedField=useRef();var history=useHistory();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,clearErrors=_useForm.clearErrors,setError=_useForm.setError,errors=_useForm.errors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),placed=_useState2[0],setPlaced=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"COD\"),_useState6=_slicedToArray(_useState5,2),paymentMethod=_useState6[0],setPaymentMethod=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),selectedItems=_useState8[0],setSelectedItems=_useState8[1];var _useState9=useState({data:null,loading:false}),_useState10=_slicedToArray(_useState9,2),process=_useState10[0],setProcess=_useState10[1];var _useState11=useState({loading:false,message:{}}),_useState12=_slicedToArray(_useState11,2),coupon=_useState12[0],setCoupon=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),selectedCustomer=_useState14[0],setSelectedCustomer=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),selectedDivision=_useState16[0],setSelectedDivision=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),selectedDistrict=_useState18[0],setSelectedDistrict=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),selectedArea=_useState20[0],setSelectedArea=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),divisions=_useState22[0],setDivisions=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),districts=_useState24[0],setDistricts=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),areas=_useState26[0],setAreas=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isCouponApplied=_useState28[0],setIsCouponApplied=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),subTotal=_useState30[0],setSubTotal=_useState30[1];var _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),deliveryCharge=_useState32[0],setDeliveryCharge=_useState32[1];var _useState33=useState(null),_useState34=_slicedToArray(_useState33,2),total=_useState34[0],setTotal=_useState34[1];var _useState35=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}}),_useState36=_slicedToArray(_useState35,1),header=_useState36[0];// Count total amount\nvar TotalAmount=function TotalAmount(subTotal,dCharge){return subTotal+dCharge;};// Handle product search from API\nvar handleProductSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(inputValue){var results,response,i,element;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:results=[];_context.next=3;return Requests.Product.Search(inputValue,header);case 3:response=_context.sent;if(response&&response.data&&response.data.length){for(i=0;i<response.data.length;i++){element=response.data[i];results.push(_objectSpread(_objectSpread({},element),{},{label:element.sku+' - '+element.name.slice(0,40)+' ...',name:element.name.slice(0,10)+' ...',quantity:1,value:element._id,image:element.thumbnail}));}}return _context.abrupt(\"return\",results);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleProductSearch(_x){return _ref.apply(this,arguments);};}();// Handle Selected products values\nvar handleSelectedProductsValues=function handleSelectedProductsValues(data){return setSelectedItems(data);};// Increment Quantity\nvar incrementQuantity=function incrementQuantity(key){var items=_toConsumableArray(selectedItems);var item=_objectSpread({},items[key]);item.quantity+=1;items[key]=item;setSelectedItems(items);setProcess(_objectSpread(_objectSpread({},process),{},{data:null}));setCoupon({loading:false,message:{}});};// Decrement Quantity\nvar decrementQuantity=function decrementQuantity(key){var items=_toConsumableArray(selectedItems);var item=_objectSpread({},items[key]);item.quantity-=1;items[key]=item;setSelectedItems(items);setProcess(_objectSpread(_objectSpread({},process),{},{data:null}));setCoupon({loading:false,message:{}});};/* fetch division */var fetchDivision=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,items,i,element;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Requests.Services.Shipping.MainShipping.DivisionList(header);case 2:response=_context2.sent;items=[];if(response&&response.data){for(i=0;i<response.data.length;i++){element=response.data[i];items.push({label:element.name,value:element._id});}}setDivisions(items);case 6:case\"end\":return _context2.stop();}}},_callee2);})),[]);/* fetch district */var fetchDistrict=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var response,items,i,element;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Requests.Services.Shipping.MainShipping.DistrictList(id,header);case 2:response=_context3.sent;items=[];if(response&&response.data){for(i=0;i<response.data.length;i++){element=response.data[i];items.push({label:element.name,value:element._id});}}setDistricts(items);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchDistrict(_x2){return _ref3.apply(this,arguments);};}();/* fetch area */var fetchArea=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){var response,items,i,element;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Requests.Services.Shipping.MainShipping.AreaList(id,header);case 2:response=_context4.sent;items=[];if(response&&response.data){for(i=0;i<response.data.length;i++){element=response.data[i];items.push({label:\"\".concat(element.post_office,\" - \").concat(element.post_code),value:element._id});}}setAreas(items);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchArea(_x3){return _ref4.apply(this,arguments);};}();// Division\nuseEffect(function(){fetchDivision();},[fetchDivision]);// Process Order\nvar processOrder=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data){var is_error,products,i,element,formData,response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:is_error=false;if(!selectedDivision){setError(\"division\",{type:\"manual\",message:\"Division is required.\"});is_error=true;}if(!selectedDistrict){setError(\"district\",{type:\"manual\",message:\"District is required.\"});is_error=true;}if(!selectedArea){setError(\"area\",{type:\"manual\",message:\"Area is required.\"});is_error=true;}if(!is_error){_context5.next=6;break;}return _context5.abrupt(\"return\");case 6:products=[];if(selectedItems&&selectedItems.length){for(i=0;i<selectedItems.length;i++){element=selectedItems[i];products.push({quantity:element.quantity,_id:element.value});}}formData={products:[].concat(products),division:selectedDivision.value,district:selectedDistrict.value,area:selectedArea.value};setProcess(_objectSpread(_objectSpread({},process),{},{loading:true}));_context5.next=12;return Requests.Order.ProcessOrder(formData,header);case 12:response=_context5.sent;setProcess({data:response,loading:false});setSubTotal(response&&response.subTotal?response.subTotal:0);setDeliveryCharge(response&&response.shippingCharge?response.shippingCharge:0);setTotal(response&&response.totalPrice?response.totalPrice:0);case 17:case\"end\":return _context5.stop();}}},_callee5);}));return function processOrder(_x4){return _ref5.apply(this,arguments);};}();// Handle coupon\nvar handleCoupon=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(data){var products,i,element,formData,response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:products=[];if(selectedItems&&selectedItems.length){for(i=0;i<selectedItems.length;i++){element=selectedItems[i];products.push(_objectSpread(_objectSpread({},element),{},{quantity:element.quantity,_id:element.value}));}}formData=_objectSpread(_objectSpread({},data),{},{products:products,// shippingLocation: area.value,\nprocessId:process.data.processId});setCoupon(_objectSpread(_objectSpread({},coupon),{},{loading:true}));_context6.next=6;return Requests.Order.ApplyCoupon(formData,header);case 6:response=_context6.sent;if(response&&response.sucess){toast.success(response.message);setIsCouponApplied(true);setProcess(_objectSpread(_objectSpread({},process),{},{data:_objectSpread(_objectSpread({},process.data),{},{coupon:response.data&&response.data.available_coupon?response.data.available_coupon:null,subTotal:response.data&&response.data.subTotal?response.data.subTotal:null,shippingCharge:response.data&&response.data.shippingCharge?response.data.shippingCharge:null,totalPrice:response.data&&response.data.totalPrice?response.data.totalPrice:null})}));setCoupon(_objectSpread(_objectSpread({},coupon),{},{loading:false,message:{type:\"success\",value:response.message}}));}else{setCoupon(_objectSpread(_objectSpread({},coupon),{},{loading:false}));}case 8:case\"end\":return _context6.stop();}}},_callee6);}));return function handleCoupon(_x5){return _ref6.apply(this,arguments);};}();// Handle customer search from API\nvar handleCustomerSearch=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(inputValue){var results,response,i,element;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:results=[];_context7.next=3;return Requests.Order.SearchCustomer(inputValue,header);case 3:response=_context7.sent;if(response&&response.data&&response.data.length){for(i=0;i<response.data.length;i++){element=response.data[i];results.push({value:element._id,label:element.name+\"-\"+element.phone,name:element.name,email:element.email,phone:element.phone,shippingArea:element.shippingAddress,deliveryAddress:element.deliveryAddress,postCode:element.postCode,postOffice:element.postOffice,upazila:element.upazila});}}return _context7.abrupt(\"return\",results);case 6:case\"end\":return _context7.stop();}}},_callee7);}));return function handleCustomerSearch(_x6){return _ref7.apply(this,arguments);};}();var payment=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:console.log(\"payment\",data);case 1:case\"end\":return _context8.stop();}}},_callee8);}));return function payment(_x7){return _ref8.apply(this,arguments);};}();// Place order\nvar placeOrder=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(data){var formData,response;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:formData=_objectSpread(_objectSpread({},data),{},{// shippingArea: area && area.value ? area.value : null,\n// postCode: postCode && postCode.value ? postCode.value : null,\n// postOffice: postOffice || null,\ncoupon:process.data&&process.data.coupon&&process.data.coupon._id?process.data.coupon._id:null,subTotal:subTotal||0,shippingCharge:deliveryCharge||0,totalPrice:total||0,// upazila: upzila || null,\nisCouponApplied:isCouponApplied,couponInfo:process.data&&process.data.coupon?process.data.coupon:null,products:JSON.stringify(process.data&&process.data.products?process.data.products:null)});setPlaced(true);_context9.next=4;return Requests.Order.PlaceOrder(formData,header);case 4:response=_context9.sent;if(response){setSelectedItems([]);history.push(\"/dashboard/order\");}setPlaced(false);case 7:case\"end\":return _context9.stop();}}},_callee9);}));return function placeOrder(_x8){return _ref9.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"order-create-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding\",children:/*#__PURE__*/_jsx(SearchableSelect,{isMulti:true,placeholder:\"Search product by SKU\",search:handleProductSearch,values:handleSelectedProductsValues})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-padding selected-products-container\",children:selectedItems&&selectedItems.map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body shadow-sm bg-white rounded text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-container\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,className:\"img-fluid\",alt:\"...\"})}),/*#__PURE__*/_jsx(\"p\",{children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",item.quantity]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-auto pt-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm shadow-none rounded-circle btn-desc\",disabled:item.quantity<=1,onClick:function onClick(){return decrementQuantity(i);},children:/*#__PURE__*/_jsx(Icon,{icon:minus,size:15})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm shadow-none rounded-circle btn-inc ml-1\",onClick:function onClick(){return incrementQuantity(i);},children:/*#__PURE__*/_jsx(Icon,{icon:plus,size:15})})]})]})]})},i);})}),selectedItems&&selectedItems.length?/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(processOrder),children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.division&&errors.division.message?/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.division&&errors.division.message}):/*#__PURE__*/_jsxs(\"small\",{children:[\"Select division\",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(SingleSelect,{options:divisions,placeholder:'division',borderRadius:4,error:errors.division&&errors.division.message,value:function value(event){setSelectedDivision(event);fetchDistrict(event.value);clearErrors(\"division\");}})]})}),selectedDivision?/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.district&&errors.district.message?/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.district&&errors.district.message}):/*#__PURE__*/_jsxs(\"small\",{children:[\"Select district\",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(SingleSelect,{options:districts,placeholder:'district',borderRadius:4,error:errors.district&&errors.district.message,value:function value(event){setSelectedDistrict(event);fetchArea(event.value);clearErrors(\"district\");}})]})}):null,selectedDistrict?/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[errors.area&&errors.area.message?/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.area&&errors.area.message}):/*#__PURE__*/_jsxs(\"small\",{children:[\"Select Area\",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(SingleSelect,{options:areas,placeholder:'area',borderRadius:4,error:errors.area&&errors.area.message,value:function value(event){setSelectedArea(event);clearErrors(\"area\");}})]})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"col-12 text-center py-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn shadow-none success-btn px-4 py-2\",disabled:process.loading// onClick={processOrder}\n,children:process.loading?\"Processing ...\":\"Process Order\"})})]})})}):null,selectedItems&&selectedItems.length&&process.data?/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Payment method\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"paymentMethod\",className:\"form-control shadow-none\",defaultValue:\"COD\",onChange:function onChange(e){return setPaymentMethod(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--- Select Option ---\"}),/*#__PURE__*/_jsx(\"option\",{value:\"COD\",children:\"COD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Paid\",children:\"Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Partial Paid\",children:\"Partial Paid\"})]})]})}),/*#__PURE__*/_jsx(PaymentMethodForm,{loading:loading,paymentMethod:paymentMethod,value:function value(data){return payment(data);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-1\",children:\"Sub-Total\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-1\",children:\"Delivery charge \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-auto\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-1\",children:[\": \\u09F3. \",CommaNumber(subTotal)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-1\",children:[\": \\u09F3. \",CommaNumber(deliveryCharge)]})]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:\"Total\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[\": \\u09F3. \",CommaNumber(total)]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CouponApply,{loading:coupon.loading,message:coupon.message,value:handleCoupon})]})})}):null,selectedItems&&selectedItems.length&&process.data?/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header rounded border-0 bg-white p-3 p-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-md-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Customer Information\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-md-auto pt-3 pt-md-0\",style:{width:250},children:/*#__PURE__*/_jsx(SearchableSelect,{placeholder:\"Search customer\",search:handleCustomerSearch,values:function values(data){return setSelectedCustomer(data);}})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body border-top p-3 p-lg-4\",children:/*#__PURE__*/_jsx(Customer,{loading:placed,data:selectedCustomer,value:function value(data){return placeOrder(data);}})})]})}):null]})})});};export default Create;","map":{"version":3,"sources":["D:/previous/src/pages/orders/Create.js"],"names":["React","useCallback","useEffect","useRef","useState","Icon","CommaNumber","minus","plus","SearchableSelect","SingleSelect","districts","Customer","CouponApply","toast","Slide","Requests","useForm","useHistory","PaymentMethodForm","configure","autoClose","transition","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Create","selectedField","history","register","handleSubmit","clearErrors","setError","errors","placed","setPlaced","loading","setLoading","paymentMethod","setPaymentMethod","selectedItems","setSelectedItems","data","process","setProcess","message","coupon","setCoupon","selectedCustomer","setSelectedCustomer","selectedDivision","setSelectedDivision","selectedDistrict","setSelectedDistrict","selectedArea","setSelectedArea","divisions","setDivisions","setDistricts","areas","setAreas","isCouponApplied","setIsCouponApplied","subTotal","setSubTotal","deliveryCharge","setDeliveryCharge","total","setTotal","headers","Authorization","localStorage","getItem","header","TotalAmount","dCharge","handleProductSearch","inputValue","results","Product","Search","response","length","i","element","push","label","sku","name","slice","quantity","value","_id","image","thumbnail","handleSelectedProductsValues","incrementQuantity","key","items","item","decrementQuantity","fetchDivision","Services","Shipping","MainShipping","DivisionList","fetchDistrict","id","DistrictList","fetchArea","AreaList","post_office","post_code","processOrder","is_error","type","products","formData","division","district","area","Order","ProcessOrder","shippingCharge","totalPrice","handleCoupon","processId","ApplyCoupon","sucess","success","available_coupon","handleCustomerSearch","SearchCustomer","phone","email","shippingArea","shippingAddress","deliveryAddress","postCode","postOffice","upazila","payment","console","log","placeOrder","couponInfo","JSON","stringify","PlaceOrder","map","event","e","target","width"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport './style.scss'\nimport Icon from 'react-icons-kit'\nimport CommaNumber from 'comma-number'\nimport { minus, plus } from 'react-icons-kit/feather'\nimport { SearchableSelect, SingleSelect } from '../../components/select'\nimport { districts } from '../../utils/location/districts'\nimport { Customer } from '../../components/form/order/Customer'\nimport { CouponApply } from '../../components/form/order/CouponApply'\nimport { toast, Slide } from 'react-toastify'\nimport Requests from '../../utils/Requests/Index'\nimport { useForm } from 'react-hook-form'\nimport { useHistory } from 'react-router-dom'\nimport { PaymentMethodForm } from '../../components/form/order/PaymentMethodForm'\n\ntoast.configure({\n    autoClose: 1500,\n    transition: Slide,\n    position: \"top-right\",\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n})\n\nconst Create = () => {\n    const selectedField = useRef()\n    const history = useHistory()\n    const { register, handleSubmit, clearErrors, setError, errors } = useForm()\n    const [placed, setPlaced] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [paymentMethod, setPaymentMethod] = useState(\"COD\")\n    const [selectedItems, setSelectedItems] = useState([])\n    const [process, setProcess] = useState({ data: null, loading: false })\n    const [coupon, setCoupon] = useState({ loading: false, message: {} })\n    const [selectedCustomer, setSelectedCustomer] = useState(null)\n    const [selectedDivision, setSelectedDivision] = useState(null)\n    const [selectedDistrict, setSelectedDistrict] = useState(null)\n    const [selectedArea, setSelectedArea] = useState(null)\n    const [divisions, setDivisions] = useState([])\n    const [districts, setDistricts] = useState([])\n    const [areas, setAreas] = useState([])\n    const [isCouponApplied, setIsCouponApplied] = useState(false)\n    const [subTotal, setSubTotal] = useState(null)\n    const [deliveryCharge, setDeliveryCharge] = useState(null)\n    const [total, setTotal] = useState(null)\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") }\n    })\n\n    // Count total amount\n    const TotalAmount = (subTotal, dCharge) => {\n        return subTotal + dCharge\n    }\n\n    // Handle product search from API\n    const handleProductSearch = async (inputValue) => {\n        let results = []\n        const response = await Requests.Product.Search(inputValue, header)\n\n        if (response && response.data && response.data.length) {\n            for (let i = 0; i < response.data.length; i++) {\n                const element = response.data[i]\n                results.push({\n                    ...element,\n                    label: element.sku + ' - ' + element.name.slice(0, 40) + ' ...',\n                    name: element.name.slice(0, 10) + ' ...',\n                    quantity: 1,\n                    value: element._id,\n                    image: element.thumbnail\n                })\n            }\n        }\n        return results\n    }\n\n    // Handle Selected products values\n    const handleSelectedProductsValues = data => setSelectedItems(data)\n\n    // Increment Quantity\n    const incrementQuantity = key => {\n        let items = [...selectedItems]\n        let item = { ...items[key] }\n        item.quantity += 1\n\n        items[key] = item\n        setSelectedItems(items)\n        setProcess({ ...process, data: null })\n        setCoupon({ loading: false, message: {} })\n    }\n\n    // Decrement Quantity\n    const decrementQuantity = key => {\n        let items = [...selectedItems]\n        let item = { ...items[key] }\n        item.quantity -= 1\n\n        items[key] = item\n        setSelectedItems(items)\n        setProcess({ ...process, data: null })\n        setCoupon({ loading: false, message: {} })\n    }\n\n    /* fetch division */\n    const fetchDivision = useCallback(async () => {\n        const response = await Requests.Services.Shipping.MainShipping.DivisionList(header)\n        let items = []\n        if (response && response.data) {\n            for (let i = 0; i < response.data.length; i++) {\n                const element = response.data[i]\n                items.push({\n                    label: element.name,\n                    value: element._id,\n                })\n            }\n        }\n        setDivisions(items)\n    }, [])\n\n    /* fetch district */\n    const fetchDistrict = async (id) => {\n        const response = await Requests.Services.Shipping.MainShipping.DistrictList(id, header)\n        let items = []\n        if (response && response.data) {\n            for (let i = 0; i < response.data.length; i++) {\n                const element = response.data[i]\n                items.push({\n                    label: element.name,\n                    value: element._id,\n                })\n            }\n        }\n        setDistricts(items)\n    }\n\n    /* fetch area */\n    const fetchArea = async (id) => {\n        const response = await Requests.Services.Shipping.MainShipping.AreaList(id, header)\n        let items = []\n        if (response && response.data) {\n            for (let i = 0; i < response.data.length; i++) {\n                const element = response.data[i]\n                items.push({\n                    label: `${element.post_office} - ${element.post_code}`,\n                    value: element._id,\n                })\n            }\n        }\n        setAreas(items)\n    }\n\n    // Division\n    useEffect(() => {\n        fetchDivision()\n    }, [fetchDivision])\n\n    // Process Order\n    const processOrder = async (data) => {\n\n        let is_error = false\n\n        if (!selectedDivision) {\n            setError(\"division\", {\n                type: \"manual\",\n                message: \"Division is required.\"\n            })\n            is_error = true\n        }\n        if (!selectedDistrict) {\n            setError(\"district\", {\n                type: \"manual\",\n                message: \"District is required.\"\n            })\n            is_error = true\n        }\n        if (!selectedArea) {\n            setError(\"area\", {\n                type: \"manual\",\n                message: \"Area is required.\"\n            })\n            is_error = true\n        }\n\n        if (is_error) return\n\n        let products = []\n\n        if (selectedItems && selectedItems.length) {\n            for (let i = 0; i < selectedItems.length; i++) {\n                const element = selectedItems[i]\n                products.push({\n                    quantity: element.quantity,\n                    _id: element.value\n                })\n            }\n        }\n\n        const formData = {\n            products: [...products],\n            division: selectedDivision.value,\n            district: selectedDistrict.value,\n            area: selectedArea.value\n        }\n\n        setProcess({ ...process, loading: true })\n        const response = await Requests.Order.ProcessOrder(formData, header)\n        setProcess({ data: response, loading: false })\n        setSubTotal(response && response.subTotal ? response.subTotal : 0)\n        setDeliveryCharge(response && response.shippingCharge ? response.shippingCharge : 0)\n        setTotal(response && response.totalPrice ? response.totalPrice : 0)\n\n    }\n\n    // Handle coupon\n    const handleCoupon = async (data) => {\n\n        let products = []\n\n        if (selectedItems && selectedItems.length) {\n            for (let i = 0; i < selectedItems.length; i++) {\n                const element = selectedItems[i]\n                products.push({\n                    ...element,\n                    quantity: element.quantity,\n                    _id: element.value\n                })\n            }\n        }\n        const formData = {\n            ...data,\n            products: products,\n            // shippingLocation: area.value,\n            processId: process.data.processId\n        }\n\n        setCoupon({ ...coupon, loading: true })\n        const response = await Requests.Order.ApplyCoupon(formData, header)\n\n        if (response && response.sucess) {\n            toast.success(response.message)\n            setIsCouponApplied(true)\n            setProcess({\n                ...process, data: {\n                    ...process.data,\n                    coupon: response.data && response.data.available_coupon ? response.data.available_coupon : null,\n                    subTotal: response.data && response.data.subTotal ? response.data.subTotal : null,\n                    shippingCharge: response.data && response.data.shippingCharge ? response.data.shippingCharge : null,\n                    totalPrice: response.data && response.data.totalPrice ? response.data.totalPrice : null\n                }\n            })\n            setCoupon({ ...coupon, loading: false, message: { type: \"success\", value: response.message } })\n\n        } else {\n            setCoupon({ ...coupon, loading: false })\n        }\n\n    }\n\n    // Handle customer search from API\n    const handleCustomerSearch = async (inputValue) => {\n        let results = []\n        const response = await Requests.Order.SearchCustomer(inputValue, header)\n\n        if (response && response.data && response.data.length) {\n            for (let i = 0; i < response.data.length; i++) {\n                const element = response.data[i]\n                results.push({\n                    value: element._id,\n                    label: element.name + \"-\" + element.phone,\n                    name: element.name,\n                    email: element.email,\n                    phone: element.phone,\n                    shippingArea: element.shippingAddress,\n                    deliveryAddress: element.deliveryAddress,\n                    postCode: element.postCode,\n                    postOffice: element.postOffice,\n                    upazila: element.upazila\n                })\n            }\n        }\n\n        return results\n    }\n\n    const payment = async data => {\n\n        console.log(\"payment\", data);\n\n\n\n    }\n\n    // Place order\n    const placeOrder = async data => {\n\n        const formData = {\n            ...data,\n            // shippingArea: area && area.value ? area.value : null,\n            // postCode: postCode && postCode.value ? postCode.value : null,\n            // postOffice: postOffice || null,\n            coupon: process.data && process.data.coupon && process.data.coupon._id ? process.data.coupon._id : null,\n            subTotal: subTotal || 0,\n            shippingCharge: deliveryCharge || 0,\n            totalPrice: total || 0,\n            // upazila: upzila || null,\n            isCouponApplied: isCouponApplied,\n            couponInfo: process.data && process.data.coupon ? process.data.coupon : null,\n            products: JSON.stringify(process.data && process.data.products ? process.data.products : null)\n        }\n\n        setPlaced(true)\n        const response = await Requests.Order.PlaceOrder(formData, header)\n        if (response) {\n            setSelectedItems([])\n            history.push(\"/dashboard/order\")\n        }\n        setPlaced(false)\n    }\n\n\n    return (\n        <div className=\"order-create-container\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n\n                    {/* Header & search container */}\n                    <div className=\"col-12 col-padding\">\n                        <SearchableSelect\n                            isMulti={true}\n                            placeholder=\"Search product by SKU\"\n                            search={handleProductSearch}\n                            values={handleSelectedProductsValues}\n                        />\n                    </div>\n\n                    {/* Selected items container */}\n                    <div className=\"col-12 col-padding selected-products-container\">\n                        {selectedItems && selectedItems.map((item, i) =>\n                            <div className=\"card border-0 p-2\" key={i}>\n                                <div className=\"card-body shadow-sm bg-white rounded text-center\">\n                                    <div className=\"img-container\">\n                                        <img src={item.image} className=\"img-fluid\" alt=\"...\" />\n                                    </div>\n                                    <p>{item.name}</p>\n\n                                    <div className=\"d-flex mt-2\">\n                                        <div><p>Quantity: {item.quantity}</p></div>\n                                        <div className=\"ml-auto pt-2\">\n                                            <button className=\"btn btn-sm shadow-none rounded-circle btn-desc\"\n                                                disabled={item.quantity <= 1}\n                                                onClick={() => decrementQuantity(i)}\n                                            >\n                                                <Icon icon={minus} size={15} />\n                                            </button>\n                                            <button className=\"btn btn-sm shadow-none rounded-circle btn-inc ml-1\"\n                                                onClick={() => incrementQuantity(i)}\n                                            >\n                                                <Icon icon={plus} size={15} />\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Process Order Button */}\n                    {selectedItems && selectedItems.length ?\n                        <div className='col-12'>\n                            <form onSubmit={handleSubmit(processOrder)}>\n                                <div className='row'>\n                                    {/* Division */}\n                                    <div className=\"col-12 col-lg-6\">\n                                        <div className=\"form-group mb-4\">\n                                            {errors.division && errors.division.message ?\n                                                <small className=\"text-danger\">{errors.division && errors.division.message}</small> :\n                                                <small>Select division<span className=\"text-danger\">*</span></small>\n                                            }\n\n                                            <SingleSelect\n                                                options={divisions}\n                                                placeholder={'division'}\n                                                borderRadius={4}\n                                                error={errors.division && errors.division.message}\n                                                value={(event) => {\n                                                    setSelectedDivision(event)\n                                                    fetchDistrict(event.value)\n                                                    clearErrors(\"division\")\n                                                }}\n                                            />\n                                        </div>\n                                    </div>\n\n                                    {/* District */}\n                                    {selectedDivision ?\n                                        <div className=\"col-12 col-lg-6\">\n                                            <div className=\"form-group mb-4\">\n                                                {errors.district && errors.district.message ?\n                                                    <small className=\"text-danger\">{errors.district && errors.district.message}</small> :\n                                                    <small>Select district<span className=\"text-danger\">*</span></small>\n                                                }\n\n                                                <SingleSelect\n                                                    options={districts}\n                                                    placeholder={'district'}\n                                                    borderRadius={4}\n                                                    error={errors.district && errors.district.message}\n                                                    value={(event) => {\n                                                        setSelectedDistrict(event)\n                                                        fetchArea(event.value)\n                                                        clearErrors(\"district\")\n                                                    }}\n                                                />\n                                            </div>\n                                        </div>\n                                        : null}\n\n\n                                    {/* Area */}\n                                    {selectedDistrict ?\n                                        <div className=\"col-12 col-lg-6\">\n                                            <div className=\"form-group mb-4\">\n                                                {errors.area && errors.area.message ?\n                                                    <small className=\"text-danger\">{errors.area && errors.area.message}</small> :\n                                                    <small>Select Area<span className=\"text-danger\">*</span></small>\n                                                }\n\n                                                <SingleSelect\n                                                    options={areas}\n                                                    placeholder={'area'}\n                                                    borderRadius={4}\n                                                    error={errors.area && errors.area.message}\n                                                    value={(event) => {\n                                                        setSelectedArea(event)\n                                                        clearErrors(\"area\")\n                                                    }}\n                                                />\n                                            </div>\n                                        </div>\n                                        : null}\n\n                                    <div className=\"col-12 text-center py-3\">\n                                        <button className=\"btn shadow-none success-btn px-4 py-2\"\n                                            disabled={process.loading}\n                                        // onClick={processOrder}\n                                        >{process.loading ? \"Processing ...\" : \"Process Order\"}</button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                        : null\n                    }\n\n                    {/* Processing price */}\n                    {selectedItems && selectedItems.length && process.data ?\n                        <div className=\"col-12 py-3\">\n                            <div className=\"card border-0 shadow-sm\">\n                                <div className=\"card-body p-4\">\n                                    <div>\n                                        {/* Payment method */}\n                                        <div>\n                                            <div className=\"form-group mb-4\">\n                                                <p>Payment method</p>\n\n                                                <select\n                                                    name=\"paymentMethod\"\n                                                    className=\"form-control shadow-none\"\n                                                    defaultValue=\"COD\"\n                                                    onChange={(e) => setPaymentMethod(e.target.value)}\n                                                >\n                                                    <option value=\"\">--- Select Option ---</option>\n                                                    <option value=\"COD\">COD</option>\n                                                    <option value=\"Paid\">Paid</option>\n                                                    <option value=\"Partial Paid\">Partial Paid</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <PaymentMethodForm\n                                            loading={loading}\n                                            paymentMethod={paymentMethod}\n                                            value={data => payment(data)}\n                                        />\n                                    </div>\n                                    <div className=\"d-flex\">\n                                        <div>\n                                            <p className=\"text-muted mb-1\">Sub-Total</p>\n                                            <p className=\"text-muted mb-1\">Delivery charge </p>\n\n                                        </div>\n                                        <div className=\"ml-auto\">\n                                            <p className=\"text-muted mb-1\">: ৳. {CommaNumber(subTotal)}</p>\n                                            <p className=\"text-muted mb-1\">: ৳. {CommaNumber(deliveryCharge)}</p>\n                                        </div>\n                                    </div>\n                                    <hr className=\"my-2\" />\n                                    <div className=\"d-flex\">\n                                        <div>\n                                            <p className=\"mb-1\">Total</p>\n                                        </div>\n                                        <div className=\"ml-auto\">\n\n                                            <p className=\"mb-1\">: ৳. {CommaNumber(total)}</p>\n                                        </div>\n                                    </div>\n                                    <br />\n\n                                    <CouponApply\n                                        loading={coupon.loading}\n                                        message={coupon.message}\n                                        value={handleCoupon}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                        : null\n                    }\n\n                    {/* Customer selection */}\n                    {selectedItems && selectedItems.length && process.data ?\n                        <div className=\"col-12 py-3\">\n                            <div className=\"card border-0 shadow-sm\">\n                                <div className=\"card-header rounded border-0 bg-white p-3 p-lg-4\">\n                                    <div className=\"d-md-flex\">\n                                        <div><h5 className=\"mb-0\">Customer Information</h5></div>\n                                        <div className=\"ml-md-auto pt-3 pt-md-0\" style={{ width: 250 }}>\n                                            <SearchableSelect\n                                                placeholder=\"Search customer\"\n                                                search={handleCustomerSearch}\n                                                values={data => setSelectedCustomer(data)}\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"card-body border-top p-3 p-lg-4\">\n                                    <Customer\n                                        loading={placed}\n                                        data={selectedCustomer}\n                                        value={data => placeOrder(data)}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                        : null\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Create;\n"]},"metadata":{},"sourceType":"module"}