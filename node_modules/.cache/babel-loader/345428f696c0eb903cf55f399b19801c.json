{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\components\\\\form\\\\shipping\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport TimePicker from 'react-time-picker';\nimport { Controller, useForm } from 'react-hook-form';\nimport { MultiSelect, SearchableSelect } from '../../select';\nimport { DatePickerNew } from '../../datePickerNew/Index';\nimport Requests from '../../../utils/Requests/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShippingForm = props => {\n  _s();\n\n  const onClearRef = useRef();\n  const {\n    control,\n    register,\n    handleSubmit,\n    errors,\n    setError,\n    clearErrors\n  } = useForm();\n  const [assignTo, setAssignTo] = useState(props.data ? props.data.assign_to : 'Brand');\n  const [startDate, setStartDate] = useState(props.data && props.data.start_from ? props.data.start_from : new Date());\n  const [endDate, setEndDate] = useState(props.data && props.data.end_to ? props.data.end_to : new Date());\n  const [division, setDivision] = useState([]);\n  const [divisionLabel, setDivisionLabel] = useState(null);\n  const [districtLabel, setDistrictLabel] = useState(null);\n  const [selectedDivision, setSelectedDivision] = useState(props.data && props.data.division && props.data.division.length > 0 ? [...props.data.district.map(item => {\n    return item._id;\n  })] : []);\n  const [selectedDistrict, setSelectedDistrict] = useState(props.data && props.data.district && props.data.district.length > 0 ? [...props.data.district.map(item => {\n    return item._id;\n  })] : []);\n  const [area, setArea] = useState(props.data && props.data.area && props.data.area.length > 0 ? [...props.data.area.map(item => {\n    return item._id;\n  })] : []);\n  const [assignItems, setAssignItems] = useState(props.data && props.data.assign_items && props.data.assign_items.length > 0 ? [...props.data.assign_items.map(item => {\n    return item._id;\n  })] : []);\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  });\n  /* handle search */\n\n  const handleSearch = async data => {\n    try {\n      let response;\n      let results = [];\n\n      if (assignTo === \"Brand\") {\n        response = await Requests.Options.Brand(data, header);\n      } else if (assignTo === \"Category\") {\n        response = await Requests.Options.Category(data, header);\n      } else if (assignTo === \"Sub-category\") {\n        response = await Requests.Options.SubCategory(data, header);\n      } else if (assignTo === \"Leaf-category\") {\n        response = await Requests.Options.LeafCategory(data, header);\n      } else if (assignTo === \"Vendor\") {\n        response = await Requests.Options.Vendor(data, header);\n      } else if (assignTo === \"Product\") {\n        response = await Requests.Options.Product(data, header);\n      } else {\n        results = [];\n      }\n\n      if (response && response.data && response.data.length > 0) {\n        for (let i = 0; i < response.data.length; i++) {\n          const element = response.data[i];\n          results.push({\n            value: element.value,\n            label: element.label\n          });\n        }\n      }\n\n      return results;\n    } catch (error) {\n      if (error) {\n        console.log(error.response);\n      }\n    }\n  };\n  /* handle search area */\n\n\n  const handleSearchArea = async data => {\n    try {\n      let results = [];\n      const response = await Requests.Services.Shipping.Area.SearchbyDistrict(data, selectedDistrict, header);\n\n      if (response && response.data && response.data.length > 0) {\n        for (let i = 0; i < response.data.length; i++) {\n          const element = response.data[i];\n          results.push({\n            value: element._id,\n            label: `${element.post_office}(${element.post_office_bn_name})-${element.post_code}`\n          });\n        }\n      }\n\n      return results;\n    } catch (error) {\n      if (error) {\n        console.log(error.response);\n      }\n    }\n  }; // Fetch division data\n\n\n  const fetchDevisionData = useCallback(async page => {\n    try {\n      const items = [];\n      const response = await Requests.Services.Shipping.Division.Index(page, 10, header);\n\n      if (response) {\n        if (response.data && response.data.length > 0) {\n          for (let i = 0; i < response.data.length; i++) {\n            const element = response.data[i];\n            items.push({\n              label: element.name,\n              value: element._id\n            });\n          }\n        }\n      }\n\n      setDivision(items);\n    } catch (error) {\n      if (error) console.log(error);\n    }\n  }, [header]); // Handle district search\n\n  const handleDistrictSearch = async inputValue => {\n    try {\n      const items = [];\n      const response = await Requests.Services.Shipping.District.SearchbyDivision(inputValue, selectedDivision, header);\n\n      if (response) {\n        if (response.data && response.data.length > 0) {\n          for (let i = 0; i < response.data.length; i++) {\n            const element = response.data[i];\n            items.push({\n              label: element.name,\n              value: element._id\n            });\n          }\n        }\n      }\n\n      return items;\n    } catch (error) {\n      if (error) return [];\n    }\n  };\n\n  useEffect(() => {\n    fetchDevisionData(1);\n  }, [header, fetchDevisionData]);\n  /* submit form */\n\n  const onSubmit = async data => {\n    let is_error = false;\n\n    if (!selectedDivision.length) {\n      setError(\"selectedDivision\", {\n        type: \"manual\",\n        message: \"Division is required.\"\n      });\n      is_error = true;\n    } // if (!area) {\n    //     setError(\"area\", {\n    //         type: \"manual\",\n    //         message: `Area is required.`\n    //     })\n    //     is_error = true\n    // }\n\n\n    if (!assignItems.length) {\n      setError(\"assign_items\", {\n        type: \"manual\",\n        message: `${assignTo} is required.`\n      });\n      is_error = true;\n    } // Time validation check\n\n\n    if (data.start_time && data.end_time && startDate && endDate) {\n      if (Date.parse(startDate) === Date.parse(endDate)) {\n        if (data.start_time > data.end_time) {\n          setError(\"end_time\", {\n            type: \"manual\",\n            message: `End time is smaller or before time from the start time.`\n          });\n          is_error = true;\n        }\n      }\n    } // Maximum amount validation check\n\n\n    if (data.min_order_amount && data.max_order_amount) {\n      if (parseInt(data.min_order_amount) > parseInt(data.max_order_amount)) {\n        setError(\"max_order_amount\", {\n          type: \"manual\",\n          message: `Maximum order amount is smaller than the minimum order amount.`\n        });\n        is_error = true;\n      }\n    } // Maximum quantity validation check\n\n\n    if (data.min_quantity && data.max_quantity) {\n      if (parseInt(data.min_quantity) > parseInt(data.max_quantity)) {\n        setError(\"max_quantity\", {\n          type: \"manual\",\n          message: `Maximum quantity is smaller than the minimum quantity.`\n        });\n        is_error = true;\n      }\n    }\n\n    if (is_error) return;\n    const formData = { ...data,\n      division: selectedDivision,\n      district: selectedDistrict,\n      area: area,\n      assign_to: assignTo,\n      start_from: startDate,\n      end_to: endDate,\n      assign_items: JSON.stringify(assignItems)\n    }; // console.log(formData);\n\n    props.onSubmit(formData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.title && errors.title.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.title && errors.title.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter shipping title\",\n              defaultValue: props.data ? props.data.title : null,\n              ref: register({\n                required: \"Title is required\"\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.start_from && errors.start_from.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.start_from && errors.start_from.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Start date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(DatePickerNew, {\n              selected: data => {\n                setStartDate(data);\n\n                if (endDate && data) {\n                  if (Date.parse(endDate) < Date.parse(data)) {\n                    setError(\"start_from\", {\n                      type: \"manual\",\n                      message: `Start date is larger or after date from the end date.`\n                    });\n                  } else {\n                    clearErrors(\"start_from\");\n                  }\n                }\n              },\n              deafultValue: startDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.end_to && errors.end_to.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.end_to && errors.end_to.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"End date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(DatePickerNew, {\n              selected: data => {\n                setEndDate(data);\n\n                if (startDate && data) {\n                  if (Date.parse(startDate) > Date.parse(data)) {\n                    setError(\"end_to\", {\n                      type: \"manual\",\n                      message: `End date is smaller or before date from the start date.`\n                    });\n                  } else {\n                    clearErrors(\"end_to\");\n                  }\n                }\n              },\n              deafultValue: endDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.start_time && errors.start_time.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.start_time && errors.start_time.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Start time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Controller, {\n              name: \"start_time\",\n              control: control,\n              rules: {\n                required: \"Start time is required.\"\n              },\n              defaultValue: props.data ? props.data.start_time : null,\n              render: _ref => {\n                let {\n                  onChange,\n                  value\n                } = _ref;\n                return /*#__PURE__*/_jsxDEV(TimePicker, {\n                  value: props.data ? props.data.start_time : value,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 37\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.end_time && errors.end_time.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.end_time && errors.end_time.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"End time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Controller, {\n              name: \"end_time\",\n              control: control,\n              rules: {\n                required: \"End time is required.\"\n              },\n              defaultValue: props.data ? props.data.end_time : null,\n              render: _ref2 => {\n                let {\n                  onChange,\n                  value\n                } = _ref2;\n                return /*#__PURE__*/_jsxDEV(TimePicker, {\n                  value: props.data ? props.data.end_time : value,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 37\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.discount_type && errors.discount_type.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.discount_type && errors.discount_type.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Discount type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"discount_type\",\n              className: \"form-control shadow-none\",\n              ref: register({\n                required: \"Discount type is required\"\n              }),\n              defaultValue: props.data ? props.data.discount_type : null,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Flat\",\n                children: \"Flat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Percentage\",\n                children: \"Percentage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.discount_amount && errors.discount_amount.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.discount_amount && errors.discount_amount.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Discount amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"discount_amount\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.discount_amount : null,\n              ref: register({\n                required: \"Amount is required\"\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.min_order_amount && errors.min_order_amount.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.min_order_amount && errors.min_order_amount.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Minimum order amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              name: \"min_order_amount\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.min_order_amount : null,\n              ref: register()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.max_order_amount && errors.max_order_amount.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.max_order_amount && errors.max_order_amount.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Maximum order amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              name: \"max_order_amount\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.max_order_amount : null,\n              ref: register()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.min_quantity && errors.min_quantity.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.min_quantity && errors.min_quantity.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Minimum product quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              name: \"min_quantity\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.min_quantity : null,\n              ref: register()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.max_quantity && errors.max_quantity.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.max_quantity && errors.max_quantity.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Maximum product quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              name: \"max_quantity\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.max_quantity : null,\n              ref: register()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.selectedDivision && errors.selectedDivision.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger fs-13 mb-0\",\n              children: errors.selectedDivision && errors.selectedDivision.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"fs-13 mb-0\",\n              children: [\"Division \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-danger\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 70\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(MultiSelect, {\n              placeholder: \" division\",\n              deafult: props.data && props.data.division ? props.data.division : null,\n              options: division,\n              values: event => {\n                setSelectedDivision(event.map(item => {\n                  return item.value;\n                }));\n                event.map(item => setDivisionLabel(item.label));\n                clearErrors(\"selectedDivision\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 21\n        }, this), selectedDistrict && selectedDivision.length > 0 && divisionLabel !== \"All\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.selectedDistrict && errors.selectedDistrict.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger fs-13 mb-0\",\n              children: errors.selectedDistrict && errors.selectedDistrict.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"fs-13 mb-0\",\n              children: \" District \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(SearchableSelect, {\n              isMulti: true,\n              placeholder: \"Search district\",\n              defaultValue: // props.data && props.data.district ?\n              // {\n              //     label: props.data.district.name,\n              //     value: props.data.district._id\n              // }\n              props.data && props.data.district && props.data.district.length > 0 ? props.data.district.map(item => {\n                return {\n                  label: item.name,\n                  value: item._id\n                };\n              }) : null,\n              search: inputValue => handleDistrictSearch(inputValue),\n              values: data => {\n                setSelectedDistrict(data.map(item => {\n                  return item.value;\n                }));\n                data.map(item => setDistrictLabel(item.label));\n                clearErrors(\"selectedDistrict\");\n              },\n              borderRadius: 5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 25\n        }, this) : null, selectedDistrict && selectedDistrict.length > 0 && districtLabel !== \"All\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.area && errors.area.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.area && errors.area.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(SearchableSelect, {\n              isMulti: true,\n              borderRadius: 4,\n              refs: onClearRef,\n              placeholder: \"area\",\n              defaultValue: // props.data && props.data.area ?\n              // {\n              //     value: props.data.area._id,\n              //     label: `${props.data.area.post_office}(${props.data.area.post_office_bn_name})-${props.data.area.post_code}`\n              // }\n              // : null\n              props.data && props.data.area && props.data.area.length > 0 ? props.data.area.map(item => {\n                return {\n                  value: item._id,\n                  label: `${item.post_office}(${item.post_office_bn_name})-${item.post_code}`\n                };\n              }) : null,\n              search: query => handleSearchArea(query),\n              values: event => {\n                setArea(event.map(item => {\n                  return item.value;\n                }));\n                clearErrors(\"area\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 25\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Assign To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"assign_to\",\n              className: \"form-control shadow-none\",\n              ref: register({\n                required: \"Assign to is required\"\n              }),\n              defaultValue: props.data ? props.data.assign_to : null,\n              onChange: event => {\n                setAssignItems([]);\n                onClearRef.current.select.setState({\n                  value: null\n                });\n                clearErrors(\"assign_items\");\n                setAssignTo(event.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Brand\",\n                children: \"Brand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Category\",\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Sub-category\",\n                children: \"Sub-category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Leaf-category\",\n                children: \"Leaf-category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Vendor\",\n                children: \"Vendor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Product\",\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.assign_items && errors.assign_items.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.assign_items && errors.assign_items.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Select \", assignTo.toLowerCase()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(SearchableSelect, {\n              isMulti: true,\n              borderRadius: 4,\n              refs: onClearRef,\n              placeholder: assignTo,\n              defaultValue: props.data && props.data.assign_items && props.data.assign_items.length > 0 ? props.data.assign_items.map(item => {\n                return {\n                  label: item.name,\n                  value: item._id\n                };\n              }) : null,\n              search: query => handleSearch(query),\n              values: event => {\n                setAssignItems(event.map(item => {\n                  return item.value;\n                }));\n                clearErrors(\"assign_items\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn shadow-none\",\n          disabled: props.loading,\n          children: props.loading ? 'Loading...' : props.formType === \"edit\" ? \"Save changes\" : \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ShippingForm, \"/RP+QASrks/fNczmXbwOZZThYeg=\", false, function () {\n  return [useForm];\n});\n\n_c = ShippingForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShippingForm\");","map":{"version":3,"sources":["D:/previous/src/components/form/shipping/index.js"],"names":["React","useState","useRef","useEffect","useCallback","TimePicker","Controller","useForm","MultiSelect","SearchableSelect","DatePickerNew","Requests","ShippingForm","props","onClearRef","control","register","handleSubmit","errors","setError","clearErrors","assignTo","setAssignTo","data","assign_to","startDate","setStartDate","start_from","Date","endDate","setEndDate","end_to","division","setDivision","divisionLabel","setDivisionLabel","districtLabel","setDistrictLabel","selectedDivision","setSelectedDivision","length","district","map","item","_id","selectedDistrict","setSelectedDistrict","area","setArea","assignItems","setAssignItems","assign_items","header","headers","Authorization","localStorage","getItem","handleSearch","response","results","Options","Brand","Category","SubCategory","LeafCategory","Vendor","Product","i","element","push","value","label","error","console","log","handleSearchArea","Services","Shipping","Area","SearchbyDistrict","post_office","post_office_bn_name","post_code","fetchDevisionData","page","items","Division","Index","name","handleDistrictSearch","inputValue","District","SearchbyDivision","onSubmit","is_error","type","message","start_time","end_time","parse","min_order_amount","max_order_amount","parseInt","min_quantity","max_quantity","formData","JSON","stringify","title","required","onChange","discount_type","discount_amount","event","query","current","select","setState","target","toLowerCase","loading","formType"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react'\nimport TimePicker from 'react-time-picker'\nimport { Controller, useForm } from 'react-hook-form'\nimport { MultiSelect, SearchableSelect } from '../../select'\nimport { DatePickerNew } from '../../datePickerNew/Index'\nimport Requests from '../../../utils/Requests/Index'\n\n\nexport const ShippingForm = (props) => {\n    const onClearRef = useRef()\n    const { control, register, handleSubmit, errors, setError, clearErrors } = useForm()\n    const [assignTo, setAssignTo] = useState(props.data ? props.data.assign_to : 'Brand')\n    const [startDate, setStartDate] = useState(props.data && props.data.start_from ? props.data.start_from : new Date());\n    const [endDate, setEndDate] = useState(props.data && props.data.end_to ? props.data.end_to : new Date());\n    const [division, setDivision] = useState([])\n    const [divisionLabel, setDivisionLabel] = useState(null)\n    const [districtLabel, setDistrictLabel] = useState(null)\n\n    const [selectedDivision, setSelectedDivision] = useState(props.data && props.data.division && props.data.division.length > 0 ?\n        [...props.data.district.map(item => { return item._id })]\n        : [])\n    const [selectedDistrict, setSelectedDistrict] = useState(props.data && props.data.district && props.data.district.length > 0 ?\n        [...props.data.district.map(item => { return item._id })]\n        : [])\n    const [area, setArea] = useState(props.data && props.data.area && props.data.area.length > 0 ?\n        [...props.data.area.map(item => { return item._id })]\n        : [])\n    const [assignItems, setAssignItems] = useState(\n        props.data && props.data.assign_items && props.data.assign_items.length > 0 ?\n            [...props.data.assign_items.map(item => { return item._id })]\n            : []\n    )\n\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    /* handle search */\n    const handleSearch = async (data) => {\n        try {\n            let response\n            let results = []\n\n            if (assignTo === \"Brand\") {\n                response = await Requests.Options.Brand(data, header)\n            }\n\n            else if (assignTo === \"Category\") {\n                response = await Requests.Options.Category(data, header)\n            }\n\n            else if (assignTo === \"Sub-category\") {\n                response = await Requests.Options.SubCategory(data, header)\n            }\n\n            else if (assignTo === \"Leaf-category\") {\n                response = await Requests.Options.LeafCategory(data, header)\n            }\n\n            else if (assignTo === \"Vendor\") {\n                response = await Requests.Options.Vendor(data, header)\n            }\n\n            else if (assignTo === \"Product\") {\n                response = await Requests.Options.Product(data, header)\n            }\n\n            else {\n                results = []\n            }\n\n            if (response && response.data && response.data.length > 0) {\n                for (let i = 0; i < response.data.length; i++) {\n                    const element = response.data[i]\n                    results.push({\n                        value: element.value,\n                        label: element.label\n                    })\n                }\n            }\n\n            return results\n        } catch (error) {\n            if (error) {\n                console.log(error.response)\n            }\n        }\n    }\n\n    /* handle search area */\n    const handleSearchArea = async (data) => {\n        try {\n            let results = []\n\n            const response = await Requests.Services.Shipping.Area.SearchbyDistrict(data, selectedDistrict, header)\n            if (response && response.data && response.data.length > 0) {\n                for (let i = 0; i < response.data.length; i++) {\n                    const element = response.data[i]\n                    results.push({\n                        value: element._id,\n                        label: `${element.post_office}(${element.post_office_bn_name})-${element.post_code}`\n                    })\n                }\n            }\n\n            return results\n        } catch (error) {\n            if (error) {\n                console.log(error.response)\n            }\n        }\n    }\n\n    // Fetch division data\n    const fetchDevisionData = useCallback(async (page) => {\n        try {\n            const items = []\n            const response = await Requests.Services.Shipping.Division.Index(page, 10, header)\n            if (response) {\n                if (response.data && response.data.length > 0) {\n                    for (let i = 0; i < response.data.length; i++) {\n                        const element = response.data[i]\n                        items.push({\n                            label: element.name,\n                            value: element._id,\n                        })\n                    }\n                }\n            }\n            setDivision(items)\n        } catch (error) {\n            if (error) console.log(error);\n        }\n    }, [header])\n\n    // Handle district search\n    const handleDistrictSearch = async (inputValue) => {\n        try {\n            const items = []\n            const response = await Requests.Services.Shipping.District.SearchbyDivision(inputValue, selectedDivision, header)\n            if (response) {\n                if (response.data && response.data.length > 0) {\n                    for (let i = 0; i < response.data.length; i++) {\n                        const element = response.data[i]\n                        items.push({\n                            label: element.name,\n                            value: element._id,\n                        })\n                    }\n                }\n            }\n            return items\n        } catch (error) {\n            if (error) return []\n        }\n    }\n\n    useEffect(() => {\n        fetchDevisionData(1)\n    }, [header, fetchDevisionData])\n\n    /* submit form */\n    const onSubmit = async (data) => {\n        let is_error = false\n\n        if (!selectedDivision.length) {\n            setError(\"selectedDivision\", {\n                type: \"manual\",\n                message: \"Division is required.\"\n            })\n            is_error = true\n        }\n\n        // if (!area) {\n        //     setError(\"area\", {\n        //         type: \"manual\",\n        //         message: `Area is required.`\n        //     })\n        //     is_error = true\n        // }\n\n        if (!assignItems.length) {\n            setError(\"assign_items\", {\n                type: \"manual\",\n                message: `${assignTo} is required.`\n            })\n            is_error = true\n        }\n\n        // Time validation check\n        if (data.start_time && data.end_time && startDate && endDate) {\n            if (Date.parse(startDate) === Date.parse(endDate)) {\n                if (data.start_time > data.end_time) {\n                    setError(\"end_time\", {\n                        type: \"manual\",\n                        message: `End time is smaller or before time from the start time.`\n                    })\n                    is_error = true\n                }\n            }\n        }\n\n        // Maximum amount validation check\n        if (data.min_order_amount && data.max_order_amount) {\n            if (parseInt(data.min_order_amount) > parseInt(data.max_order_amount)) {\n                setError(\"max_order_amount\", {\n                    type: \"manual\",\n                    message: `Maximum order amount is smaller than the minimum order amount.`\n                })\n                is_error = true\n            }\n        }\n\n        // Maximum quantity validation check\n        if (data.min_quantity && data.max_quantity) {\n            if (parseInt(data.min_quantity) > parseInt(data.max_quantity)) {\n                setError(\"max_quantity\", {\n                    type: \"manual\",\n                    message: `Maximum quantity is smaller than the minimum quantity.`\n                })\n                is_error = true\n            }\n        }\n\n        if (is_error) return\n\n        const formData = {\n            ...data,\n            division: selectedDivision,\n            district: selectedDistrict,\n            area: area,\n            assign_to: assignTo,\n            start_from: startDate,\n            end_to: endDate,\n            assign_items: JSON.stringify(assignItems)\n        }\n        // console.log(formData);\n        props.onSubmit(formData)\n    }\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"row\">\n\n                    {/* Title */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            {errors.title && errors.title.message ? (\n                                <p className=\"text-danger\">{errors.title && errors.title.message}</p>\n                            ) : <p>Title</p>}\n\n                            <input\n                                type=\"text\"\n                                name=\"title\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter shipping title\"\n                                defaultValue={props.data ? props.data.title : null}\n                                ref={register({ required: \"Title is required\" })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Start from date */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.start_from && errors.start_from.message ? (\n                                <p className=\"text-danger\">{errors.start_from && errors.start_from.message}</p>\n                            ) : <p>Start date</p>}\n\n                            {/* <Controller\n                                name={\"start_from\"}\n                                control={control}\n                                rules={{ required: \"Start date is required.\" }}\n                                defaultValue={props.data ? props.data.start_from : null}\n                                render={({ onChange, value }) => (\n                                    <DatePicker\n                                        className=\"form-control shadow-none\"\n                                        placeholderText=\"Select date\"\n                                        selected={props.data ? new Date(props.data.start_from) : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            /> */}\n\n                            <DatePickerNew\n                                selected={data => {\n                                    setStartDate(data)\n                                    if (endDate && data) {\n                                        if (Date.parse(endDate) < Date.parse(data)) {\n                                            setError(\"start_from\", {\n                                                type: \"manual\",\n                                                message: `Start date is larger or after date from the end date.`\n                                            })\n                                        }\n                                        else {\n                                            clearErrors(\"start_from\")\n                                        }\n                                    }\n                                }}\n                                deafultValue={startDate}\n                            />\n                        </div>\n                    </div>\n\n                    {/* End to date */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.end_to && errors.end_to.message ? (\n                                <p className=\"text-danger\">{errors.end_to && errors.end_to.message}</p>\n                            ) : <p>End date</p>}\n\n                            {/* <Controller\n                                name={\"end_to\"}\n                                control={control}\n                                rules={{ required: \"End date is required.\" }}\n                                defaultValue={props.data ? props.data.end_to : null}\n                                render={({ onChange, value }) => (\n                                    <DatePicker\n                                        className=\"form-control shadow-none\"\n                                        placeholderText=\"Select date\"\n                                        selected={props.data ? new Date(props.data.end_to) : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            /> */}\n\n                            <DatePickerNew\n                                selected={data => {\n                                    setEndDate(data)\n                                    if (startDate && data) {\n                                        if (Date.parse(startDate) > Date.parse(data)) {\n                                            setError(\"end_to\", {\n                                                type: \"manual\",\n                                                message: `End date is smaller or before date from the start date.`\n                                            })\n                                        }\n                                        else {\n                                            clearErrors(\"end_to\")\n                                        }\n                                    }\n                                }}\n                                deafultValue={endDate}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Start Time */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.start_time && errors.start_time.message ? (\n                                <p className=\"text-danger\">{errors.start_time && errors.start_time.message}</p>\n                            ) : <p>Start time</p>}\n\n                            <Controller\n                                name={\"start_time\"}\n                                control={control}\n                                rules={{ required: \"Start time is required.\" }}\n                                defaultValue={props.data ? props.data.start_time : null}\n                                render={({ onChange, value }) => (\n                                    <TimePicker\n                                        value={props.data ? props.data.start_time : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            />\n                        </div>\n                    </div>\n\n                    {/* End Time */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.end_time && errors.end_time.message ? (\n                                <p className=\"text-danger\">{errors.end_time && errors.end_time.message}</p>\n                            ) : <p>End time</p>}\n\n                            <Controller\n                                name={\"end_time\"}\n                                control={control}\n                                rules={{ required: \"End time is required.\" }}\n                                defaultValue={props.data ? props.data.end_time : null}\n                                render={({ onChange, value }) => (\n                                    <TimePicker\n                                        value={props.data ? props.data.end_time : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Discount type */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.discount_type && errors.discount_type.message ? (\n                                <p className=\"text-danger\">{errors.discount_type && errors.discount_type.message}</p>\n                            ) : <p>Discount type</p>}\n\n                            <select\n                                name=\"discount_type\"\n                                className=\"form-control shadow-none\"\n                                ref={register({ required: \"Discount type is required\" })}\n                                defaultValue={props.data ? props.data.discount_type : null}\n                            >\n                                <option value=\"Flat\">Flat</option>\n                                <option value=\"Percentage\">Percentage</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {/* Discount amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.discount_amount && errors.discount_amount.message ? (\n                                <p className=\"text-danger\">{errors.discount_amount && errors.discount_amount.message}</p>\n                            ) : <p>Discount amount</p>}\n\n                            <input\n                                type=\"number\"\n                                name=\"discount_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.discount_amount : null}\n                                ref={register({ required: \"Amount is required\" })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Minimum order amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.min_order_amount && errors.min_order_amount.message ? (\n                                <p className=\"text-danger\">{errors.min_order_amount && errors.min_order_amount.message}</p>\n                            ) : <p>Minimum order amount</p>}\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"min_order_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.min_order_amount : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Maximum order amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.max_order_amount && errors.max_order_amount.message ? (\n                                <p className=\"text-danger\">{errors.max_order_amount && errors.max_order_amount.message}</p>\n                            ) : <p>Maximum order amount</p>}\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"max_order_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.max_order_amount : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Minimum product quantity */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.min_quantity && errors.min_quantity.message ? (\n                                <p className=\"text-danger\">{errors.min_quantity && errors.min_quantity.message}</p>\n                            ) : <p>Minimum product quantity</p>}\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"min_quantity\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.min_quantity : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Maximum product quantity */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.max_quantity && errors.max_quantity.message ? (\n                                <p className=\"text-danger\">{errors.max_quantity && errors.max_quantity.message}</p>\n                            ) : <p>Maximum product quantity</p>}\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"max_quantity\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.max_quantity : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Division */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            {errors.selectedDivision && errors.selectedDivision.message ?\n                                <p className=\"text-danger fs-13 mb-0\">{errors.selectedDivision && errors.selectedDivision.message}</p>\n                                : <p className=\"fs-13 mb-0\">Division <span className=\"text-danger\">*</span></p>}\n                            <MultiSelect\n                                placeholder=\" division\"\n                                deafult={props.data && props.data.division ? props.data.division : null}\n                                options={division}\n                                values={event => {\n                                    setSelectedDivision(event.map(item => { return item.value }))\n                                    event.map(item => setDivisionLabel(item.label))\n                                    clearErrors(\"selectedDivision\")\n                                }}\n                            />\n                        </div>\n                    </div>\n\n                    {/* select district */}\n                    {selectedDistrict && selectedDivision.length > 0 && divisionLabel !== \"All\" ?\n                        <div className=\"col-12\">\n                            <div className=\"form-group mb-4\">\n                                {errors.selectedDistrict && errors.selectedDistrict.message ?\n                                    <p className=\"text-danger fs-13 mb-0\">{errors.selectedDistrict && errors.selectedDistrict.message}</p>\n                                    : <p className=\"fs-13 mb-0\"> District </p>}\n\n                                <SearchableSelect\n                                    isMulti\n                                    placeholder=\"Search district\"\n                                    defaultValue={\n                                        // props.data && props.data.district ?\n                                        // {\n                                        //     label: props.data.district.name,\n                                        //     value: props.data.district._id\n                                        // }\n                                        props.data &&\n                                            props.data.district &&\n                                            props.data.district.length > 0 ?\n                                            props.data.district.map(item => {\n                                                return {\n                                                    label: item.name,\n                                                    value: item._id\n                                                }\n                                            })\n                                            : null\n                                    }\n                                    search={inputValue => handleDistrictSearch(inputValue)}\n                                    values={data => {\n                                        setSelectedDistrict(data.map(item => { return item.value }))\n                                        data.map(item => setDistrictLabel(item.label))\n                                        clearErrors(\"selectedDistrict\")\n                                    }\n                                    }\n                                    borderRadius={5}\n                                />\n                            </div>\n                        </div>\n                        : null}\n\n                    {/* Area */}\n                    {selectedDistrict && selectedDistrict.length > 0 && districtLabel !== \"All\" ?\n                        <div className=\"col-12\">\n                            <div className=\"form-group mb-4\">\n                                {errors.area && errors.area.message ? (\n                                    <p className=\"text-danger\">{errors.area && errors.area.message}</p>\n                                ) : <p>Area</p>}\n\n                                <SearchableSelect\n                                    isMulti\n                                    borderRadius={4}\n                                    refs={onClearRef}\n                                    placeholder={\"area\"}\n                                    defaultValue={\n                                        // props.data && props.data.area ?\n                                        // {\n                                        //     value: props.data.area._id,\n                                        //     label: `${props.data.area.post_office}(${props.data.area.post_office_bn_name})-${props.data.area.post_code}`\n                                        // }\n                                        // : null\n                                        props.data &&\n                                            props.data.area &&\n                                            props.data.area.length > 0 ?\n                                            props.data.area.map(item => {\n                                                return {\n                                                    value: item._id,\n                                                    label: `${item.post_office}(${item.post_office_bn_name})-${item.post_code}`\n                                                }\n                                            })\n                                            : null\n                                    }\n                                    search={query => handleSearchArea(query)}\n                                    values={event => {\n                                        setArea(event.map(item => { return item.value }))\n                                        clearErrors(\"area\")\n                                    }}\n                                />\n                            </div>\n                        </div>\n                        : null}\n\n                    {/* Assign To */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            <p>Assign To</p>\n\n                            <select\n                                name=\"assign_to\"\n                                className=\"form-control shadow-none\"\n                                ref={register({ required: \"Assign to is required\" })}\n                                defaultValue={props.data ? props.data.assign_to : null}\n                                onChange={event => {\n                                    setAssignItems([])\n                                    onClearRef.current.select.setState({ value: null })\n                                    clearErrors(\"assign_items\")\n                                    setAssignTo(event.target.value)\n                                }}\n                            >\n                                <option value=\"Brand\">Brand</option>\n                                <option value=\"Category\">Category</option>\n                                <option value=\"Sub-category\">Sub-category</option>\n                                <option value=\"Leaf-category\">Leaf-category</option>\n                                <option value=\"Vendor\">Vendor</option>\n                                <option value=\"Product\">Product</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {/* Assign items */}\n                    <div className='col-12'>\n                        <div className=\"form-group mb-4\">\n                            {errors.assign_items && errors.assign_items.message ? (\n                                <p className=\"text-danger\">{errors.assign_items && errors.assign_items.message}</p>\n                            ) : <p>Select {assignTo.toLowerCase()}</p>}\n\n                            <SearchableSelect\n                                isMulti\n                                borderRadius={4}\n                                refs={onClearRef}\n                                placeholder={assignTo}\n                                defaultValue={\n                                    props.data &&\n                                        props.data.assign_items &&\n                                        props.data.assign_items.length > 0 ?\n                                        props.data.assign_items.map(item => {\n                                            return {\n                                                label: item.name,\n                                                value: item._id\n                                            }\n                                        })\n                                        : null\n                                }\n                                search={query => handleSearch(query)}\n                                values={event => {\n                                    setAssignItems(event.map(item => { return item.value }))\n                                    clearErrors(\"assign_items\")\n                                }}\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                {/* Submit button */}\n                <div className=\"text-right\">\n                    <button type=\"submit\" className=\"btn shadow-none\" disabled={props.loading}>\n                        {props.loading ? 'Loading...' : props.formType === \"edit\" ? \"Save changes\" : \"Create\"}\n                    </button>\n                </div>\n            </form >\n        </div >\n    );\n}\n"]},"metadata":{},"sourceType":"module"}