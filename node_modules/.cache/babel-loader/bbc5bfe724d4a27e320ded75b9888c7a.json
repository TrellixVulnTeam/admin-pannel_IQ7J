{"ast":null,"code":"var _jsxFileName = \"D:\\\\previous\\\\src\\\\components\\\\form\\\\campaign\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react'; // import DatePicker from 'react-datepicker'\n\nimport TimePicker from 'react-time-picker';\nimport { Form } from 'react-bootstrap';\nimport { Controller, useForm } from 'react-hook-form';\nimport { SearchableSelect } from '../../select';\nimport { SingleFileUploader } from '../../fileUploader/Index';\nimport Requests from '../../../utils/Requests/Index';\nimport { DatePickerNew } from '../../datePickerNew/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL_SM = \"https://campaign.api.eazybest.com/uploads/campaign/sm/\";\nconst BASE_URL_LG = \"https://campaign.api.eazybest.com/uploads/campaign/lg/\";\nexport const CampaignForm = props => {\n  _s();\n\n  const onClearRef = useRef();\n  const {\n    control,\n    register,\n    handleSubmit,\n    errors,\n    setError,\n    clearErrors\n  } = useForm();\n  const [smImage, setSmImage] = useState(props.data ? BASE_URL_SM + props.data.banner_sm : null);\n  const [lgImage, setLgImage] = useState(props.data ? BASE_URL_LG + props.data.banner_lg : null);\n  const [smImageEdit, setSmImageEdit] = useState({\n    value: null,\n    error: null\n  });\n  const [lgImageEdit, setLgImageEdit] = useState({\n    value: null,\n    error: null\n  });\n  const [startDate, setStartDate] = useState(props.data && props.data.start_from_date ? props.data.start_from_date : new Date());\n  const [endDate, setEndDate] = useState(props.data && props.data.end_to_date ? props.data.end_to_date : new Date());\n  const [assignTo, setAssignTo] = useState(props.data ? props.data.assign_to : 'Brand');\n  const [assignItems, setAssignItems] = useState(props.data ? [...props.data.assign_items.map(item => {\n    return item._id;\n  })] : []);\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  });\n  /* handle search */\n\n  const handleSearch = async data => {\n    try {\n      let response;\n      let results = [];\n\n      if (assignTo === \"Brand\") {\n        response = await Requests.Options.Brand(data, header);\n      } else if (assignTo === \"Category\") {\n        response = await Requests.Options.Category(data, header);\n      } else if (assignTo === \"Sub-category\") {\n        response = await Requests.Options.SubCategory(data, header);\n      } else if (assignTo === \"Leaf-category\") {\n        response = await Requests.Options.LeafCategory(data, header);\n      } else if (assignTo === \"Vendor\") {\n        response = await Requests.Options.Vendor(data, header);\n      } else if (assignTo === \"Product\") {\n        response = await Requests.Options.Product(data, header);\n      } else {\n        results = [];\n      }\n\n      if (response && response.data && response.data.length > 0) {\n        for (let i = 0; i < response.data.length; i++) {\n          const element = response.data[i];\n          results.push({\n            value: element.value,\n            label: element.label\n          });\n        }\n      }\n\n      return results;\n    } catch (error) {\n      if (error) {\n        console.log(error.response);\n      }\n    }\n  };\n  /* submit form */\n\n\n  const onSubmit = async data => {\n    let is_error = false;\n\n    if (!smImage) {\n      setError(\"banner_sm\", {\n        type: \"manual\",\n        message: \"Small banner is required.\"\n      });\n      is_error = true;\n    }\n\n    if (!lgImage) {\n      setError(\"banner_lg\", {\n        type: \"manual\",\n        message: \"Large banner is required.\"\n      });\n      is_error = true;\n    }\n\n    if (!assignItems.length) {\n      setError(\"assign_items\", {\n        type: \"manual\",\n        message: `${assignTo} is required.`\n      });\n      is_error = true;\n    } // Time validation check\n\n\n    if (data.start_time && data.end_time && startDate && endDate) {\n      if (Date.parse(startDate) === Date.parse(endDate)) {\n        if (data.start_time > data.end_time) {\n          setError(\"end_time\", {\n            type: \"manual\",\n            message: `End time is smaller or before time from the start time.`\n          });\n          is_error = true;\n        }\n      }\n    } // Maximum amount validation check\n\n\n    if (data.min_order_amount && data.max_order_amount) {\n      if (parseInt(data.min_order_amount) > parseInt(data.max_order_amount)) {\n        setError(\"max_order_amount\", {\n          type: \"manual\",\n          message: `Maximum order amount is smaller than the minimum order amount.`\n        });\n        is_error = true;\n      }\n    } // Maximum quantity validation check\n\n\n    if (data.min_quantity && data.max_quantity) {\n      if (parseInt(data.min_quantity) > parseInt(data.max_quantity)) {\n        setError(\"max_quantity\", {\n          type: \"manual\",\n          message: `Maximum quantity is smaller than the minimum quantity.`\n        });\n        is_error = true;\n      }\n    }\n\n    if (is_error) return;\n    let formData = new FormData();\n    formData.append('title', data.title);\n    formData.append('description', data.description);\n    formData.append('start_from_date', startDate);\n    formData.append('end_to_date', endDate);\n    formData.append('start_time', data.start_time);\n    formData.append('end_time', data.end_time);\n    formData.append('discount_type', data.discount_type);\n    formData.append('discount_amount', data.discount_amount);\n    formData.append('min_order_amount', data.min_order_amount);\n    formData.append('max_order_amount', data.max_order_amount);\n    formData.append('min_quantity', data.min_quantity);\n    formData.append('max_quantity', data.max_quantity);\n    formData.append('assign_to', data.assign_to);\n    formData.append('is_active', data.is_active);\n    formData.append('is_cod_button_hidden', data.is_cod_button_hidden);\n    formData.append('assign_items', JSON.stringify(assignItems));\n    formData.append('banner_sm', smImage);\n    formData.append('banner_lg', lgImage);\n    props.onSubmit(formData);\n    console.log(assignItems);\n  };\n  /* submit update */\n\n\n  const onSubmitImages = () => {\n    let is_error = false;\n\n    if (!smImageEdit.value) {\n      setSmImageEdit({ ...smImageEdit,\n        error: \"Small banner is required.\"\n      });\n      is_error = true;\n    }\n\n    if (!lgImageEdit.value) {\n      setLgImageEdit({ ...lgImageEdit,\n        error: \"Large banner is required.\"\n      });\n      is_error = true;\n    }\n\n    if (is_error) return;\n    let formData = new FormData();\n    formData.append('banner_sm', smImageEdit.value);\n    formData.append('banner_lg', lgImageEdit.value);\n    props.onImgSubmit(formData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.title && errors.title.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.title && errors.title.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter campaign title\",\n              defaultValue: props.data ? props.data.title : null,\n              ref: register({\n                required: \"Title is required\"\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.description && errors.description.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.description && errors.description.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              rows: 4,\n              name: \"description\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter campaign title\",\n              defaultValue: props.data ? props.data.description : null,\n              ref: register({\n                required: \"Description is required\"\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.start_from_date && errors.start_from_date.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.start_from_date && errors.start_from_date.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Start date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(DatePickerNew, {\n              selected: data => {\n                setStartDate(data);\n\n                if (endDate && data) {\n                  if (Date.parse(endDate) < Date.parse(data)) {\n                    setError(\"start_from_date\", {\n                      type: \"manual\",\n                      message: `Start date is larger or after date from the end date.`\n                    });\n                  } else {\n                    clearErrors(\"start_from_date\");\n                  }\n                }\n              },\n              deafultValue: startDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.end_to_date && errors.end_to_date.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.end_to_date && errors.end_to_date.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"End date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(DatePickerNew, {\n              selected: data => {\n                setEndDate(data);\n\n                if (startDate && data) {\n                  if (Date.parse(startDate) > Date.parse(data)) {\n                    setError(\"end_to_date\", {\n                      type: \"manual\",\n                      message: `End date is smaller or before date from the start date.`\n                    });\n                  } else {\n                    clearErrors(\"end_to_date\");\n                  }\n                }\n              },\n              deafultValue: endDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.start_time && errors.start_time.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.start_time && errors.start_time.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Start time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Controller, {\n              name: \"start_time\",\n              control: control,\n              rules: {\n                required: \"Start time is required.\"\n              },\n              defaultValue: props.data ? props.data.start_time : null,\n              render: _ref => {\n                let {\n                  onChange,\n                  value\n                } = _ref;\n                return /*#__PURE__*/_jsxDEV(TimePicker, {\n                  value: props.data ? props.data.start_time : value,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 37\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.end_time && errors.end_time.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.end_time && errors.end_time.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"End time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Controller, {\n              name: \"end_time\",\n              control: control,\n              rules: {\n                required: \"End time is required.\"\n              },\n              defaultValue: props.data ? props.data.end_time : null,\n              render: _ref2 => {\n                let {\n                  onChange,\n                  value\n                } = _ref2;\n                return /*#__PURE__*/_jsxDEV(TimePicker, {\n                  value: props.data ? props.data.end_time : value,\n                  onChange: onChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 37\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.discount_type && errors.discount_type.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.discount_type && errors.discount_type.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Discount type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"discount_type\",\n              className: \"form-control shadow-none\",\n              ref: register({\n                required: \"Discount type is required\"\n              }),\n              defaultValue: props.data ? props.data.discount_type : null,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Flat\",\n                children: \"Flat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Percentage\",\n                children: \"Percentage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.discount_amount && errors.discount_amount.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.discount_amount && errors.discount_amount.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Discount amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"discount_amount\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.discount_amount : null,\n              ref: register({\n                required: \"Amount is required\"\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Minimum order amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              name: \"min_order_amount\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.min_order_amount : null,\n              ref: register()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.max_order_amount && errors.max_order_amount.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.max_order_amount && errors.max_order_amount.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Maximum order amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              name: \"max_order_amount\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.max_order_amount : null,\n              ref: register()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Minimum product quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              name: \"min_quantity\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.min_quantity : null,\n              ref: register()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.max_quantity && errors.max_quantity.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.max_quantity && errors.max_quantity.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Maximum product quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              name: \"max_quantity\",\n              className: \"form-control shadow-none\",\n              placeholder: \"Enter amount\",\n              defaultValue: props.data ? props.data.max_quantity : null,\n              ref: register()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Assign To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"assign_to\",\n              className: \"form-control shadow-none\",\n              ref: register({\n                required: \"Assign to is required\"\n              }),\n              defaultValue: props.data ? props.data.assign_to : null,\n              onChange: event => {\n                setAssignItems([]);\n                onClearRef.current.select.setState({\n                  value: null\n                });\n                clearErrors(\"assign_items\");\n                setAssignTo(event.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Brand\",\n                children: \"Brand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Category\",\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Sub-category\",\n                children: \"Sub-category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Leaf-category\",\n                children: \"Leaf-category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Vendor\",\n                children: \"Vendor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Product\",\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.assign_items && errors.assign_items.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.assign_items && errors.assign_items.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Select \", assignTo.toLowerCase()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(SearchableSelect, {\n              isMulti: true,\n              borderRadius: 4,\n              refs: onClearRef,\n              placeholder: assignTo,\n              defaultValue: props.data && props.data.assign_items && props.data.assign_items.length > 0 ? props.data.assign_items.map(item => {\n                return {\n                  label: item.name,\n                  value: item._id\n                };\n              }) : null,\n              search: query => handleSearch(query),\n              values: event => {\n                setAssignItems(event.map(item => {\n                  return item.value;\n                }));\n                clearErrors(\"assign_items\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              controlId: \"formBasicCheckbox\",\n              children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                type: \"checkbox\",\n                label: \"Make active\",\n                name: \"is_active\",\n                defaultChecked: props.data ? props.data.is_active : false,\n                ref: register()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              controlId: \"formBasicCheckbox1\",\n              children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                type: \"checkbox\",\n                label: \"Hide COD button.\",\n                name: \"is_cod_button_hidden\",\n                defaultChecked: props.data ? props.data.is_cod_button_hidden : false,\n                ref: register()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 21\n        }, this), props.formType && props.formType === \"create\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(SingleFileUploader, {\n            width: 200,\n            height: 120,\n            title: 'Small banner',\n            default: props.data ? BASE_URL_SM + props.data.banner_sm : null,\n            error: errors.banner_sm && errors.banner_sm.message ? errors.banner_sm.message : null,\n            dataHandeller: data => {\n              setSmImage(data.image);\n              clearErrors(\"banner_sm\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 25\n        }, this) : null, props.formType && props.formType === \"create\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(SingleFileUploader, {\n            width: 250,\n            height: 120,\n            title: 'Large banner',\n            default: props.data ? BASE_URL_LG + props.data.banner_lg : null,\n            error: errors.banner_lg && errors.banner_lg.message ? errors.banner_lg.message : null,\n            dataHandeller: data => {\n              setLgImage(data.image);\n              clearErrors(\"banner_lg\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 25\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn shadow-none\",\n          disabled: props.loading,\n          children: props.loading ? 'Loading...' : props.formType === \"edit\" ? \"Save changes\" : \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }, this), props.formType && props.formType === \"edit\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-lg-6\",\n        children: /*#__PURE__*/_jsxDEV(SingleFileUploader, {\n          width: 200,\n          height: 120,\n          title: 'Small banner',\n          default: props.data ? BASE_URL_SM + props.data.banner_sm : null,\n          error: smImageEdit.error || null,\n          dataHandeller: data => setSmImageEdit({\n            value: data.image,\n            error: null\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-lg-6\",\n        children: /*#__PURE__*/_jsxDEV(SingleFileUploader, {\n          width: 250,\n          height: 120,\n          title: 'Large banner',\n          default: props.data ? BASE_URL_LG + props.data.banner_lg : null,\n          error: lgImageEdit.error || null,\n          dataHandeller: data => setLgImageEdit({\n            value: data.image,\n            error: null\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary font-15 px-4 py-3 border-0 rounded shadow-none\",\n          disabled: props.imgLoading,\n          onClick: () => onSubmitImages(),\n          children: props.imgLoading ? 'Loading...' : \"Update images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CampaignForm, \"pTAnxJ1Bxaxl0nm7GlNDmrVjN6M=\", false, function () {\n  return [useForm];\n});\n\n_c = CampaignForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CampaignForm\");","map":{"version":3,"sources":["D:/previous/src/components/form/campaign/index.js"],"names":["React","useState","useRef","TimePicker","Form","Controller","useForm","SearchableSelect","SingleFileUploader","Requests","DatePickerNew","BASE_URL_SM","BASE_URL_LG","CampaignForm","props","onClearRef","control","register","handleSubmit","errors","setError","clearErrors","smImage","setSmImage","data","banner_sm","lgImage","setLgImage","banner_lg","smImageEdit","setSmImageEdit","value","error","lgImageEdit","setLgImageEdit","startDate","setStartDate","start_from_date","Date","endDate","setEndDate","end_to_date","assignTo","setAssignTo","assign_to","assignItems","setAssignItems","assign_items","map","item","_id","header","headers","Authorization","localStorage","getItem","handleSearch","response","results","Options","Brand","Category","SubCategory","LeafCategory","Vendor","Product","length","i","element","push","label","console","log","onSubmit","is_error","type","message","start_time","end_time","parse","min_order_amount","max_order_amount","parseInt","min_quantity","max_quantity","formData","FormData","append","title","description","discount_type","discount_amount","is_active","is_cod_button_hidden","JSON","stringify","onSubmitImages","onImgSubmit","required","onChange","event","current","select","setState","target","toLowerCase","name","query","formType","image","loading","imgLoading"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\n// import DatePicker from 'react-datepicker'\nimport TimePicker from 'react-time-picker'\nimport { Form } from 'react-bootstrap'\nimport { Controller, useForm } from 'react-hook-form'\n\nimport { SearchableSelect } from '../../select'\nimport { SingleFileUploader } from '../../fileUploader/Index'\nimport Requests from '../../../utils/Requests/Index'\nimport { DatePickerNew } from '../../datePickerNew/Index'\n\nconst BASE_URL_SM = \"https://campaign.api.eazybest.com/uploads/campaign/sm/\"\nconst BASE_URL_LG = \"https://campaign.api.eazybest.com/uploads/campaign/lg/\"\n\n\nexport const CampaignForm = (props) => {\n    const onClearRef = useRef()\n    const { control, register, handleSubmit, errors, setError, clearErrors } = useForm()\n    const [smImage, setSmImage] = useState(props.data ? BASE_URL_SM + props.data.banner_sm : null)\n    const [lgImage, setLgImage] = useState(props.data ? BASE_URL_LG + props.data.banner_lg : null)\n    const [smImageEdit, setSmImageEdit] = useState({ value: null, error: null })\n    const [lgImageEdit, setLgImageEdit] = useState({ value: null, error: null })\n    const [startDate, setStartDate] = useState(props.data && props.data.start_from_date ? props.data.start_from_date : new Date());\n    const [endDate, setEndDate] = useState(props.data && props.data.end_to_date ? props.data.end_to_date : new Date());\n\n    const [assignTo, setAssignTo] = useState(props.data ? props.data.assign_to : 'Brand')\n    const [assignItems, setAssignItems] = useState(\n        props.data ?\n            [...props.data.assign_items.map(item => { return item._id })]\n            : []\n    )\n\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    /* handle search */\n    const handleSearch = async (data) => {\n        try {\n            let response\n            let results = []\n\n            if (assignTo === \"Brand\") {\n                response = await Requests.Options.Brand(data, header)\n            }\n\n            else if (assignTo === \"Category\") {\n                response = await Requests.Options.Category(data, header)\n            }\n\n            else if (assignTo === \"Sub-category\") {\n                response = await Requests.Options.SubCategory(data, header)\n            }\n\n            else if (assignTo === \"Leaf-category\") {\n                response = await Requests.Options.LeafCategory(data, header)\n            }\n\n            else if (assignTo === \"Vendor\") {\n                response = await Requests.Options.Vendor(data, header)\n            }\n\n            else if (assignTo === \"Product\") {\n                response = await Requests.Options.Product(data, header)\n            }\n\n            else {\n                results = []\n            }\n\n            if (response && response.data && response.data.length > 0) {\n                for (let i = 0; i < response.data.length; i++) {\n                    const element = response.data[i]\n                    results.push({\n                        value: element.value,\n                        label: element.label\n                    })\n                }\n            }\n\n            return results\n        } catch (error) {\n            if (error) {\n                console.log(error.response)\n            }\n        }\n    }\n\n    /* submit form */\n    const onSubmit = async (data) => {\n        let is_error = false\n\n        if (!smImage) {\n            setError(\"banner_sm\", {\n                type: \"manual\",\n                message: \"Small banner is required.\"\n            })\n            is_error = true\n        }\n\n        if (!lgImage) {\n            setError(\"banner_lg\", {\n                type: \"manual\",\n                message: \"Large banner is required.\"\n            })\n            is_error = true\n        }\n\n        if (!assignItems.length) {\n            setError(\"assign_items\", {\n                type: \"manual\",\n                message: `${assignTo} is required.`\n            })\n            is_error = true\n        }\n\n        // Time validation check\n        if (data.start_time && data.end_time && startDate && endDate) {\n            if (Date.parse(startDate) === Date.parse(endDate)) {\n                if (data.start_time > data.end_time) {\n                    setError(\"end_time\", {\n                        type: \"manual\",\n                        message: `End time is smaller or before time from the start time.`\n                    })\n                    is_error = true\n                }\n            }\n        }\n\n        // Maximum amount validation check\n        if (data.min_order_amount && data.max_order_amount) {\n            if (parseInt(data.min_order_amount) > parseInt(data.max_order_amount)) {\n                setError(\"max_order_amount\", {\n                    type: \"manual\",\n                    message: `Maximum order amount is smaller than the minimum order amount.`\n                })\n                is_error = true\n            }\n        }\n\n        // Maximum quantity validation check\n        if (data.min_quantity && data.max_quantity) {\n            if (parseInt(data.min_quantity) > parseInt(data.max_quantity)) {\n                setError(\"max_quantity\", {\n                    type: \"manual\",\n                    message: `Maximum quantity is smaller than the minimum quantity.`\n                })\n                is_error = true\n            }\n        }\n\n        if (is_error) return\n\n        let formData = new FormData()\n        formData.append('title', data.title)\n        formData.append('description', data.description)\n\n        formData.append('start_from_date', startDate)\n        formData.append('end_to_date', endDate)\n        formData.append('start_time', data.start_time)\n        formData.append('end_time', data.end_time)\n\n        formData.append('discount_type', data.discount_type)\n        formData.append('discount_amount', data.discount_amount)\n        formData.append('min_order_amount', data.min_order_amount)\n        formData.append('max_order_amount', data.max_order_amount)\n        formData.append('min_quantity', data.min_quantity)\n        formData.append('max_quantity', data.max_quantity)\n        formData.append('assign_to', data.assign_to)\n        formData.append('is_active', data.is_active)\n        formData.append('is_cod_button_hidden', data.is_cod_button_hidden)\n        formData.append('assign_items', JSON.stringify(assignItems))\n        formData.append('banner_sm', smImage)\n        formData.append('banner_lg', lgImage)\n\n\n        props.onSubmit(formData)\n        console.log(assignItems)\n    }\n\n    /* submit update */\n    const onSubmitImages = () => {\n        let is_error = false\n\n        if (!smImageEdit.value) {\n            setSmImageEdit({ ...smImageEdit, error: \"Small banner is required.\" })\n            is_error = true\n        }\n\n        if (!lgImageEdit.value) {\n            setLgImageEdit({ ...lgImageEdit, error: \"Large banner is required.\" })\n            is_error = true\n        }\n\n        if (is_error) return\n\n        let formData = new FormData()\n        formData.append('banner_sm', smImageEdit.value)\n        formData.append('banner_lg', lgImageEdit.value)\n\n        props.onImgSubmit(formData)\n    }\n\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit(onSubmit)}>\n\n                <div className=\"row\">\n\n                    {/* Title */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            {errors.title && errors.title.message ? (\n                                <p className=\"text-danger\">{errors.title && errors.title.message}</p>\n                            ) : <p>Title</p>}\n\n                            <input\n                                type=\"text\"\n                                name=\"title\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter campaign title\"\n                                defaultValue={props.data ? props.data.title : null}\n                                ref={register({ required: \"Title is required\" })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Description */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            {errors.description && errors.description.message ? (\n                                <p className=\"text-danger\">{errors.description && errors.description.message}</p>\n                            ) : <p>Description</p>}\n\n                            <textarea\n                                type=\"text\"\n                                rows={4}\n                                name=\"description\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter campaign title\"\n                                defaultValue={props.data ? props.data.description : null}\n                                ref={register({ required: \"Description is required\" })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Start from date */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.start_from_date && errors.start_from_date.message ? (\n                                <p className=\"text-danger\">{errors.start_from_date && errors.start_from_date.message}</p>\n                            ) : <p>Start date</p>}\n\n                            {/* <Controller\n                                name={\"start_from_date\"}\n                                control={control}\n                                rules={{ required: \"Start date is required.\" }}\n                                defaultValue={props.data ? props.data.start_from_date : null}\n                                render={({ onChange,value }) => (\n                                    <DatePicker\n                                        className=\"form-control shadow-none\"\n                                        placeholderText=\"Select date\"\n                                        selected={props.data ? new Date(props.data.start_from_date) : value}\n                                        onChange={(date) => onChange(date)}\n                                    />\n                                )}\n                            /> */}\n\n                            <DatePickerNew\n                                selected={data => {\n                                    setStartDate(data)\n                                    if (endDate && data) {\n                                        if (Date.parse(endDate) < Date.parse(data)) {\n                                            setError(\"start_from_date\", {\n                                                type: \"manual\",\n                                                message: `Start date is larger or after date from the end date.`\n                                            })\n                                        }\n                                        else {\n                                            clearErrors(\"start_from_date\")\n                                        }\n                                    }\n                                }}\n                                deafultValue={startDate}\n                            />\n                        </div>\n                    </div>\n\n                    {/* End to date */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.end_to_date && errors.end_to_date.message ? (\n                                <p className=\"text-danger\">{errors.end_to_date && errors.end_to_date.message}</p>\n                            ) : <p>End date</p>}\n\n                            {/* <Controller\n                                name={\"end_to_date\"}\n                                control={control}\n                                rules={{ required: \"End date is required.\" }}\n                                defaultValue={props.data ? props.data.end_to_date : null}\n                                render={({ onChange, value }) => (\n                                    <DatePicker\n                                        className=\"form-control shadow-none\"\n                                        placeholderText=\"Select date\"\n                                        selected={props.data ? new Date(props.data.end_to_date) : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            /> */}\n\n                            <DatePickerNew\n                                selected={data => {\n                                    setEndDate(data)\n                                    if (startDate && data) {\n                                        if (Date.parse(startDate) > Date.parse(data)) {\n                                            setError(\"end_to_date\", {\n                                                type: \"manual\",\n                                                message: `End date is smaller or before date from the start date.`\n                                            })\n                                        }\n                                        else {\n                                            clearErrors(\"end_to_date\")\n                                        }\n                                    }\n                                }}\n                                deafultValue={endDate}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Start Time */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.start_time && errors.start_time.message ? (\n                                <p className=\"text-danger\">{errors.start_time && errors.start_time.message}</p>\n                            ) : <p>Start time</p>}\n\n                            <Controller\n                                name={\"start_time\"}\n                                control={control}\n                                rules={{ required: \"Start time is required.\" }}\n                                defaultValue={props.data ? props.data.start_time : null}\n                                render={({ onChange, value }) => (\n                                    <TimePicker\n                                        value={props.data ? props.data.start_time : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            />\n                        </div>\n                    </div>\n\n                    {/* End Time */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.end_time && errors.end_time.message ? (\n                                <p className=\"text-danger\">{errors.end_time && errors.end_time.message}</p>\n                            ) : <p>End time</p>}\n\n                            <Controller\n                                name={\"end_time\"}\n                                control={control}\n                                rules={{ required: \"End time is required.\" }}\n                                defaultValue={props.data ? props.data.end_time : null}\n                                render={({ onChange, value }) => (\n                                    <TimePicker\n                                        value={props.data ? props.data.end_time : value}\n                                        onChange={onChange}\n                                    />\n                                )}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Discount type */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.discount_type && errors.discount_type.message ? (\n                                <p className=\"text-danger\">{errors.discount_type && errors.discount_type.message}</p>\n                            ) : <p>Discount type</p>}\n\n                            <select\n                                name=\"discount_type\"\n                                className=\"form-control shadow-none\"\n                                ref={register({ required: \"Discount type is required\" })}\n                                defaultValue={props.data ? props.data.discount_type : null}\n                            >\n                                <option value=\"Flat\">Flat</option>\n                                <option value=\"Percentage\">Percentage</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {/* Discount amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.discount_amount && errors.discount_amount.message ? (\n                                <p className=\"text-danger\">{errors.discount_amount && errors.discount_amount.message}</p>\n                            ) : <p>Discount amount</p>}\n\n                            <input\n                                type=\"number\"\n                                name=\"discount_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.discount_amount : null}\n                                ref={register({ required: \"Amount is required\" })}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Minimum order amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            <p>Minimum order amount</p>\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"min_order_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.min_order_amount : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Maximum order amount */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.max_order_amount && errors.max_order_amount.message ? (\n                                <p className=\"text-danger\">{errors.max_order_amount && errors.max_order_amount.message}</p>\n                            ) : <p>Maximum order amount</p>}\n\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"max_order_amount\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.max_order_amount : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Minimum product quantity */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            <p>Minimum product quantity</p>\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"min_quantity\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.min_quantity : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Maximum product quantity */}\n                    <div className=\"col-12 col-lg-6\">\n                        <div className=\"form-group mb-4\">\n                            {errors.max_quantity && errors.max_quantity.message ? (\n                                <p className=\"text-danger\">{errors.max_quantity && errors.max_quantity.message}</p>\n                            ) : <p>Maximum product quantity</p>}\n\n\n                            <input\n                                type=\"number\"\n                                min={1}\n                                name=\"max_quantity\"\n                                className=\"form-control shadow-none\"\n                                placeholder=\"Enter amount\"\n                                defaultValue={props.data ? props.data.max_quantity : null}\n                                ref={register()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Assign To */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            <p>Assign To</p>\n\n                            <select\n                                name=\"assign_to\"\n                                className=\"form-control shadow-none\"\n                                ref={register({ required: \"Assign to is required\" })}\n                                defaultValue={props.data ? props.data.assign_to : null}\n                                onChange={event => {\n                                    setAssignItems([])\n                                    onClearRef.current.select.setState({ value: null })\n                                    clearErrors(\"assign_items\")\n                                    setAssignTo(event.target.value)\n                                }}\n                            >\n                                <option value=\"Brand\">Brand</option>\n                                <option value=\"Category\">Category</option>\n                                <option value=\"Sub-category\">Sub-category</option>\n                                <option value=\"Leaf-category\">Leaf-category</option>\n                                <option value=\"Vendor\">Vendor</option>\n                                <option value=\"Product\">Product</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {/* Assign items */}\n                    <div className='col-12'>\n                        <div className=\"form-group mb-4\">\n                            {errors.assign_items && errors.assign_items.message ? (\n                                <p className=\"text-danger\">{errors.assign_items && errors.assign_items.message}</p>\n                            ) : <p>Select {assignTo.toLowerCase()}</p>}\n\n                            <SearchableSelect\n                                isMulti\n                                borderRadius={4}\n                                refs={onClearRef}\n                                placeholder={assignTo}\n                                defaultValue={props.data && props.data.assign_items && props.data.assign_items.length > 0 ?\n                                    props.data.assign_items.map(item => {\n                                        return {\n                                            label: item.name,\n                                            value: item._id\n                                        }\n                                    })\n                                    : null\n                                }\n                                search={query => handleSearch(query)}\n                                values={event => {\n                                    setAssignItems(event.map(item => { return item.value }))\n                                    clearErrors(\"assign_items\")\n                                }}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Active-deactive checkbox */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n                                <Form.Check\n                                    type=\"checkbox\"\n                                    label=\"Make active\"\n                                    name=\"is_active\"\n                                    defaultChecked={props.data ? props.data.is_active : false}\n                                    ref={register()}\n                                />\n                            </Form.Group>\n                        </div>\n                    </div>\n\n                    {/* Enable-disable COD button */}\n                    <div className=\"col-12\">\n                        <div className=\"form-group mb-4\">\n                            <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox1\">\n                                <Form.Check\n                                    type=\"checkbox\"\n                                    label=\"Hide COD button.\"\n                                    name=\"is_cod_button_hidden\"\n                                    defaultChecked={props.data ? props.data.is_cod_button_hidden : false}\n                                    ref={register()}\n                                />\n                            </Form.Group>\n                        </div>\n                    </div>\n\n                    {/* Small image */}\n                    {props.formType && props.formType === \"create\" ?\n                        <div className=\"col-12 col-lg-6\">\n                            <SingleFileUploader\n                                width={200}\n                                height={120}\n                                title={'Small banner'}\n                                default={props.data ? BASE_URL_SM + props.data.banner_sm : null}\n                                error={errors.banner_sm && errors.banner_sm.message ? errors.banner_sm.message : null}\n                                dataHandeller={data => {\n                                    setSmImage(data.image)\n                                    clearErrors(\"banner_sm\")\n                                }}\n                            />\n                        </div>\n                        : null\n                    }\n\n                    {/* Large image */}\n                    {props.formType && props.formType === \"create\" ?\n                        <div className=\"col-12 col-lg-6\">\n                            <SingleFileUploader\n                                width={250}\n                                height={120}\n                                title={'Large banner'}\n                                default={props.data ? BASE_URL_LG + props.data.banner_lg : null}\n                                error={errors.banner_lg && errors.banner_lg.message ? errors.banner_lg.message : null}\n                                dataHandeller={data => {\n                                    setLgImage(data.image)\n                                    clearErrors(\"banner_lg\")\n                                }}\n                            />\n                        </div>\n                        : null\n                    }\n                </div>\n\n                {/* Submit button */}\n                <div className=\"text-right\">\n                    <button type=\"submit\" className=\"btn shadow-none\" disabled={props.loading}>\n                        {props.loading ? 'Loading...' : props.formType === \"edit\" ? \"Save changes\" : \"Create\"}\n                    </button>\n                </div>\n            </form>\n\n            {/* Image update section */}\n            {props.formType && props.formType === \"edit\" ?\n                <div className=\"row mt-4\">\n\n                    {/* Small image */}\n                    <div className=\"col-12 col-lg-6\">\n                        <SingleFileUploader\n                            width={200}\n                            height={120}\n                            title={'Small banner'}\n                            default={props.data ? BASE_URL_SM + props.data.banner_sm : null}\n                            error={smImageEdit.error || null}\n                            dataHandeller={data => setSmImageEdit({ value: data.image, error: null })}\n                        />\n                    </div>\n\n                    {/* Large image */}\n                    <div className=\"col-12 col-lg-6\">\n                        <SingleFileUploader\n                            width={250}\n                            height={120}\n                            title={'Large banner'}\n                            default={props.data ? BASE_URL_LG + props.data.banner_lg : null}\n                            error={lgImageEdit.error || null}\n                            dataHandeller={data => setLgImageEdit({ value: data.image, error: null })}\n                        />\n                    </div>\n\n                    <div className=\"col-12 text-center\">\n                        <button\n                            type=\"button\"\n                            className=\"btn btn-primary font-15 px-4 py-3 border-0 rounded shadow-none\"\n                            disabled={props.imgLoading}\n                            onClick={() => onSubmitImages()}\n                        >\n                            {props.imgLoading ? 'Loading...' : \"Update images\"}\n                        </button>\n                    </div>\n                </div>\n                : null\n            }\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}