{"ast":null,"code":"import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import'./style.scss';import Icon from'react-icons-kit';import{search}from'react-icons-kit/feather';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isTyping=_useState2[0],setTyping=_useState2[1];var _useState3=useState({value:null,error:false}),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var _useState5=useState({values:[],message:null}),_useState6=_slicedToArray(_useState5,2),result=_useState6[0],setResult=_useState6[1];// Handle search suggestion\nvar handleSuggestion=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var value,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:value=event.target.value;setTyping(true);setQuery({value:value,error:false});if(!value){setTyping(false);setResult({values:[],message:null});props.clear();}else{setResult({values:[],message:\"Searching ...\"});}_context.next=6;return props.suggestion(value);case 6:response=_context.sent;setResult({values:response.results,message:response.message});case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSuggestion(_x){return _ref.apply(this,arguments);};}();// Submit Form\nvar onSubmit=function onSubmit(event){event.preventDefault();setTyping(false);props.search(query.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-component\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:onSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:props.placeholder,onChange:handleSuggestion,className:query.error?\"form-control form-control-sm shadow-none error\":\"form-control form-control-sm shadow-none\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-sm shadow-none\",disabled:props.searchLoading,children:props.searchLoading?/*#__PURE__*/_jsx(\"div\",{className:\"btn-loader\"}):/*#__PURE__*/_jsx(Icon,{icon:search,size:18})})]})}),/*#__PURE__*/_jsx(\"div\",{className:isTyping?\"suggestion-container\":\"suggestion-container d-none\",children:result.message?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-capitalize mb-0\",children:result.message})}):result.values&&result.values.length?/*#__PURE__*/_jsx(\"ul\",{children:result.values.map(function(item,i){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){setTyping(false);props.search(item);},children:/*#__PURE__*/_jsx(\"p\",{className:\"text-capitalize m-0\",children:item})},i);})}):null})]});};export default Index;","map":{"version":3,"sources":["D:/previous/src/components/search/Index.js"],"names":["React","useState","Icon","search","Index","props","isTyping","setTyping","value","error","query","setQuery","values","message","result","setResult","handleSuggestion","event","target","clear","suggestion","response","results","onSubmit","preventDefault","placeholder","searchLoading","length","map","item","i"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport './style.scss'\nimport Icon from 'react-icons-kit'\nimport { search } from 'react-icons-kit/feather'\n\nconst Index = (props) => {\n    const [isTyping, setTyping] = useState(false)\n    const [query, setQuery] = useState({ value: null, error: false })\n    const [result, setResult] = useState({ values: [], message: null })\n\n    // Handle search suggestion\n    const handleSuggestion = async event => {\n        const value = event.target.value\n        setTyping(true)\n        setQuery({ value: value, error: false })\n\n        if (!value) {\n            setTyping(false)\n            setResult({ values: [], message: null })\n            props.clear()\n        } else {\n            setResult({ values: [], message: \"Searching ...\" })\n        }\n\n        const response = await props.suggestion(value)\n        setResult({ values: response.results, message: response.message })\n    }\n\n    // Submit Form\n    const onSubmit = event => {\n        event.preventDefault()\n        setTyping(false)\n        props.search(query.value)\n    }\n\n    return (\n        <div className=\"search-component\">\n\n            {/* Input form */}\n            <form onSubmit={onSubmit}>\n                <div className=\"input-container\">\n                    <input\n                        type=\"text\"\n                        placeholder={props.placeholder}\n                        onChange={handleSuggestion}\n                        className={query.error ? \"form-control form-control-sm shadow-none error\" : \"form-control form-control-sm shadow-none\"}\n                    />\n\n                    <button type=\"submit\" className=\"btn btn-sm shadow-none\" disabled={props.searchLoading}>\n                        {props.searchLoading ? <div className=\"btn-loader\"></div> : <Icon icon={search} size={18} />}\n                    </button>\n                </div>\n            </form>\n\n            {/* Suggestion container */}\n            <div className={isTyping ? \"suggestion-container\" : \"suggestion-container d-none\"}>\n                {result.message ?\n                    <div className=\"text-center py-3\">\n                        <p className=\"text-danger text-capitalize mb-0\">{result.message}</p>\n                    </div>\n\n                    : result.values && result.values.length ?\n                        <ul>\n                            {result.values.map((item, i) =>\n                                <li\n                                    key={i}\n                                    onClick={() => {\n                                        setTyping(false)\n                                        props.search(item)\n                                    }}\n                                >\n                                    <p className=\"text-capitalize m-0\">{item}</p>\n                                </li>\n                            )}\n                        </ul>\n                        : null\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}