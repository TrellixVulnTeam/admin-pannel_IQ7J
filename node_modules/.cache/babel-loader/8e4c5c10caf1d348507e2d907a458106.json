{"ast":null,"code":"import _objectSpread from\"D:/previous/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/previous/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/previous/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\previous\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import Icon from'react-icons-kit';import{Link}from'react-router-dom';import{chevronLeft}from'react-icons-kit/feather';import{SearchableSelect}from'../../components/select';import{Container}from'../../components/container';import{Card}from'../../components/card/Index';import{CustomButton}from'../../components/button';import Requests from'../../utils/Requests/Index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Create=function Create(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState('Brand'),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState({value:null,error:null}),_useState6=_slicedToArray(_useState5,2),item=_useState6[0],setItem=_useState6[1];var _useState7=useState({headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}),_useState8=_slicedToArray(_useState7,1),header=_useState8[0];// Handle type\nvar handleType=function handleType(event){setType(event.target.value);setItem({value:null,error:null});};// Handle search\nvar handleSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var inputValue,field,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:inputValue=_ref.inputValue,field=_ref.field;if(!field)response={data:[]};if(!(field===\"Brand\")){_context.next=6;break;}_context.next=5;return Requests.Options.Brand(inputValue,header);case 5:response=_context.sent;case 6:if(!(field===\"Vendor\")){_context.next=10;break;}_context.next=9;return Requests.Options.Vendor(inputValue,header);case 9:response=_context.sent;case 10:if(!(field===\"Category\")){_context.next=14;break;}_context.next=13;return Requests.Options.Category(inputValue,header);case 13:response=_context.sent;case 14:if(!(field===\"Sub-category\")){_context.next=18;break;}_context.next=17;return Requests.Options.SubCategory(inputValue,header);case 17:response=_context.sent;case 18:if(!(field===\"Leaf-category\")){_context.next=22;break;}_context.next=21;return Requests.Options.LeafCategory(inputValue,header);case 21:response=_context.sent;case 22:if(!(response.data&&response.data.length)){_context.next=24;break;}return _context.abrupt(\"return\",response.data);case 24:return _context.abrupt(\"return\",[]);case 25:case\"end\":return _context.stop();}}},_callee);}));return function handleSearch(_x){return _ref2.apply(this,arguments);};}();// Submit Form\nvar onSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var formData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;event.preventDefault();if(item.value){_context2.next=4;break;}return _context2.abrupt(\"return\",setItem({value:null,error:\"Select \".concat(type,\" first.\")}));case 4:setLoading(true);formData={type:type,item:item.value};_context2.next=8;return Requests.Deactivated.Store(formData,header);case 8:setLoading(false);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);if(_context2.t0)console.log(_context2.t0);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function onSubmit(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"pb-4\",children:/*#__PURE__*/_jsx(Container.Fluid,{children:/*#__PURE__*/_jsx(Container.Row,{children:/*#__PURE__*/_jsx(Container.Column,{className:\"col-padding\",children:/*#__PURE__*/_jsxs(Card.Simple,{className:\"border-0\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-white border-0 p-3 p-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Create new deactive\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/deactivated\",children:/*#__PURE__*/_jsx(CustomButton,{className:\"btn-primary border-0 rounded-circle circle__padding\",children:/*#__PURE__*/_jsx(Icon,{icon:chevronLeft,size:22})})})})]})}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-lg-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"i\",{children:\"Select the type which you want to deactivate.\"})}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",className:\"form-control shadow-none\",onChange:handleType,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Brand\",children:\"Brand\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Vendor\",children:\"Vendor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Category\",children:\"Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sub-category\",children:\"Sub Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Leaf-category\",children:\"Leaf Category\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[item.error?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(\"i\",{children:item.error})}):/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"i\",{children:[\"Select the \",type,\" which you want to deactivate.\"]})}),/*#__PURE__*/_jsx(SearchableSelect,{borderRadius:4,placeholder:type,search:function search(inputValue){return handleSearch({inputValue:inputValue,field:type});},values:function values(event){return setItem(_objectSpread(_objectSpread({},item),{},{value:event.value,error:null}));}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(CustomButton,{type:\"submit\",className:\"btn-primary border-0\",disabled:isLoading,children:isLoading?'Submitting...':'Submit'})})]})})]})})})})});};export default Create;","map":{"version":3,"sources":["D:/previous/src/pages/deactivated/Create.js"],"names":["React","useState","Icon","Link","chevronLeft","SearchableSelect","Container","Card","CustomButton","Requests","Create","isLoading","setLoading","type","setType","value","error","item","setItem","headers","Authorization","localStorage","getItem","header","handleType","event","target","handleSearch","inputValue","field","response","data","Options","Brand","Vendor","Category","SubCategory","LeafCategory","length","onSubmit","preventDefault","formData","Deactivated","Store","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Icon from 'react-icons-kit'\nimport { Link } from 'react-router-dom'\nimport { chevronLeft } from 'react-icons-kit/feather'\nimport { SearchableSelect } from '../../components/select'\nimport { Container } from '../../components/container'\nimport { Card } from '../../components/card/Index'\nimport { CustomButton } from '../../components/button'\nimport Requests from '../../utils/Requests/Index'\n\nconst Create = () => {\n    const [isLoading, setLoading] = useState(false)\n    const [type, setType] = useState('Brand')\n    const [item, setItem] = useState({ value: null, error: null })\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Handle type\n    const handleType = event => {\n        setType(event.target.value)\n        setItem({ value: null, error: null })\n    }\n\n    // Handle search\n    const handleSearch = async ({ inputValue, field }) => {\n        let response\n\n        if (!field) response = { data: [] }\n\n        if (field === \"Brand\") {\n            response = await Requests.Options.Brand(inputValue, header)\n        }\n\n        if (field === \"Vendor\") {\n            response = await Requests.Options.Vendor(inputValue, header)\n        }\n\n        if (field === \"Category\") {\n            response = await Requests.Options.Category(inputValue, header)\n        }\n\n        if (field === \"Sub-category\") {\n            response = await Requests.Options.SubCategory(inputValue, header)\n        }\n\n        if (field === \"Leaf-category\") {\n            response = await Requests.Options.LeafCategory(inputValue, header)\n        }\n\n\n        if (response.data && response.data.length) return response.data\n        return []\n    }\n\n    // Submit Form\n    const onSubmit = async (event) => {\n        try {\n            event.preventDefault()\n            if (!item.value) return setItem({ value: null, error: `Select ${type} first.` })\n\n            setLoading(true)\n            const formData = {\n                type,\n                item: item.value\n            }\n\n            await Requests.Deactivated.Store(formData, header)\n            setLoading(false)\n\n        } catch (error) {\n            if (error) console.log(error)\n        }\n    }\n\n    return (\n        <div className=\"pb-4\">\n            <Container.Fluid>\n                <Container.Row>\n                    <Container.Column className=\"col-padding\">\n                        <Card.Simple className=\"border-0\">\n                            <Card.Header className=\"bg-white border-0 p-3 p-lg-4\">\n                                <div className=\"d-flex\">\n                                    <div><h6 className=\"mb-0\">Create new deactive</h6></div>\n                                    <div className=\"ml-auto\">\n                                        <Link to=\"/dashboard/deactivated\">\n                                            <CustomButton className=\"btn-primary border-0 rounded-circle circle__padding\">\n                                                <Icon icon={chevronLeft} size={22} />\n                                            </CustomButton>\n                                        </Link>\n                                    </div>\n                                </div>\n                            </Card.Header>\n                            <Card.Body className=\"p-lg-4\">\n                                <form onSubmit={onSubmit}>\n\n                                    {/* Type */}\n                                    <div className=\"form-group mb-4\">\n                                        <p><i>Select the type which you want to deactivate.</i></p>\n\n                                        <select\n                                            name=\"type\"\n                                            className=\"form-control shadow-none\"\n                                            onChange={handleType}\n                                        >\n                                            <option value=\"Brand\">Brand</option>\n                                            <option value=\"Vendor\">Vendor</option>\n                                            <option value=\"Category\">Category</option>\n                                            <option value=\"Sub-category\">Sub Category</option>\n                                            <option value=\"Leaf-category\">Leaf Category</option>\n                                        </select>\n                                    </div>\n\n                                    {/* Item */}\n                                    <div className=\"form-group mb-4\">\n                                        {item.error ? <p className=\"text-danger\"><i>{item.error}</i></p> : <p><i>Select the {type} which you want to deactivate.</i></p>}\n\n                                        <SearchableSelect\n                                            borderRadius={4}\n                                            placeholder={type}\n                                            search={inputValue => handleSearch({ inputValue, field: type })}\n                                            values={event => setItem({ ...item, value: event.value, error: null })}\n                                        />\n                                    </div>\n\n                                    <div className=\"text-right\">\n                                        <CustomButton\n                                            type=\"submit\"\n                                            className=\"btn-primary border-0\"\n                                            disabled={isLoading}\n                                        >\n                                            {isLoading ? 'Submitting...' : 'Submit'}\n                                        </CustomButton>\n                                    </div>\n                                </form>\n                            </Card.Body>\n                        </Card.Simple>\n                    </Container.Column>\n                </Container.Row>\n            </Container.Fluid>\n        </div>\n    );\n};\n\nexport default Create;"]},"metadata":{},"sourceType":"module"}